/*! For license information please see main.e57e39a2.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),o=n(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var i=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case p:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case h:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return C(e(t))}catch(n){}}return null}var T,P,_=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function $(e){if(void 0===T)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||"",P=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+T+e+P}var z=!1;function R(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),l=o[0],s=o[1];if(l&&s){var i=l.split("\n"),c=s.split("\n");for(a=r=0;r<i.length&&!i[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===i.length||a===c.length)for(r=i.length-1,a=c.length-1;1<=r&&0<=a&&i[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(i[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||i[r]!==c[a]){var u="\n"+i[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$(n):""}function D(e){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function U(e){try{var t="";do{t+=D(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function L(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function I(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function O(e){if(L(e)!==e)throw Error(l(188))}function q(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=q(e)))return t;e=e.sibling}return null}var F=Array.isArray,B=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},W=[],H=-1;function G(e){return{current:e}}function V(e){0>H||(e.current=W[H],W[H]=null,H--)}function Q(e,t){H++,W[H]=e.current,e.current=t}var J=G(null),Y=G(null),K=G(null),X=G(null);function Z(e,t){switch(Q(K,t),Q(Y,e),Q(J,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Ku(e=Yu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(J),Q(J,t)}function ee(){V(J),V(Y),V(K)}function te(e){null!==e.memoizedState&&Q(X,e);var t=J.current,n=Ku(t,e.type);t!==n&&(Q(Y,e),Q(J,n))}function ne(e){Y.current===e&&(V(J),V(Y)),X.current===e&&(V(X),Ud._currentValue=M)}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,le=r.unstable_shouldYield,se=r.unstable_requestPaint,ie=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,fe=r.unstable_LowPriority,me=r.unstable_IdlePriority,he=r.log,ge=r.unstable_setDisableYieldValue,be=null,ye=null;function ve(e){if("function"===typeof he&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(be,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var Se=128,Ee=4194304;function je(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,l=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~a)?r=je(n):0!==(o&=s)?r=je(o):e||0!==(l=s&~l)&&(r=je(l)):0!==(s=n&~a)?r=je(s):0!==o?r=je(o):e||0!==(l=n&~l)&&(r=je(l)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(l=t&-t)||32===a&&0!==(4194176&l))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function _e(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ze(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ue(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:Kd(e.type)}var Le=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Le,Oe="__reactProps$"+Le,qe="__reactContainer$"+Le,Fe="__reactEvents$"+Le,Be="__reactListeners$"+Le,Me="__reactHandles$"+Le,We="__reactResources$"+Le,He="__reactMarker$"+Le;function Ge(e){delete e[Ie],delete e[Oe],delete e[Fe],delete e[Be],delete e[Me]}function Ve(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Ie]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=id(e);null!==e;){if(n=e[Ie])return n;e=id(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ie]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ye(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[He]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(a=t,re.call(ot,a)||!re.call(at,a)&&(rt.test(a)?ot[a]=!0:(at[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ht(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,a,o,l,s){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?yt(e,l,ct(t)):null!=n?yt(e,l,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=o&&(e.defaultChecked=!!o),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function bt(e,t,n,r,a,o,l,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(l(92));if(F(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Et(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _t=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var $t=null,zt=null;function Rt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ht(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Oe]||null;if(!a)throw Error(l(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&vt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Ut(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==$t||null!==zt)&&(Ic(),$t&&(t=$t,e=zt,zt=$t=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var It=!1;if(nt)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){It=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(wp){It=!1}var qt=null,Ft=null,Bt=null;function Mt(){if(Bt)return Bt;var e,t,n=Ft,r=n.length,a="value"in qt?qt.value:qt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[o-t];t++);return Bt=a.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Gt(){return!1}function Vt(e){function t(t,n,r,a,o){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Ht:Gt,this.isPropagationStopped=Gt,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Qt,Jt,Yt,Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Vt(Kt),Zt=A({},Kt,{view:0,detail:0}),en=Vt(Zt),tn=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Qt=e.screenX-Yt.screenX,Jt=e.screenY-Yt.screenY):Jt=Qt=0,Yt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),nn=Vt(tn),rn=Vt(A({},tn,{dataTransfer:0})),an=Vt(A({},Zt,{relatedTarget:0})),on=Vt(A({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Vt(A({},Kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),sn=Vt(A({},Kt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return pn}var mn=Vt(A({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),hn=Vt(A({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Vt(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),bn=Vt(A({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Vt(A({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Vt(A({},Kt,{newState:0,oldState:0})),xn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,kn=null;nt&&"documentMode"in document&&(kn=document.documentMode);var Sn=nt&&"TextEvent"in window&&!kn,En=nt&&(!wn||kn&&8<kn&&11>=kn),jn=String.fromCharCode(32),Nn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_n[e.type]:"textarea"===t}function $n(e,t,n,r){$t?zt?zt.push(r):zt=[r]:$t=r,0<(t=Uu(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Rn=null;function Dn(e){Tu(e,0)}function Un(e){if(pt(Je(e)))return e}function Ln(e,t){if("change"===e)return t}var In=!1;if(nt){var On;if(nt){var qn="oninput"in document;if(!qn){var Fn=document.createElement("div");Fn.setAttribute("oninput","return;"),qn="function"===typeof Fn.oninput}On=qn}else On=!1;In=On&&(!document.documentMode||9<document.documentMode)}function Bn(){zn&&(zn.detachEvent("onpropertychange",Mn),Rn=zn=null)}function Mn(e){if("value"===e.propertyName&&Un(Rn)){var t=[];$n(t,Rn,e,At(e)),Ut(Dn,t)}}function Wn(e,t,n){"focusin"===e?(Bn(),Rn=n,(zn=t).attachEvent("onpropertychange",Mn)):"focusout"===e&&Bn()}function Hn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Rn)}function Gn(e,t){if("click"===e)return Un(t)}function Vn(e,t){if("input"===e||"change"===e)return Un(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Qn(e[a],t[a]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var a=t.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!n.extend&&o>r&&(a=r,r=o,o=a),a=Kn(t,o);var l=Kn(t,r);a&&l&&(1!==n.rangeCount||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&((e=e.createRange()).setStart(a.node,a.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,or=null,lr=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Jn(or,r)||(or=r,0<(r=Uu(ar,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},ur={},dr={};function pr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=pr("animationend"),mr=pr("animationiteration"),hr=pr("animationstart"),gr=pr("transitionrun"),br=pr("transitionstart"),yr=pr("transitioncancel"),vr=pr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),et(t,[e])}var Sr=[],Er=0,jr=0;function Nr(){for(var e=Er,t=jr=Er=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var a=Sr[t];Sr[t++]=null;var o=Sr[t];if(Sr[t++]=null,null!==r&&null!==a){var l=r.pending;null===l?a.next=a:(a.next=l.next,l.next=a),r.pending=a}0!==o&&_r(n,a,o)}}function Cr(e,t,n,r){Sr[Er++]=e,Sr[Er++]=t,Sr[Er++]=n,Sr[Er++]=r,jr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Cr(e,t,n,r),Ar(e)}function Pr(e,t){return Cr(e,null,null,t),Ar(e)}function _r(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(a=!0)),e=o,o=o.return;a&&null!==t&&3===e.tag&&(o=e.stateNode,a=31-xe(n),null===(e=(o=o.hiddenUpdates)[a])?o[a]=[t]:e.push(t),t.lane=536870912|n)}function Ar(e){if(50<Tc)throw Tc=0,Pc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var $r={},zr=new WeakMap;function Rr(e,t){if("object"===typeof e&&null!==e){var n=zr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:U(t)},zr.set(e,t),t)}return{value:e,source:t,stack:U(t)}}var Dr=[],Ur=0,Lr=null,Ir=0,Or=[],qr=0,Fr=null,Br=1,Mr="";function Wr(e,t){Dr[Ur++]=Ir,Dr[Ur++]=Lr,Lr=e,Ir=t}function Hr(e,t,n){Or[qr++]=Br,Or[qr++]=Mr,Or[qr++]=Fr,Fr=e;var r=Br;e=Mr;var a=32-xe(r)-1;r&=~(1<<a),n+=1;var o=32-xe(t)+a;if(30<o){var l=a-a%5;o=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Br=1<<32-xe(t)+a|n<<a|r,Mr=o+e}else Br=1<<o|n<<a|r,Mr=e}function Gr(e){null!==e.return&&(Wr(e,1),Hr(e,1,0))}function Vr(e){for(;e===Lr;)Lr=Dr[--Ur],Dr[Ur]=null,Ir=Dr[--Ur],Dr[Ur]=null;for(;e===Fr;)Fr=Or[--qr],Or[qr]=null,Mr=Or[--qr],Or[qr]=null,Br=Or[--qr],Or[qr]=null}var Qr=null,Jr=null,Yr=!1,Kr=null,Xr=!1,Zr=Error(l(519));function ea(e){throw oa(Rr(Error(l(418,"")),e)),Zr}function ta(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ie]=e,t[Oe]=r,n){case"dialog":Pu("cancel",t),Pu("close",t);break;case"iframe":case"object":case"embed":Pu("load",t);break;case"video":case"audio":for(n=0;n<Nu.length;n++)Pu(Nu[n],t);break;case"source":Pu("error",t);break;case"img":case"image":case"link":Pu("error",t),Pu("load",t);break;case"details":Pu("toggle",t);break;case"input":Pu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Pu("invalid",t);break;case"textarea":Pu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Bu(t.textContent,n)?(null!=r.popover&&(Pu("beforetoggle",t),Pu("toggle",t)),null!=r.onScroll&&Pu("scroll",t),null!=r.onScrollEnd&&Pu("scrollend",t),null!=r.onClick&&(t.onclick=Mu),t=!0):t=!1,t||ea(e)}function na(e){for(Qr=e.return;Qr;)switch(Qr.tag){case 3:case 27:return void(Xr=!0);case 5:case 13:return void(Xr=!1);default:Qr=Qr.return}}function ra(e){if(e!==Qr)return!1;if(!Yr)return na(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Xu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Jr&&ea(e),na(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Jr=sd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Jr=null}}else Jr=Qr?sd(e.stateNode.nextSibling):null;return!0}function aa(){Jr=Qr=null,Yr=!1}function oa(e){null===Kr?Kr=[e]:Kr.push(e)}var la=Error(l(460)),sa=Error(l(474)),ia={then:function(){}};function ca(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ua(){}function da(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ua,ua),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===la)throw Error(l(483));throw e;default:if("string"===typeof t.status)t.then(ua,ua);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===la)throw Error(l(483));throw e}throw pa=t,la}}var pa=null;function fa(){if(null===pa)throw Error(l(459));var e=pa;return pa=null,e}var ma=null,ha=0;function ga(e){var t=ha;return ha+=1,null===ma&&(ma=[]),da(ma,e,t)}function ba(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ya(e,t){if(t.$$typeof===i)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Li(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=Bi(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n,r){var o=n.type;return o===d?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===w&&va(o)===t.type)?(ba(t=a(t,n.props),n),t.return=e,t):(ba(t=Oi(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mi(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function m(e,t,n,r,o){return null===t||7!==t.tag?((t=qi(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return ba(n=Oi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Mi(t,e.mode,n)).return=e,t;case w:return h(e,t=(0,t._init)(t._payload),n)}if(F(t)||j(t))return(t=qi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ga(t),n);if(t.$$typeof===g)return h(e,Ns(e,t),n);ya(e,t)}return null}function b(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:i(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===a?p(e,t,n,r):null;case u:return n.key===a?f(e,t,n,r):null;case w:return b(e,t,n=(a=n._init)(n._payload),r)}if(F(n)||j(n))return null!==a?null:m(e,t,n,r,null);if("function"===typeof n.then)return b(e,t,ga(n),r);if(n.$$typeof===g)return b(e,t,Ns(e,n),r);ya(e,n)}return null}function y(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return i(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return p(t,e=e.get(null===r.key?n:r.key)||null,r,a);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(F(r)||j(r))return m(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return y(e,t,n,ga(r),a);if(r.$$typeof===g)return y(e,t,n,Ns(t,r),a);ya(t,r)}return null}function v(i,p,f,m){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var x=f.key;null!==p;){if(p.key===x){if((x=f.type)===d){if(7===p.tag){n(i,p.sibling),(m=a(p,f.props.children)).return=i,i=m;break e}}else if(p.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===w&&va(x)===p.type){n(i,p.sibling),ba(m=a(p,f.props),f),m.return=i,i=m;break e}n(i,p);break}t(i,p),p=p.sibling}f.type===d?((m=qi(f.props.children,i.mode,m,f.key)).return=i,i=m):(ba(m=Oi(f.type,f.key,f.props,null,i.mode,m),f),m.return=i,i=m)}return s(i);case u:e:{for(x=f.key;null!==p;){if(p.key===x){if(4===p.tag&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){n(i,p.sibling),(m=a(p,f.children||[])).return=i,i=m;break e}n(i,p);break}t(i,p),p=p.sibling}(m=Mi(f,i.mode,m)).return=i,i=m}return s(i);case w:return v(i,p,f=(x=f._init)(f._payload),m)}if(F(f))return function(a,l,s,i){for(var c=null,u=null,d=l,p=l=0,f=null;null!==d&&p<s.length;p++){d.index>p?(f=d,d=null):f=d.sibling;var m=b(a,d,s[p],i);if(null===m){null===d&&(d=f);break}e&&d&&null===m.alternate&&t(a,d),l=o(m,l,p),null===u?c=m:u.sibling=m,u=m,d=f}if(p===s.length)return n(a,d),Yr&&Wr(a,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(a,s[p],i))&&(l=o(d,l,p),null===u?c=d:u.sibling=d,u=d);return Yr&&Wr(a,p),c}for(d=r(d);p<s.length;p++)null!==(f=y(d,a,p,s[p],i))&&(e&&null!==f.alternate&&d.delete(null===f.key?p:f.key),l=o(f,l,p),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(a,e)})),Yr&&Wr(a,p),c}(i,p,f,m);if(j(f)){if("function"!==typeof(x=j(f)))throw Error(l(150));return function(a,s,i,c){if(null==i)throw Error(l(151));for(var u=null,d=null,p=s,f=s=0,m=null,g=i.next();null!==p&&!g.done;f++,g=i.next()){p.index>f?(m=p,p=null):m=p.sibling;var v=b(a,p,g.value,c);if(null===v){null===p&&(p=m);break}e&&p&&null===v.alternate&&t(a,p),s=o(v,s,f),null===d?u=v:d.sibling=v,d=v,p=m}if(g.done)return n(a,p),Yr&&Wr(a,f),u;if(null===p){for(;!g.done;f++,g=i.next())null!==(g=h(a,g.value,c))&&(s=o(g,s,f),null===d?u=g:d.sibling=g,d=g);return Yr&&Wr(a,f),u}for(p=r(p);!g.done;f++,g=i.next())null!==(g=y(p,a,f,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?f:g.key),s=o(g,s,f),null===d?u=g:d.sibling=g,d=g);return e&&p.forEach((function(e){return t(a,e)})),Yr&&Wr(a,f),u}(i,p,f=x.call(f),m)}if("function"===typeof f.then)return v(i,p,ga(f),m);if(f.$$typeof===g)return v(i,p,Ns(i,f),m);ya(i,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==p&&6===p.tag?(n(i,p.sibling),(m=a(p,f)).return=i,i=m):(n(i,p),(m=Bi(f,i.mode,m)).return=i,i=m),s(i)):n(i,p)}return function(e,t,n,r){try{ha=0;var a=v(e,t,n,r);return ma=null,a}catch(l){if(l===la)throw l;var o=Di(29,l,null,e.mode);return o.lanes=r,o.return=e,o}}}var wa=xa(!0),ka=xa(!1),Sa=G(null),Ea=G(0);function ja(e,t){Q(Ea,e=cc),Q(Sa,t),cc=e|t.baseLanes}function Na(){Q(Ea,cc),Q(Sa,Sa.current)}function Ca(){cc=Ea.current,V(Sa),V(Ea)}var Ta=G(null),Pa=null;function _a(e){var t=e.alternate;Q(Ra,1&Ra.current),Q(Ta,e),null===Pa&&(null===t||null!==Sa.current||null!==t.memoizedState)&&(Pa=e)}function Aa(e){if(22===e.tag){if(Q(Ra,Ra.current),Q(Ta,e),null===Pa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Pa=e)}}else $a()}function $a(){Q(Ra,Ra.current),Q(Ta,Ta.current)}function za(e){V(Ta),Pa===e&&(Pa=null),V(Ra)}var Ra=G(0);function Da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},La=r.unstable_scheduleCallback,Ia=r.unstable_NormalPriority,Oa={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qa(){return{controller:new Ua,data:new Map,refCount:0}}function Fa(e){e.refCount--,0===e.refCount&&La(Ia,(function(){e.controller.abort()}))}var Ba=null,Ma=0,Wa=0,Ha=null;function Ga(){if(0===--Ma&&null!==Ba){null!==Ha&&(Ha.status="fulfilled");var e=Ba;Ba=null,Wa=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Va=_.S;_.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ba){var n=Ba=[];Ma=0,Wa=wu(),Ha={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ma++,t.then(Ga,Ga)}(0,t),null!==Va&&Va(e,t)};var Qa=G(null);function Ja(){var e=Qa.current;return null!==e?e:tc.pooledCache}function Ya(e,t){Q(Qa,null===t?Qa.current:t.pool)}function Ka(){var e=Ja();return null===e?null:{parent:Oa._currentValue,pool:e}}var Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1,ao=!1,oo=0,lo=0,so=null,io=0;function co(){throw Error(l(321))}function uo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function po(e,t,n,r,a,o){return Xa=o,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=null===e||null===e.memoizedState?Nl:Cl,ao=!1,o=n(r,a),ao=!1,ro&&(o=mo(t,n,r,a)),fo(e),o}function fo(e){_.H=jl;var t=null!==eo&&null!==eo.next;if(Xa=0,to=eo=Za=null,no=!1,lo=0,so=null,t)throw Error(l(300));null===e||Wl||null!==(e=e.dependencies)&&Ss(e)&&(Wl=!0)}function mo(e,t,n,r){Za=e;var a=0;do{if(ro&&(so=null),lo=0,ro=!1,25<=a)throw Error(l(301));if(a+=1,to=eo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}_.H=Tl,o=t(n,r)}while(ro);return o}function ho(){var e=_.H,t=e.useState()[0];return t="function"===typeof t.then?wo(t):t,e=e.useState()[0],(null!==eo?eo.memoizedState:null)!==e&&(Za.flags|=1024),t}function go(){var e=0!==oo;return oo=0,e}function bo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yo(e){if(no){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}no=!1}Xa=0,to=eo=Za=null,ro=!1,lo=oo=0,so=null}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function xo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e){if(null===Za.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function wo(e){var t=lo;return lo+=1,null===so&&(so=[]),e=da(so,e,t),t=Za,null===(null===to?t.memoizedState:to.next)&&(t=t.alternate,_.H=null===t||null===t.memoizedState?Nl:Cl),e}function ko(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return wo(e);if(e.$$typeof===g)return js(e)}throw Error(l(438,String(e)))}function So(e){var t=null,n=Za.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Za.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Za.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Eo(e,t){return"function"===typeof t?t(e):t}function jo(e){return No(xo(),eo,e)}function No(e,t,n){var r=e.queue;if(null===r)throw Error(l(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var i=s=null,c=null,u=t=a.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(rc&p)===p:(Xa&p)===p){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Wa&&(d=!0);else{if((Xa&f)===f){u=u.next,f===Wa&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(i=c=p,s=o):c=c.next=p,Za.lanes|=f,dc|=f}p=u.action,ao&&n(o,p),o=u.hasEagerState?u.eagerState:n(o,p)}else f={lane:p,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(i=c=f,s=o):c=c.next=f,Za.lanes|=p,dc|=p;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=i,!Qn(o,e.memoizedState)&&(Wl=!0,d&&null!==(n=Ha)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Co(e){var t=xo(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);Qn(o,t.memoizedState)||(Wl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(e,t,n){var r=Za,a=xo(),o=Yr;if(o){if(void 0===n)throw Error(l(407));n=n()}else n=t();var s=!Qn((eo||a).memoizedState,n);if(s&&(a.memoizedState=n,Wl=!0),a=a.queue,Zo(Ao.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||null!==to&&1&to.memoizedState.tag){if(r.flags|=2048,Qo(9,_o.bind(null,r,a,n,t),{destroy:void 0},null),null===tc)throw Error(l(349));o||0!==(60&Xa)||Po(r,t,n)}return n}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Za.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Za.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _o(e,t,n,r){t.value=n,t.getSnapshot=r,$o(t)&&zo(e)}function Ao(e,t,n){return n((function(){$o(t)&&zo(e)}))}function $o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function zo(e){var t=Pr(e,2);null!==t&&$c(t,e,2)}function Ro(e){var t=vo();if("function"===typeof e){var n=e;if(e=n(),ao){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t}function Do(e,t,n,r){return e.baseState=n,No(e,eo,"function"===typeof r?r:Eo)}function Uo(e,t,n,r,a){if(kl(e))throw Error(l(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==_.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Lo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Lo(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=_.T,l={};_.T=l;try{var s=n(a,r),i=_.S;null!==i&&i(l,s),Io(e,t,s)}catch(c){qo(e,t,c)}finally{_.T=o}}else try{Io(e,t,o=n(a,r))}catch(u){qo(e,t,u)}}function Io(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Oo(e,t,n)}),(function(n){return qo(e,t,n)})):Oo(e,t,n)}function Oo(e,t,n){t.status="fulfilled",t.value=n,Fo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Lo(e,n)))}function qo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Fo(t),t=t.next}while(t!==r)}e.action=null}function Fo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bo(e,t){return t}function Mo(e,t){if(Yr){var n=tc.formState;if(null!==n){e:{var r=Za;if(Yr){if(Jr){t:{for(var a=Jr,o=Xr;8!==a.nodeType;){if(!o){a=null;break t}if(null===(a=sd(a.nextSibling))){a=null;break t}}a="F!"===(o=a.data)||"F"===o?a:null}if(a){Jr=sd(a.nextSibling),r="F!"===a.data;break e}}ea(r)}r=!1}r&&(t=n[0])}}return(n=vo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:t},n.queue=r,n=vl.bind(null,Za,r),r.dispatch=n,r=Ro(!1),o=wl.bind(null,Za,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=vo()).queue=a,n=Uo.bind(null,Za,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Wo(e){return Ho(xo(),eo,e)}function Ho(e,t,n){t=No(e,t,Bo)[0],e=jo(Eo)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?wo(t):t;var r=xo(),a=r.queue,o=a.dispatch;return n!==r.memoizedState&&(Za.flags|=2048,Qo(9,Go.bind(null,a,n),{destroy:void 0},null)),[t,o,e]}function Go(e,t){e.action=t}function Vo(e){var t=xo(),n=eo;if(null!==n)return Ho(t,n,e);xo(),t=t.memoizedState;var r=(n=xo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Qo(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Za.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Za.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Jo(){return xo().memoizedState}function Yo(e,t,n,r){var a=vo();Za.flags|=e,a.memoizedState=Qo(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ko(e,t,n,r){var a=xo();r=void 0===r?null:r;var o=a.memoizedState.inst;null!==eo&&null!==r&&uo(r,eo.memoizedState.deps)?a.memoizedState=Qo(t,n,o,r):(Za.flags|=e,a.memoizedState=Qo(1|t,n,o,r))}function Xo(e,t){Yo(8390656,8,e,t)}function Zo(e,t){Ko(2048,8,e,t)}function el(e,t){return Ko(4,2,e,t)}function tl(e,t){return Ko(4,4,e,t)}function nl(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function rl(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ko(4,4,nl.bind(null,t,e),n)}function al(){}function ol(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&uo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ll(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&uo(t,r[1]))return r[0];if(r=e(),ao){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function sl(e,t,n){return void 0===n||0!==(1073741824&Xa)?e.memoizedState=t:(e.memoizedState=n,e=Ac(),Za.lanes|=e,dc|=e,n)}function il(e,t,n,r){return Qn(n,t)?n:null!==Sa.current?(e=sl(e,n,r),Qn(e,t)||(Wl=!0),e):0===(42&Xa)?(Wl=!0,e.memoizedState=n):(e=Ac(),Za.lanes|=e,dc|=e,t)}function cl(e,t,n,r,a){var o=B.p;B.p=0!==o&&8>o?o:8;var l=_.T,s={};_.T=s,wl(e,!1,t,n);try{var i=a(),c=_.S;if(null!==c&&c(s,i),null!==i&&"object"===typeof i&&"function"===typeof i.then)xl(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(i,r),_c());else xl(e,t,r,_c())}catch(u){xl(e,t,{then:function(){},status:"rejected",reason:u},_c())}finally{B.p=o,_.T=l}}function ul(){}function dl(e,t,n,r){if(5!==e.tag)throw Error(l(476));var a=pl(e).queue;cl(e,a,t,M,null===n?ul:function(){return fl(e),n(r)})}function pl(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function fl(e){xl(e,pl(e).next.queue,{},_c())}function ml(){return js(Ud)}function hl(){return xo().memoizedState}function gl(){return xo().memoizedState}function bl(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=_c(),r=$s(t,e=As(n),n);return null!==r&&($c(r,t,n),zs(r,t,n)),t={cache:qa()},void(e.payload=t)}t=t.return}}function yl(e,t,n){var r=_c();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},kl(e)?Sl(t,n):null!==(n=Tr(e,t,n,r))&&($c(n,e,r),El(n,t,r))}function vl(e,t,n){xl(e,t,n,_c())}function xl(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(kl(e))Sl(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=o(l,n);if(a.hasEagerState=!0,a.eagerState=s,Qn(s,l))return Cr(e,t,a,0),null===tc&&Nr(),!1}catch(i){}if(null!==(n=Tr(e,t,a,r)))return $c(n,e,r),El(n,t,r),!0}return!1}function wl(e,t,n,r){if(r={lane:2,revertLane:wu(),action:r,hasEagerState:!1,eagerState:null,next:null},kl(e)){if(t)throw Error(l(479))}else null!==(t=Tr(e,n,r,2))&&$c(t,e,2)}function kl(e){var t=e.alternate;return e===Za||null!==t&&t===Za}function Sl(e,t){ro=no=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function El(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var jl={readContext:js,use:ko,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useLayoutEffect:co,useInsertionEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useSyncExternalStore:co,useId:co};jl.useCacheRefresh=co,jl.useMemoCache=co,jl.useHostTransitionStatus=co,jl.useFormState=co,jl.useActionState=co,jl.useOptimistic=co;var Nl={readContext:js,use:ko,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:js,useEffect:Xo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Yo(4194308,4,nl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yo(4194308,4,e,t)},useInsertionEffect:function(e,t){Yo(4,2,e,t)},useMemo:function(e,t){var n=vo();t=void 0===t?null:t;var r=e();if(ao){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=vo();if(void 0!==n){var a=n(t);if(ao){ve(!0);try{n(t)}finally{ve(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=yl.bind(null,Za,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:function(e){var t=(e=Ro(e)).queue,n=vl.bind(null,Za,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:al,useDeferredValue:function(e,t){return sl(vo(),e,t)},useTransition:function(){var e=Ro(!1);return e=cl.bind(null,Za,e.queue,!0,!1),vo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Za,a=vo();if(Yr){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===tc)throw Error(l(349));0!==(60&rc)||Po(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Xo(Ao.bind(null,r,o,e),[e]),r.flags|=2048,Qo(9,_o.bind(null,r,o,n,t),{destroy:void 0},null),n},useId:function(){var e=vo(),t=tc.identifierPrefix;if(Yr){var n=Mr;t=":"+t+"R"+(n=(Br&~(1<<32-xe(Br)-1)).toString(32)+n),0<(n=oo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=io++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return vo().memoizedState=bl.bind(null,Za)}};Nl.useMemoCache=So,Nl.useHostTransitionStatus=ml,Nl.useFormState=Mo,Nl.useActionState=Mo,Nl.useOptimistic=function(e){var t=vo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wl.bind(null,Za,!0,n),n.dispatch=t,[e,t]};var Cl={readContext:js,use:ko,useCallback:ol,useContext:js,useEffect:Zo,useImperativeHandle:rl,useInsertionEffect:el,useLayoutEffect:tl,useMemo:ll,useReducer:jo,useRef:Jo,useState:function(){return jo(Eo)},useDebugValue:al,useDeferredValue:function(e,t){return il(xo(),eo.memoizedState,e,t)},useTransition:function(){var e=jo(Eo)[0],t=xo().memoizedState;return["boolean"===typeof e?e:wo(e),t]},useSyncExternalStore:To,useId:hl};Cl.useCacheRefresh=gl,Cl.useMemoCache=So,Cl.useHostTransitionStatus=ml,Cl.useFormState=Wo,Cl.useActionState=Wo,Cl.useOptimistic=function(e,t){return Do(xo(),0,e,t)};var Tl={readContext:js,use:ko,useCallback:ol,useContext:js,useEffect:Zo,useImperativeHandle:rl,useInsertionEffect:el,useLayoutEffect:tl,useMemo:ll,useReducer:Co,useRef:Jo,useState:function(){return Co(Eo)},useDebugValue:al,useDeferredValue:function(e,t){var n=xo();return null===eo?sl(n,e,t):il(n,eo.memoizedState,e,t)},useTransition:function(){var e=Co(Eo)[0],t=xo().memoizedState;return["boolean"===typeof e?e:wo(e),t]},useSyncExternalStore:To,useId:hl};function Pl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Tl.useCacheRefresh=gl,Tl.useMemoCache=So,Tl.useHostTransitionStatus=ml,Tl.useFormState=Vo,Tl.useActionState=Vo,Tl.useOptimistic=function(e,t){var n=xo();return null!==eo?Do(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var _l={isMounted:function(e){return!!(e=e._reactInternals)&&L(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_c(),a=As(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=$s(e,a,r))&&($c(t,e,r),zs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_c(),a=As(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=$s(e,a,r))&&($c(t,e,r),zs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_c(),r=As(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=$s(e,r,n))&&($c(t,e,n),zs(t,e,n))}};function Al(e,t,n,r,a,o,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,l):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(a,o))}function $l(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_l.enqueueReplaceState(t,t.state,null)}function zl(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=A({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var Rl="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Dl(e){Rl(e)}function Ul(e){console.error(e)}function Ll(e){Rl(e)}function Il(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ol(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function ql(e,t,n){return(n=As(n)).tag=3,n.payload={element:null},n.callback=function(){Il(e,t)},n}function Fl(e){return(e=As(e)).tag=3,e}function Bl(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){Ol(t,n,r)}}var l=n.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){Ol(t,n,r),"function"!==typeof a&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ml=Error(l(461)),Wl=!1;function Hl(e,t,n,r){t.child=null===e?ka(t,null,n,r):wa(t,e.child,n,r)}function Gl(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var l={};for(var s in r)"ref"!==s&&(l[s]=r[s])}else l=r;return Es(t),r=po(e,t,n,l,o,a),s=go(),null===e||Wl?(Yr&&s&&Gr(t),t.flags|=1,Hl(e,t,r,a),t.child):(bo(e,t,a),ps(e,t,a))}function Vl(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Ui(o)||void 0!==o.defaultProps||null!==n.compare?((e=Oi(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ql(e,t,o,r,a))}if(o=e.child,!fs(e,a)){var l=o.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(l,r)&&e.ref===t.ref)return ps(e,t,a)}return t.flags|=1,(e=Li(o,r)).ref=t.ref,e.return=t,t.child=e}function Ql(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(Jn(o,r)&&e.ref===t.ref){if(Wl=!1,t.pendingProps=r=o,!fs(e,a))return t.lanes=e.lanes,ps(e,t,a);0!==(131072&e.flags)&&(Wl=!0)}}return Xl(e,t,n,r,a)}function Jl(e,t,n){var r=t.pendingProps,a=r.children,o=0!==(2&t.stateNode._pendingVisibility),l=null!==e?e.memoizedState:null;if(Kl(e,t),"hidden"===r.mode||o){if(0!==(128&t.flags)){if(r=null!==l?l.baseLanes|n:n,null!==e){for(a=t.child=e.child,o=0;null!==a;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Yl(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Yl(e,t,null!==l?l.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(0,null!==l?l.cachePool:null),null!==l?ja(t,l):Na(),Aa(t)}else null!==l?(Ya(0,l.cachePool),ja(t,l),$a(),t.memoizedState=null):(null!==e&&Ya(0,null),Na(),$a());return Hl(e,t,a,n),t.child}function Yl(e,t,n,r){var a=Ja();return a=null===a?null:{parent:Oa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ya(0,null),Na(),Aa(t),null!==e&&ks(e,t,r,!0),null}function Kl(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xl(e,t,n,r,a){return Es(t),n=po(e,t,n,r,void 0,a),r=go(),null===e||Wl?(Yr&&r&&Gr(t),t.flags|=1,Hl(e,t,n,a),t.child):(bo(e,t,a),ps(e,t,a))}function Zl(e,t,n,r,a,o){return Es(t),t.updateQueue=null,n=mo(t,r,n,a),fo(e),r=go(),null===e||Wl?(Yr&&r&&Gr(t),t.flags|=1,Hl(e,t,n,o),t.child):(bo(e,t,o),ps(e,t,o))}function es(e,t,n,r,a){if(Es(t),null===t.stateNode){var o=$r,l=n.contextType;"object"===typeof l&&null!==l&&(o=js(l)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=_l,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Ps(t),l=n.contextType,o.context="object"===typeof l&&null!==l?js(l):$r,o.state=t.memoizedState,"function"===typeof(l=n.getDerivedStateFromProps)&&(Pl(t,n,l,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(l=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),l!==o.state&&_l.enqueueReplaceState(o,o.state,null),Ls(t,r,o,a),Us(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,i=zl(n,s);o.props=i;var c=o.context,u=n.contextType;l=$r,"object"===typeof u&&null!==u&&(l=js(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==l)&&$l(t,o,r,l),Ts=!1;var p=t.memoizedState;o.state=p,Ls(t,r,o,a),Us(),c=t.memoizedState,s||p!==c||Ts?("function"===typeof d&&(Pl(t,n,d,r),c=t.memoizedState),(i=Ts||Al(t,n,i,r,p,c,l))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_s(e,t),u=zl(n,l=t.memoizedProps),o.props=u,d=t.pendingProps,p=o.context,c=n.contextType,i=$r,"object"===typeof c&&null!==c&&(i=js(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==d||p!==i)&&$l(t,o,r,i),Ts=!1,p=t.memoizedState,o.state=p,Ls(t,r,o,a),Us();var f=t.memoizedState;l!==d||p!==f||Ts||null!==e&&null!==e.dependencies&&Ss(e.dependencies)?("function"===typeof s&&(Pl(t,n,s,r),f=t.memoizedState),(u=Ts||Al(t,n,u,r,p,f,i)||null!==e&&null!==e.dependencies&&Ss(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,i),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,i)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=i,r=u):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Kl(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,n,a)):Hl(e,t,n,a),t.memoizedState=o.state,e=t.child):e=ps(e,t,a),e}function ts(e,t,n,r){return aa(),t.flags|=256,Hl(e,t,n,r),t.child}var ns={dehydrated:null,treeContext:null,retryLane:0};function rs(e){return{baseLanes:e,cachePool:Ka()}}function as(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function os(e,t,n){var r,a=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ra.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(o?_a(t):$a(),Yr){var i,c=Jr;if(i=c){e:{for(i=c,c=Xr;8!==i.nodeType;){if(!c){c=null;break e}if(null===(i=sd(i.nextSibling))){c=null;break e}}c=i}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Fr?{id:Br,overflow:Mr}:null,retryLane:536870912},(i=Di(18,null,null,0)).stateNode=c,i.return=t,t.child=i,Qr=t,Jr=null,i=!0):i=!1}i||ea(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;za(t)}return c=a.children,a=a.fallback,o?($a(),c=ss({mode:"hidden",children:c},o=t.mode),a=qi(a,o,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(o=t.child).memoizedState=rs(n),o.childLanes=as(e,r,n),t.memoizedState=ns,a):(_a(t),ls(t,c))}if(null!==(i=e.memoizedState)&&null!==(c=i.dehydrated)){if(s)256&t.flags?(_a(t),t.flags&=-257,t=is(e,t,n)):null!==t.memoizedState?($a(),t.child=e.child,t.flags|=128,t=null):($a(),o=a.fallback,c=t.mode,a=ss({mode:"visible",children:a.children},c),(o=qi(o,c,n,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,wa(t,e.child,null,n),(a=t.child).memoizedState=rs(n),a.childLanes=as(e,r,n),t.memoizedState=ns,t=o);else if(_a(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(l(419))).stack="",a.digest=r,oa({value:a,source:null,stack:null}),t=is(e,t,n)}else if(Wl||ks(e,t,n,!1),r=0!==(n&e.childLanes),Wl||r){if(null!==(r=tc)){if(0!==(42&(a=n&-n)))a=1;else switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=64;break;case 268435456:a=134217728;break;default:a=0}if(0!==(a=0!==(a&(r.suspendedLanes|n))?0:a)&&a!==i.retryLane)throw i.retryLane=a,Pr(e,a),$c(r,e,a),Ml}"$?"===c.data||Wc(),t=is(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=su.bind(null,e),c._reactRetry=t,t=null):(e=i.treeContext,Jr=sd(c.nextSibling),Qr=t,Yr=!0,Kr=null,Xr=!1,null!==e&&(Or[qr++]=Br,Or[qr++]=Mr,Or[qr++]=Fr,Br=e.id,Mr=e.overflow,Fr=t),(t=ls(t,a.children)).flags|=4096);return t}return o?($a(),o=a.fallback,c=t.mode,u=(i=e.child).sibling,(a=Li(i,{mode:"hidden",children:a.children})).subtreeFlags=31457280&i.subtreeFlags,null!==u?o=Li(u,o):(o=qi(o,c,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,null===(c=e.child.memoizedState)?c=rs(n):(null!==(i=c.cachePool)?(u=Oa._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=Ka(),c={baseLanes:c.baseLanes|n,cachePool:i}),o.memoizedState=c,o.childLanes=as(e,r,n),t.memoizedState=ns,a):(_a(t),e=(n=e.child).sibling,(n=Li(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ls(e,t){return(t=ss({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ss(e,t){return Fi(e,t,0,null)}function is(e,t,n){return wa(t,e.child,null,n),(e=ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function cs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xs(e.return,t,n)}function us(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function ds(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Hl(e,t,r.children,n),0!==(2&(r=Ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cs(e,n,t);else if(19===e.tag)cs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Q(Ra,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Da(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),us(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Da(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}us(t,!0,n,null,o);break;case"together":us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ps(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ks(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Li(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Li(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ss(e))}function ms(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Wl=!0;else{if(!fs(e,n)&&0===(128&t.flags))return Wl=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),ys(t,Oa,e.memoizedState.cache),aa();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:ys(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(_a(t),t.flags|=128,null):0!==(n&t.child.childLanes)?os(e,t,n):(_a(t),null!==(e=ps(e,t,n))?e.sibling:null);_a(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ks(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return ds(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Q(Ra,Ra.current),r)break;return null;case 22:case 23:return t.lanes=0,Jl(e,t,n);case 24:ys(t,Oa,e.memoizedState.cache)}return ps(e,t,n)}(e,t,n);Wl=0!==(131072&e.flags)}else Wl=!1,Yr&&0!==(1048576&t.flags)&&Hr(t,Ir,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===b){t.tag=11,t=Gl(null,t,r,e,n);break e}if(a===x){t.tag=14,t=Vl(null,t,r,e,n);break e}}throw t=C(r)||r,Error(l(306,t,""))}Ui(r)?(e=zl(r,e),t.tag=1,t=es(null,t,r,e,n)):(t.tag=0,t=Xl(null,t,r,e,n))}return t;case 0:return Xl(e,t,t.type,t.pendingProps,n);case 1:return es(e,t,r=t.type,a=zl(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(l(387));var o=t.pendingProps;r=(a=t.memoizedState).element,_s(e,t),Ls(t,o,null,n);var s=t.memoizedState;if(o=s.cache,ys(t,Oa,o),o!==a.cache&&ws(t,[Oa],n,!0),Us(),o=s.element,a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=ts(e,t,o,n);break e}if(o!==r){oa(r=Rr(Error(l(424)),t)),t=ts(e,t,o,n);break e}for(Jr=sd(t.stateNode.containerInfo.firstChild),Qr=t,Yr=!0,Kr=null,Xr=!0,n=ka(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(aa(),o===r){t=ps(e,t,n);break e}Hl(e,t,o,n)}t=t.child}return t;case 26:return Kl(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Ju(K.current).createElement(n))[Ie]=t,r[Oe]=e,Gu(r,n,e),Ke(r),t.stateNode=r):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=cd(t.type,t.pendingProps,K.current),Qr=t,Xr=!0,Jr=sd(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?Hl(e,t,r,n):t.child=wa(t,null,r,n),Kl(e,t),t.child;case 5:return null===e&&Yr&&((a=r=Jr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[He])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(null==a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===o)return e}if(null===(e=sd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Xr))?(t.stateNode=r,Qr=t,Jr=sd(r.firstChild),Xr=!1,a=!0):a=!1),a||ea(t)),te(t),a=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,Xu(a,o)?r=null:null!==s&&Xu(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=po(e,t,ho,null,null,n),Ud._currentValue=a),Kl(e,t),Hl(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Jr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=sd(e.nextSibling)))return null}return e}(n,t.pendingProps,Xr))?(t.stateNode=n,Qr=t,Jr=null,e=!0):e=!1),e||ea(t)),null;case 13:return os(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):Hl(e,t,r,n),t.child;case 11:return Gl(e,t,t.type,t.pendingProps,n);case 7:return Hl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Hl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ys(t,t.type,r.value),Hl(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Es(t),r=r(a=js(a)),t.flags|=1,Hl(e,t,r,n),t.child;case 14:return Vl(e,t,t.type,t.pendingProps,n);case 15:return Ql(e,t,t.type,t.pendingProps,n);case 19:return ds(e,t,n);case 22:return Jl(e,t,n);case 24:return Es(t),r=js(Oa),null===e?(null===(a=Ja())&&(a=tc,o=qa(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ps(t),ys(t,Oa,a)):(0!==(e.lanes&n)&&(_s(e,t),Ls(t,null,null,n),Us()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ys(t,Oa,r)):(r=o.cache,ys(t,Oa,r),r!==a.cache&&ws(t,[Oa],n,!0))),Hl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}var hs=G(null),gs=null,bs=null;function ys(e,t,n){Q(hs,t._currentValue),t._currentValue=n}function vs(e){e._currentValue=hs.current,V(hs)}function xs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ws(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var s=a.child;o=o.firstContext;e:for(;null!==o;){var i=o;o=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),xs(o.return,n,e),r||(s=null);break e}o=i.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(l(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),xs(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function ks(e,t,n,r){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(0!==(524288&a.flags))o=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(l(387));if(null!==(s=s.memoizedProps)){var i=a.type;Qn(a.pendingProps.value,s.value)||(null!==e?e.push(i):e=[i])}}else if(a===X.current){if(null===(s=a.alternate))throw Error(l(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Ud):e=[Ud])}a=a.return}null!==e&&ws(t,e,n,r),t.flags|=262144}function Ss(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){gs=e,bs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function js(e){return Cs(gs,e)}function Ns(e,t){return null===gs&&Es(e),Cs(e,t)}function Cs(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bs){if(null===e)throw Error(l(308));bs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bs=bs.next=t;return n}var Ts=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _s(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $s(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Ar(e),_r(e,null,n),t}return Cr(e,r,t,n),Ar(e)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function Rs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?a=o=l:o=o.next=l,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ds=!1;function Us(){if(Ds){if(null!==Ha)throw Ha}}function Ls(e,t,n,r){Ds=!1;var a=e.updateQueue;Ts=!1;var o=a.firstBaseUpdate,l=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var i=s,c=i.next;i.next=null,null===l?o=c:l.next=c,l=i;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=i))}if(null!==o){var d=a.baseState;for(l=0,u=c=i=null,s=o;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(rc&p)===p:(r&p)===p){0!==p&&p===Wa&&(Ds=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,h=s;p=t;var g=n;switch(h.tag){case 1:if("function"===typeof(m=h.payload)){d=m.call(g,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=h.payload)?m.call(g,d,p):m)||void 0===p)break e;d=A({},d,p);break e;case 2:Ts=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,i=d):u=u.next=f,l|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===u&&(i=d),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===o&&(a.shared.lanes=0),dc|=l,e.lanes=l,e.memoizedState=d}}function Is(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function Os(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Is(n[e],t)}function qs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,l=n.inst;r=o(),l.destroy=r}n=n.next}while(n!==a)}}catch(s){ru(t,t.return,s)}}function Fs(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var o=a.next;r=o;do{if((r.tag&e)===e){var l=r.inst,s=l.destroy;if(void 0!==s){l.destroy=void 0,a=t;var i=n;try{s()}catch(c){ru(a,i,c)}}}r=r.next}while(r!==o)}}catch(c){ru(t,t.return,c)}}function Bs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Os(t,n)}catch(r){ru(e,e.return,r)}}}function Ms(e,t,n){n.props=zl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Ws(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var a=r;break;default:a=r}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(o){ru(e,t,o)}}function Hs(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){ru(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){ru(e,t,o)}else n.current=null}function Gs(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){ru(e,e.return,a)}}function Vs(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,i=null,c=null,u=null,d=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&null!=p)switch(m){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(m)||Wu(e,t,m,null,r,p)}}for(var f in r){var m=r[f];if(p=n[f],r.hasOwnProperty(f)&&(null!=m||null!=p))switch(f){case"type":o=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":i=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(l(137,t));break;default:m!==p&&Wu(e,t,f,m,r,p)}}return void gt(e,s,i,c,u,d,o,a);case"select":for(o in m=s=i=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(o)||Wu(e,t,o,null,r,c)}for(a in r)if(o=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=o||null!=c))switch(a){case"value":f=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:o!==c&&Wu(e,t,a,o,r,c)}return t=i,n=s,r=m,void(null!=f?vt(e,!!n,f,!1):!!r!==!!n&&(null!=t?vt(e,!!n,t,!0):vt(e,!!n,n?[]:"",!1)));case"textarea":for(i in m=f=null,n)if(a=n[i],n.hasOwnProperty(i)&&null!=a&&!r.hasOwnProperty(i))switch(i){case"value":case"children":break;default:Wu(e,t,i,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=a||null!=o))switch(s){case"value":f=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(l(91));break;default:a!==o&&Wu(e,t,s,a,r,o)}return void xt(e,f,m);case"option":for(var h in n)if(f=n[h],n.hasOwnProperty(h)&&null!=f&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else Wu(e,t,h,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Wu(e,t,c,f,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Wu(e,t,g,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(l(137,t));break;default:Wu(e,t,u,f,r,m)}return;default:if(Nt(t)){for(var b in n)f=n[b],n.hasOwnProperty(b)&&void 0!==f&&!r.hasOwnProperty(b)&&Hu(e,t,b,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||Hu(e,t,d,f,r,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Wu(e,t,y,null,r,f);for(p in r)f=r[p],m=n[p],!r.hasOwnProperty(p)||f===m||null==f&&null==m||Wu(e,t,p,f,r,m)}(r,e.type,n,t),r[Oe]=t}catch(a){ru(e,e.return,a)}}function Qs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Js(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ys(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Mu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Ys(e,t,n),e=e.sibling;null!==e;)Ys(e,t,n),e=e.sibling}function Ks(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Ks(e,t,n),e=e.sibling;null!==e;)Ks(e,t,n),e=e.sibling}var Xs=!1,Zs=!1,ei=!1,ti="function"===typeof WeakSet?WeakSet:Set,ni=null,ri=!1;function ai(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:bi(e,n),4&r&&qs(5,n);break;case 1:if(bi(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ru(n,n.return,s)}else{var a=zl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){ru(n,n.return,i)}}64&r&&Bs(n),512&r&&Ws(n,n.return);break;case 3:if(bi(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Os(r,e)}catch(s){ru(n,n.return,s)}}break;case 26:bi(e,n),512&r&&Ws(n,n.return);break;case 27:case 5:bi(e,n),null===t&&4&r&&Gs(n),512&r&&Ws(n,n.return);break;case 12:default:bi(e,n);break;case 13:bi(e,n),4&r&&ui(e,n);break;case 22:if(!(a=null!==n.memoizedState||Xs)){t=null!==t&&null!==t.memoizedState||Zs;var o=Xs,l=Zs;Xs=a,(Zs=t)&&!l?vi(e,n,0!==(8772&n.subtreeFlags)):bi(e,n),Xs=o,Zs=l}512&r&&("manual"===n.memoizedProps.mode?Ws(n,n.return):Hs(n,n.return))}}function oi(e){var t=e.alternate;null!==t&&(e.alternate=null,oi(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var li=null,si=!1;function ii(e,t,n){for(n=n.child;null!==n;)ci(e,t,n),n=n.sibling}function ci(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(be,n)}catch(l){}switch(n.tag){case 26:Zs||Hs(n,t),ii(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zs||Hs(n,t);var r=li,a=si;for(li=n.stateNode,ii(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ge(n),li=r,si=a;break;case 5:Zs||Hs(n,t);case 6:a=li;var o=si;if(li=null,ii(e,t,n),si=o,null!==(li=a))if(si)try{e=li,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){ru(n,t,s)}else try{li.removeChild(n.stateNode)}catch(s){ru(n,t,s)}break;case 18:null!==li&&(si?(t=li,n=n.stateNode,8===t.nodeType?od(t.parentNode,n):1===t.nodeType&&od(t,n),hp(t)):od(li,n.stateNode));break;case 4:r=li,a=si,li=n.stateNode.containerInfo,si=!0,ii(e,t,n),li=r,si=a;break;case 0:case 11:case 14:case 15:Zs||Fs(2,n,t),Zs||Fs(4,n,t),ii(e,t,n);break;case 1:Zs||(Hs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Ms(n,t,r)),ii(e,t,n);break;case 21:ii(e,t,n);break;case 22:Zs||Hs(n,t),Zs=(r=Zs)||null!==n.memoizedState,ii(e,t,n),Zs=r;break;default:ii(e,t,n)}}function ui(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{hp(e)}catch(n){ru(t,t.return,n)}}function di(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ti),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ti),t;default:throw Error(l(435,e.tag))}}(e);t.forEach((function(t){var r=iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function pi(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,i=s;e:for(;null!==i;){switch(i.tag){case 27:case 5:li=i.stateNode,si=!1;break e;case 3:case 4:li=i.stateNode.containerInfo,si=!0;break e}i=i.return}if(null===li)throw Error(l(160));ci(o,s,a),li=null,si=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)mi(t,e),t=t.sibling}var fi=null;function mi(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pi(t,e),hi(e),4&r&&(Fs(3,e,e.return),qs(3,e),Fs(5,e,e.return));break;case 1:pi(t,e),hi(e),512&r&&(Zs||null===n||Hs(n,n.return)),64&r&&Xs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=fi;if(pi(t,e),hi(e),512&r&&(Zs||null===n||Hs(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(o=a.getElementsByTagName("title")[0])||o[He]||o[Ie]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),Gu(o,r,n),o[Ie]=e,Ke(o),r=o;break e;case"link":var s=Cd("link","href",a).get(r+(n.href||""));if(s)for(var i=0;i<s.length;i++)if((o=s[i]).getAttribute("href")===(null==n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(i,1);break t}Gu(o=a.createElement(r),r,n),a.head.appendChild(o);break;case"meta":if(s=Cd("meta","content",a).get(r+(n.content||"")))for(i=0;i<s.length;i++)if((o=s[i]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(i,1);break t}Gu(o=a.createElement(r),r,n),a.head.appendChild(o);break;default:throw Error(l(468,r))}o[Ie]=e,Ke(o),r=o}e.stateNode=r}else Td(a,e.type,e.stateNode);else e.stateNode=kd(a,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Td(a,e.type,e.stateNode):kd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Vs(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){a=e.stateNode,o=e.memoizedProps;try{for(var c=a.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[He]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||a.removeChild(c),c=u}for(var p=e.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Gu(a,p,o),a[Ie]=e,a[Oe]=o}catch(h){ru(e,e.return,h)}}case 5:if(pi(t,e),hi(e),512&r&&(Zs||null===n||Hs(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(h){ru(e,e.return,h)}}4&r&&null!=e.stateNode&&Vs(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(ei=!0);break;case 6:if(pi(t,e),hi(e),4&r){if(null===e.stateNode)throw Error(l(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(h){ru(e,e.return,h)}}break;case 3:if(Nd=null,a=fi,fi=pd(t.containerInfo),pi(t,e),fi=a,hi(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{hp(t.containerInfo)}catch(h){ru(e,e.return,h)}ei&&(ei=!1,gi(e));break;case 4:r=fi,fi=pd(e.stateNode.containerInfo),pi(t,e),hi(e),fi=r;break;case 12:pi(t,e),hi(e);break;case 13:pi(t,e),hi(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(vc=ie()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,di(e,r)));break;case 22:if(512&r&&(Zs||null===n||Hs(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Xs=(d=Xs)||c,Zs=(p=Zs)||u,pi(t,e),Zs=p,Xs=d,hi(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Xs||Zs,null===n||u||t||yi(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,c)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{s=u.stateNode;var m=void 0!==(i=u.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null;s.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(h){ru(u,u.return,h)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(h){ru(u,u.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,di(e,n))));break;case 19:pi(t,e),hi(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,di(e,r)));break;case 21:break;default:pi(t,e),hi(e)}}function hi(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Qs(n)){var r=n;break e}n=n.return}throw Error(l(160))}switch(r.tag){case 27:var a=r.stateNode;Ks(e,Js(e),a);break;case 5:var o=r.stateNode;32&r.flags&&(kt(o,""),r.flags&=-33),Ks(e,Js(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;Ys(e,Js(e),s);break;default:throw Error(l(161))}}}catch(i){ru(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gi(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function bi(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ai(e,t.alternate,t),t=t.sibling}function yi(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fs(4,t,t.return),yi(t);break;case 1:Hs(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Ms(t,t.return,n),yi(t);break;case 26:case 27:case 5:Hs(t,t.return),yi(t);break;case 22:Hs(t,t.return),null===t.memoizedState&&yi(t);break;default:yi(t)}e=e.sibling}}function vi(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,o=t,l=o.flags;switch(o.tag){case 0:case 11:case 15:vi(a,o,n),qs(4,o);break;case 1:if(vi(a,o,n),"function"===typeof(a=(r=o).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(a=(r=o).updateQueue)){var s=r.stateNode;try{var i=a.shared.hiddenCallbacks;if(null!==i)for(a.shared.hiddenCallbacks=null,a=0;a<i.length;a++)Is(i[a],s)}catch(c){ru(r,r.return,c)}}n&&64&l&&Bs(o),Ws(o,o.return);break;case 26:case 27:case 5:vi(a,o,n),n&&null===r&&4&l&&Gs(o),Ws(o,o.return);break;case 12:default:vi(a,o,n);break;case 13:vi(a,o,n),n&&4&l&&ui(a,o);break;case 22:null===o.memoizedState&&vi(a,o,n),Ws(o,o.return)}t=t.sibling}}function xi(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fa(n))}function wi(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e))}function ki(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Si(e,t,n,r),t=t.sibling}function Si(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ki(e,t,n,r),2048&a&&qs(9,t);break;case 3:ki(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e)));break;case 12:if(2048&a){ki(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,l=o.id,s=o.onPostCommit;"function"===typeof s&&s(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(i){ru(t,t.return,i)}}else ki(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?ki(e,t,n,r):ji(e,t):4&o._visibility?ki(e,t,n,r):(o._visibility|=4,Ei(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&xi(t.alternate,t);break;case 24:ki(e,t,n,r),2048&a&&wi(t.alternate,t);break;default:ki(e,t,n,r)}}function Ei(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,l=t,s=n,i=r,c=l.flags;switch(l.tag){case 0:case 11:case 15:Ei(o,l,s,i,a),qs(8,l);break;case 23:break;case 22:var u=l.stateNode;null!==l.memoizedState?4&u._visibility?Ei(o,l,s,i,a):ji(o,l):(u._visibility|=4,Ei(o,l,s,i,a)),a&&2048&c&&xi(l.alternate,l);break;case 24:Ei(o,l,s,i,a),a&&2048&c&&wi(l.alternate,l);break;default:Ei(o,l,s,i,a)}t=t.sibling}}function ji(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:ji(n,r),2048&a&&xi(r.alternate,r);break;case 24:ji(n,r),2048&a&&wi(r.alternate,r);break;default:ji(n,r)}t=t.sibling}}var Ni=8192;function Ci(e){if(e.subtreeFlags&Ni)for(e=e.child;null!==e;)Ti(e),e=e.sibling}function Ti(e){switch(e.tag){case 26:Ci(e),e.flags&Ni&&null!==e.memoizedState&&function(e,t,n){if(null===_d)throw Error(l(475));var r=_d;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=bd(n.href),o=e.querySelector(yd(a));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=$d.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Ke(o);o=e.ownerDocument||e,n=vd(n),(a=ud.get(a))&&Ed(n,a),Ke(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Gu(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=$d.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fi,e.memoizedState,e.memoizedProps);break;case 5:default:Ci(e);break;case 3:case 4:var t=fi;fi=pd(e.stateNode.containerInfo),Ci(e),fi=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ni,Ni=16777216,Ci(e),Ni=t):Ci(e))}}function Pi(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function _i(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];ni=r,zi(r,e)}Pi(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ai(e),e=e.sibling}function Ai(e){switch(e.tag){case 0:case 11:case 15:_i(e),2048&e.flags&&Fs(9,e,e.return);break;case 3:case 12:default:_i(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,$i(e)):_i(e)}}function $i(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];ni=r,zi(r,e)}Pi(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Fs(8,t,t.return),$i(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,$i(t));break;default:$i(t)}e=e.sibling}}function zi(e,t){for(;null!==ni;){var n=ni;switch(n.tag){case 0:case 11:case 15:Fs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,ni=r;else e:for(n=e;null!==ni;){var a=(r=ni).sibling,o=r.return;if(oi(r),r===n){ni=null;break e}if(null!==a){a.return=o,ni=a;break e}ni=o}}}function Ri(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(e,t,n,r){return new Ri(e,t,n,r)}function Ui(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Li(e,t){var n=e.alternate;return null===n?((n=Di(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ii(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Oi(e,t,n,r,a,o){var s=0;if(r=e,"function"===typeof e)Ui(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,J.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return qi(n.children,a,o,t);case p:s=8,a|=24;break;case f:return(e=Di(12,n,t,2|a)).elementType=f,e.lanes=o,e;case y:return(e=Di(13,n,t,a)).elementType=y,e.lanes=o,e;case v:return(e=Di(19,n,t,a)).elementType=v,e.lanes=o,e;case k:return Fi(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case m:case g:s=10;break e;case h:s=9;break e;case b:s=11;break e;case x:s=14;break e;case w:s=16,r=null;break e}s=29,n=Error(l(130,null===e?"null":typeof e,"")),r=null}return(t=Di(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function qi(e,t,n,r){return(e=Di(7,e,r,t)).lanes=n,e}function Fi(e,t,n,r){(e=Di(22,e,r,t)).elementType=k,e.lanes=n;var a={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=a._current;if(null===e)throw Error(l(456));if(0===(2&a._pendingVisibility)){var t=Pr(e,2);null!==t&&(a._pendingVisibility|=2,$c(t,e,2))}},attach:function(){var e=a._current;if(null===e)throw Error(l(456));if(0!==(2&a._pendingVisibility)){var t=Pr(e,2);null!==t&&(a._pendingVisibility&=-3,$c(t,e,2))}}};return e.stateNode=a,e}function Bi(e,t,n){return(e=Di(6,e,null,t)).lanes=n,e}function Mi(e,t,n){return(t=Di(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wi(e){e.flags|=4}function Hi(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Pd(t)){if(null!==(t=Ta.current)&&((4194176&rc)===rc?null!==Pa:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Pa))throw pa=ia,sa;e.flags|=8192}}function Gi(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,hc|=t)}function Vi(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=31457280&a.subtreeFlags,r|=31457280&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ji(e,t,n){var r=t.pendingProps;switch(Vr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Qi(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),vs(Oa),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ra(t)?Wi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Kr&&(Rc(Kr),Kr=null))),Qi(t),null;case 26:return n=t.memoizedState,null===e?(Wi(t),null!==n?(Qi(t),Hi(t,n)):(Qi(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Wi(t),Qi(t),Hi(t,n)):(Qi(t),t.flags&=-16777217):(e.memoizedProps!==r&&Wi(t),Qi(t),t.flags&=-16777217),null;case 27:ne(t),n=K.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wi(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return Qi(t),null}e=J.current,ra(t)?ta(t):(e=cd(a,r,n),t.stateNode=e,Wi(t))}return Qi(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wi(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return Qi(t),null}if(e=J.current,ra(t))ta(t);else{switch(a=Ju(K.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ie]=t,e[Oe]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Gu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wi(t)}}return Qi(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Wi(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(l(166));if(e=K.current,ra(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=Qr))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Bu(e.nodeValue,n)))||ea(t)}else(e=Ju(e).createTextNode(r))[Ie]=t,t.stateNode=e}return Qi(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ra(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(l(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(l(317));a[Ie]=t}else aa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qi(t),a=!1}else null!==Kr&&(Rc(Kr),Kr=null),a=!0;if(!a)return 256&t.flags?(za(t),t):(za(t),null)}if(za(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Gi(t,t.updateQueue),Qi(t),null;case 4:return ee(),null===e&&$u(t.stateNode.containerInfo),Qi(t),null;case 10:return vs(t.type),Qi(t),null;case 19:if(V(Ra),null===(a=t.memoizedState))return Qi(t),null;if(r=0!==(128&t.flags),null===(o=a.rendering))if(r)Vi(a,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Da(e))){for(t.flags|=128,Vi(a,!1),e=o.updateQueue,t.updateQueue=e,Gi(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ii(n,e),n=n.sibling;return Q(Ra,1&Ra.current|2),t.child}e=e.sibling}null!==a.tail&&ie()>xc&&(t.flags|=128,r=!0,Vi(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Da(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Gi(t,e),Vi(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!Yr)return Qi(t),null}else 2*ie()-a.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,r=!0,Vi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ie(),t.sibling=null,e=Ra.current,Q(Ra,r?1&e|2:1&e),t):(Qi(t),null);case 22:case 23:return za(t),Ca(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Qi(t),6&t.subtreeFlags&&(t.flags|=8192)):Qi(t),null!==(n=t.updateQueue)&&Gi(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Qa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vs(Oa),Qi(t),null;case 25:return null}throw Error(l(156,t.tag))}function Yi(e,t){switch(Vr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vs(Oa),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(za(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));aa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Ra),null;case 4:return ee(),null;case 10:return vs(t.type),null;case 22:case 23:return za(t),Ca(),null!==e&&V(Qa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return vs(Oa),null;default:return null}}function Ki(e,t){switch(Vr(t),t.tag){case 3:vs(Oa),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:za(t);break;case 19:V(Ra);break;case 10:vs(t.type);break;case 22:case 23:za(t),Ca(),null!==e&&V(Qa);break;case 24:vs(Oa)}}var Xi={getCacheForType:function(e){var t=js(Oa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zi="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ac=0,oc=null,lc=!1,sc=!1,ic=!1,cc=0,uc=0,dc=0,pc=0,fc=0,mc=0,hc=0,gc=null,bc=null,yc=!1,vc=0,xc=1/0,wc=null,kc=null,Sc=!1,Ec=null,jc=0,Nc=0,Cc=null,Tc=0,Pc=null;function _c(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==_.T){return 0!==Wa?Wa:wu()}return Ue()}function Ac(){0===mc&&(mc=0===(536870912&rc)||Yr?Pe():536870912);var e=Ta.current;return null!==e&&(e.flags|=32),mc}function $c(e,t,n){(e===tc&&2===ac||null!==e.cancelPendingCommit)&&(qc(e,0),Lc(e,rc,mc,!1)),$e(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(pc|=n),4===uc&&Lc(e,rc,mc,!1)),hu(e))}function zc(e,t,n){if(0!==(6&ec))throw Error(l(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),a=r?function(e,t){var n=ec;ec|=2;var r=Bc(),a=Mc();tc!==e||rc!==t?(wc=null,xc=ie()+500,qc(e,t)):sc=Ce(e,t);e:for(;;)try{if(0!==ac&&null!==nc){t=nc;var o=oc;t:switch(ac){case 1:ac=0,oc=null,Yc(e,t,o,1);break;case 2:if(ca(o)){ac=0,oc=null,Jc(t);break}t=function(){2===ac&&tc===e&&(ac=7),hu(e)},o.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:ca(o)?(ac=0,oc=null,Jc(t)):(ac=0,oc=null,Yc(e,t,o,7));break;case 5:var s=null;switch(nc.tag){case 26:s=nc.memoizedState;case 5:case 27:var i=nc;if(!s||Pd(s)){ac=0,oc=null;var c=i.sibling;if(null!==c)nc=c;else{var u=i.return;null!==u?(nc=u,Kc(u)):nc=null}break t}}ac=0,oc=null,Yc(e,t,o,5);break;case 6:ac=0,oc=null,Yc(e,t,o,6);break;case 8:Oc(),uc=6;break e;default:throw Error(l(462))}}Vc();break}catch(d){Fc(e,d)}return bs=gs=null,_.H=r,_.A=a,ec=n,null!==nc?0:(tc=null,rc=0,Nr(),uc)}(e,t):Hc(e,t,!0),o=r;;){if(0===a){sc&&!r&&Lc(e,t,0,!1);break}if(6===a)Lc(e,t,0,!lc);else{if(n=e.current.alternate,o&&!Uc(n)){a=Hc(e,t,!1),o=!1;continue}if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var i=e;a=gc;var c=i.current.memoizedState.isDehydrated;if(c&&(qc(i,s).flags|=256),2!==(s=Hc(i,s,!1))){if(ic&&!c){i.errorRecoveryDisabledLanes|=o,pc|=o,a=4;break e}o=bc,bc=a,null!==o&&Rc(o)}a=s}if(o=!1,2!==a)continue}}if(1===a){qc(e,0),Lc(e,t,0,!0);break}e:{switch(r=e,a){case 0:case 1:throw Error(l(345));case 4:if((4194176&t)===t){Lc(r,t,mc,!lc);break e}break;case 2:bc=null;break;case 3:case 5:break;default:throw Error(l(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(o=vc+300-ie())){if(Lc(r,t,mc,!lc),0!==Ne(r,0))break e;r.timeoutHandle=ed(Dc.bind(null,r,n,bc,wc,yc,t,mc,pc,hc,lc,2,-0,0),o)}else Dc(r,n,bc,wc,yc,t,mc,pc,hc,lc,0,-0,0)}}break}hu(e)}function Rc(e){null===bc?bc=e:bc.push.apply(bc,e)}function Dc(e,t,n,r,a,o,s,i,c,u,d,p,f){var m=t.subtreeFlags;if((8192&m||16785408===(16785408&m))&&(_d={stylesheets:null,count:0,unsuspend:Ad},Ti(t),null!==(t=function(){if(null===_d)throw Error(l(475));var e=_d;return e.stylesheets&&0===e.count&&Rd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Rd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,a,s,i,c,1,p,f)),void Lc(e,o,s,!u);Zc(e,n,r,a,s,i,c,d,p,f)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Qn(o(),a))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lc(e,t,n,r){t&=~fc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-xe(a),l=1<<o;r[o]=-1,a&=~l}0!==n&&ze(e,n,t)}function Ic(){return 0!==(6&ec)||(gu(0,!1),!1)}function Oc(){if(null!==nc){if(0===ac)var e=nc.return;else bs=gs=null,yo(e=nc),ma=null,ha=0,e=nc;for(;null!==e;)Ki(e.alternate,e),e=e.return;nc=null}}function qc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Oc(),tc=e,nc=n=Li(e.current,null),rc=t,ac=0,oc=null,lc=!1,sc=Ce(e,t),ic=!1,hc=mc=fc=pc=dc=uc=0,bc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-xe(r),o=1<<a;t|=e[a],r&=~o}return cc=t,Nr(),n}function Fc(e,t){Za=null,_.H=jl,t===la?(t=fa(),ac=3):t===sa?(t=fa(),ac=4):ac=t===Ml?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===nc&&(uc=1,Il(e,Rr(t,e.current)))}function Bc(){var e=_.H;return _.H=jl,null===e?jl:e}function Mc(){var e=_.A;return _.A=Xi,e}function Wc(){uc=4,lc||(4194176&rc)!==rc&&null!==Ta.current||(sc=!0),0===(134217727&dc)&&0===(134217727&pc)||null===tc||Lc(tc,rc,mc,!1)}function Hc(e,t,n){var r=ec;ec|=2;var a=Bc(),o=Mc();tc===e&&rc===t||(wc=null,qc(e,t)),t=!1;var l=uc;e:for(;;)try{if(0!==ac&&null!==nc){var s=nc,i=oc;switch(ac){case 8:Oc(),l=6;break e;case 3:case 2:case 6:null===Ta.current&&(t=!0);var c=ac;if(ac=0,oc=null,Yc(e,s,i,c),n&&sc){l=0;break e}break;default:c=ac,ac=0,oc=null,Yc(e,s,i,c)}}Gc(),l=uc;break}catch(u){Fc(e,u)}return t&&e.shellSuspendCounter++,bs=gs=null,ec=r,_.H=a,_.A=o,null===nc&&(tc=null,rc=0,Nr()),l}function Gc(){for(;null!==nc;)Qc(nc)}function Vc(){for(;null!==nc&&!le();)Qc(nc)}function Qc(e){var t=ms(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Kc(e):nc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zl(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Zl(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:yo(t);default:Ki(n,t),t=ms(n,t=nc=Ii(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Kc(e):nc=t}function Yc(e,t,n,r){bs=gs=null,yo(t),ma=null,ha=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ks(t,n,a,!0),null!==(n=Ta.current)){switch(n.tag){case 13:return null===Pa?Wc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ia?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),au(e,r,a)),!1;case 22:return n.flags|=65536,r===ia?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),au(e,r,a)),!1}throw Error(l(435,n.tag))}return au(e,r,a),Wc(),!1}if(Yr)return null!==(t=Ta.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Zr&&oa(Rr(e=Error(l(422),{cause:r}),n))):(r!==Zr&&oa(Rr(t=Error(l(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Rr(r,n),Rs(e,a=ql(e.stateNode,r,a)),4!==uc&&(uc=2)),!1;var o=Error(l(520),{cause:r});if(o=Rr(o,n),null===gc?gc=[o]:gc.push(o),4!==uc&&(uc=2),null===t)return!0;r=Rr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,Rs(n,e=ql(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===kc||!kc.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,Bl(a=Fl(a),e,n,r),Rs(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,rc))return uc=1,Il(e,Rr(n,e.current)),void(nc=null)}catch(o){if(null!==a)throw nc=a,o;return uc=1,Il(e,Rr(n,e.current)),void(nc=null)}32768&t.flags?(Yr||1===r?e=!0:sc||0!==(536870912&rc)?e=!1:(lc=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ta.current)&&13===r.tag&&(r.flags|=16384))),Xc(t,e)):Kc(t)}function Kc(e){var t=e;do{if(0!==(32768&t.flags))return void Xc(t,lc);e=t.return;var n=Ji(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Xc(e,t){do{var n=Yi(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,a,o,s,i,c,u){var d=_.T,p=B.p;try{B.p=2,_.T=null,function(e,t,n,r,a,o,s,i){do{tu()}while(null!==Ec);if(0!==(6&ec))throw Error(l(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,a,o){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,i=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var u=31-xe(n),d=1<<u;s[u]=0,i[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var f=p[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&ze(e,r,0),0!==o&&0===a&&0!==e.tag&&(e.suspendedLanes|=o&~(l&~t))}(e,r,u|=jr,o,s,i),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Sc||(Sc=!0,Nc=u,Cc=n,function(e,t){ae(e,t)}(pe,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=_.T,_.T=null,o=B.p,B.p=2,s=ec,ec|=4,function(e,t){if(e=e.containerInfo,Vu=Wd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var s=0,i=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var m;p!==n||0!==a&&3!==p.nodeType||(i=s+a),p!==o||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(m=p.firstChild);)f=p,p=m;for(;;){if(p===e)break t;if(f===n&&++u===a&&(i=s),f===o&&++d===r&&(c=s),null!==(m=p.nextSibling))break;f=(p=f).parentNode}p=m}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},Wd=!1,ni=t;null!==ni;)if(e=(t=ni).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ni=e;else for(;null!==ni;){switch(o=(t=ni).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=zl(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){ru(n,n.return,b)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ld(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,ni=e;break}ni=t.return}h=ri,ri=!1}(e,c),mi(c,e),tr(Qu,e.containerInfo),Wd=!!Vu,Qu=Vu=null,e.current=c,ai(e,c.alternate,c),se(),ec=s,B.p=o,_.T=n):e.current=c,Sc?(Sc=!1,Ec=e,jc=r):eu(e,u),u=e.pendingLanes,0===u&&(kc=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(be,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),hu(e),null!==t)for(a=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],a(u.value,{componentStack:u.stack});0!==(3&jc)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Pc?Tc++:(Tc=0,Pc=e):Tc=0,gu(0,!1)}(e,t,n,r,p,a,o,s)}finally{_.T=d,B.p=p}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fa(t)))}function tu(){if(null!==Ec){var e=Ec,t=Nc;Nc=0;var n=De(jc),r=_.T,a=B.p;try{if(B.p=32>n?32:n,_.T=null,null===Ec)var o=!1;else{n=Cc,Cc=null;var s=Ec,i=jc;if(Ec=null,jc=0,0!==(6&ec))throw Error(l(331));var c=ec;if(ec|=4,Ai(s.current),Si(s,s.current,i,n),ec=c,gu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(be,s)}catch(u){}o=!0}return o}finally{B.p=a,_.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Rr(n,t),null!==(e=$s(e,t=ql(e.stateNode,t,2),2))&&($e(e,2),hu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Rr(n,e),null!==(r=$s(t,n=Fl(2),2))&&(Bl(n,r,t,e),$e(r,2),hu(r));break}}t=t.return}}function au(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(ic=!0,a.add(n),e=ou.bind(null,e,t,n),t.then(e,e))}function ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>ie()-vc?0===(2&ec)&&qc(e,0):fc|=n,hc===rc&&(hc=0)),hu(e)}function lu(e,t){0===t&&(t=_e()),null!==(e=Pr(e,t))&&($e(e,t),hu(e))}function su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),lu(e,n)}function iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==r&&r.delete(t),lu(e,n)}var cu=null,uu=null,du=!1,pu=!1,fu=!1,mu=0;function hu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),pu=!0,du||(du=!0,t=bu,rd((function(){0!==(6&ec)?ae(ue,t):t()})))}function gu(e,t){if(!fu&&pu){fu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var o=0;else{var l=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-xe(42|e)+1)-1,o=201326677&(o&=a&~(l&~s))?201326677&o|1:o?2|o:0}0!==o&&(n=!0,xu(r,o))}else o=rc,0===(3&(o=Ne(r,r===tc?o:0)))||Ce(r,o)||(n=!0,xu(r,o));r=r.next}}while(n);fu=!1}}function bu(){pu=du=!1;var e=0;0!==mu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=mu),mu=0);for(var t=ie(),n=null,r=cu;null!==r;){var a=r.next,o=yu(r,t);0===o?(r.next=null,null===n?cu=a:n.next=a,null===a&&(uu=n)):(n=r,(0!==e||0!==(3&o))&&(pu=!0)),r=a}gu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var l=31-xe(o),s=1<<l,i=a[l];-1===i?0!==(s&n)&&0===(s&r)||(a[l]=Te(s,t)):i<=t&&(e.expiredLanes|=s),o&=~s}if(n=rc,n=Ne(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ac||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),De(n)){case 2:case 8:n=de;break;case 32:default:n=pe;break;case 268435456:n=me}return r=vu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function vu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ne(e,e===tc?r:0))?null:(zc(e,r,t),yu(e,ie()),null!=e.callbackNode&&e.callbackNode===n?vu.bind(null,e):null)}function xu(e,t){if(tu())return null;zc(e,t,!0)}function wu(){return 0===mu&&(mu=Pe()),mu}function ku(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Su(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Eu=0;Eu<wr.length;Eu++){var ju=wr[Eu];kr(ju.toLowerCase(),"on"+(ju[0].toUpperCase()+ju.slice(1)))}kr(fr,"onAnimationEnd"),kr(mr,"onAnimationIteration"),kr(hr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(br,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(vr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function Tu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],i=s.instance,c=s.currentTarget;if(s=s.listener,i!==o&&a.isPropagationStopped())break e;o=s,a.currentTarget=c;try{o(a)}catch(u){Rl(u)}a.currentTarget=null,o=i}else for(l=0;l<r.length;l++){if(i=(s=r[l]).instance,c=s.currentTarget,s=s.listener,i!==o&&a.isPropagationStopped())break e;o=s,a.currentTarget=c;try{o(a)}catch(u){Rl(u)}a.currentTarget=null,o=i}}}}function Pu(e,t){var n=t[Fe];void 0===n&&(n=t[Fe]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function _u(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Au="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Au]){e[Au]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(Cu.has(t)||_u(t,!1,e),_u(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Au]||(t[Au]=!0,_u("selectionchange",!1,t))}}function zu(e,t,n,r){switch(Kd(t)){case 2:var a=Hd;break;case 8:a=Gd;break;default:a=Vd}n=a.bind(null,t,n,e),a=void 0,!It||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ru(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var i=l.tag;if((3===i||4===i)&&((i=l.stateNode.containerInfo)===a||8===i.nodeType&&i.parentNode===a))return;l=l.return}for(;null!==s;){if(null===(l=Ve(s)))return;if(5===(i=l.tag)||6===i||26===i||27===i){r=o=l;continue e}s=s.parentNode}}r=r.return}Ut((function(){var r=o,a=At(n),l=[];e:{var s=xr.get(e);if(void 0!==s){var i=Xt,c=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":i=mn;break;case"focusin":c="focus",i=an;break;case"focusout":c="blur",i=an;break;case"beforeblur":case"afterblur":i=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=gn;break;case fr:case mr:case hr:i=on;break;case vr:i=bn;break;case"scroll":case"scrollend":i=en;break;case"wheel":i=yn;break;case"copy":case"cut":case"paste":i=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=hn;break;case"toggle":case"beforetoggle":i=vn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),p=u?null!==s?s+"Capture":null:s;u=[];for(var f,m=r;null!==m;){var h=m;if(f=h.stateNode,5!==(h=h.tag)&&26!==h&&27!==h||null===f||null===p||null!=(h=Lt(m,p))&&u.push(Du(m,h,f)),d)break;m=m.return}0<u.length&&(s=new i(s,c,null,n,a),l.push({event:s,listeners:u}))}}if(0===(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_t||!(c=n.relatedTarget||n.fromElement)||!Ve(c)&&!c[qe])&&(i||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,i?(i=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ve(c):null)&&(d=L(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(i=null,c=r),i!==c)){if(u=nn,h="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=hn,h="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==i?s:Je(i),f=null==c?s:Je(c),(s=new u(h,m+"leave",i,n,a)).target=d,s.relatedTarget=f,h=null,Ve(a)===r&&((u=new u(p,m+"enter",c,n,a)).target=f,u.relatedTarget=d,h=u),d=h,i&&c)e:{for(p=c,m=0,f=u=i;f;f=Lu(f))m++;for(f=0,h=p;h;h=Lu(h))f++;for(;0<m-f;)u=Lu(u),m--;for(;0<f-m;)p=Lu(p),f--;for(;m--;){if(u===p||null!==p&&u===p.alternate)break e;u=Lu(u),p=Lu(p)}u=null}else u=null;null!==i&&Iu(l,s,i,u,!1),null!==c&&null!==d&&Iu(l,d,c,u,!0)}if("select"===(i=(s=r?Je(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===i&&"file"===s.type)var g=Ln;else if(An(s))if(In)g=Vn;else{g=Hn;var b=Wn}else!(i=s.nodeName)||"input"!==i.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Nt(r.elementType)&&(g=Ln):g=Gn;switch(g&&(g=g(e,r))?$n(l,g,n,a):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),b=r?Je(r):window,e){case"focusin":(An(b)||"true"===b.contentEditable)&&(rr=b,ar=r,or=null);break;case"focusout":or=ar=rr=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,sr(l,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(l,n,a)}var y;if(wn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Pn?Cn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(En&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Pn&&(y=Mt()):(Ft="value"in(qt=a)?qt.value:qt.textContent,Pn=!0)),0<(b=Uu(r,v)).length&&(v=new sn(v,e,null,n,a),l.push({event:v,listeners:b}),y?v.data=y:null!==(y=Tn(n))&&(v.data=y))),(y=Sn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(Nn=!0,jn);case"textInput":return(e=t.data)===jn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!wn&&Cn(e,t)?(e=Mt(),Bt=Ft=qt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Uu(r,"onBeforeInput")).length&&(b=new sn("onBeforeInput","beforeinput",null,n,a),l.push({event:b,listeners:v}),b.data=y)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var o=ku((a[Oe]||null).action),l=r.submitter;l&&null!==(t=(t=l[Oe]||null)?ku(t.formAction):l.getAttribute("formAction"))&&(o=t,l=null);var s=new Xt("action","action",null,r,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==mu){var e=l?Su(a,l):new FormData(a);dl(n,{pending:!0,data:e,method:a.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=l?Su(a,l):new FormData(a),dl(n,{pending:!0,data:e,method:a.method,action:o},o,e))},currentTarget:a}]})}}(l,e,r,n,a)}Tu(l,t)}))}function Du(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Uu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5!==(a=a.tag)&&26!==a&&27!==a||null===o||(null!=(a=Lt(e,n))&&r.unshift(Du(e,a,o)),null!=(a=Lt(e,t))&&r.push(Du(e,a,o))),e=e.return}return r}function Lu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Iu(e,t,n,r,a){for(var o=t._reactName,l=[];null!==n&&n!==r;){var s=n,i=s.alternate,c=s.stateNode;if(s=s.tag,null!==i&&i===r)break;5!==s&&26!==s&&27!==s||null===c||(i=c,a?null!=(c=Lt(n,o))&&l.unshift(Du(n,c,i)):a||null!=(c=Lt(n,o))&&l.push(Du(n,c,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Ou=/\r\n?/g,qu=/\u0000|\uFFFD/g;function Fu(e){return("string"===typeof e?e:""+e).replace(Ou,"\n").replace(qu,"")}function Bu(e,t){return t=Fu(t),Fu(e)===t}function Mu(){}function Wu(e,t,n,r,a,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":st(e,"class",r);break;case"tabIndex":st(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,r);break;case"style":jt(e,r,o);break;case"data":if("object"!==t){st(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Wu(e,t,"name",a.name,a,null),Wu(e,t,"formEncType",a.formEncType,a,null),Wu(e,t,"formMethod",a.formMethod,a,null),Wu(e,t,"formTarget",a.formTarget,a,null)):(Wu(e,t,"encType",a.encType,a,null),Wu(e,t,"method",a.method,a,null),Wu(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Mu);break;case"onScroll":null!=r&&Pu("scroll",e);break;case"onScrollEnd":null!=r&&Pu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Pu("beforetoggle",e),Pu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Ct.get(n)||n,r)}}function Hu(e,t,n,r,a,o){switch(n){case"style":jt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Pu("scroll",e);break;case"onScrollEnd":null!=r&&Pu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Oe]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function Gu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pu("error",e),Pu("load",e);var r,a=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Wu(e,t,r,s,n,null)}}return o&&Wu(e,t,"srcSet",n.srcSet,n,null),void(a&&Wu(e,t,"src",n.src,n,null));case"input":Pu("invalid",e);var i=r=s=o=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:Wu(e,t,a,d,n,null)}}return bt(e,r,i,c,u,s,o,!1),void dt(e);case"select":for(o in Pu("invalid",e),a=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(i=n[o]))switch(o){case"value":r=i;break;case"defaultValue":s=i;break;case"multiple":a=i;default:Wu(e,t,o,i,n,null)}return t=r,n=s,e.multiple=!!a,void(null!=t?vt(e,!!a,t,!1):null!=n&&vt(e,!!a,n,!0));case"textarea":for(s in Pu("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(s)&&null!=(i=n[s]))switch(s){case"value":a=i;break;case"defaultValue":o=i;break;case"children":r=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(l(91));break;default:Wu(e,t,s,i,n,null)}return wt(e,a,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Wu(e,t,c,a,n,null);return;case"dialog":Pu("cancel",e),Pu("close",e);break;case"iframe":case"object":Pu("load",e);break;case"video":case"audio":for(a=0;a<Nu.length;a++)Pu(Nu[a],e);break;case"image":Pu("error",e),Pu("load",e);break;case"details":Pu("toggle",e);break;case"embed":case"source":case"link":Pu("error",e),Pu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Wu(e,t,u,a,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Hu(e,t,d,a,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(null!=(a=n[i])&&Wu(e,t,i,a,n,null))}var Vu=null,Qu=null;function Ju(e){return 9===e.nodeType?e:e.ownerDocument}function Yu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ku(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(ad)}:ed;function ad(e){setTimeout((function(){throw e}))}function od(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void hp(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);hp(t)}function ld(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ld(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function id(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Ju(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}var ud=new Map,dd=new Set;function pd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fd=B.d;B.d={f:function(){var e=fd.f(),t=Ic();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?fl(t):fd.r(e)},D:function(e){fd.D(e),hd("dns-prefetch",e,null)},C:function(e,t){fd.C(e,t),hd("preconnect",e,t)},L:function(e,t,n){fd.L(e,t,n);var r=md;if(r&&e&&t){var a='link[rel="preload"][as="'+ht(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+ht(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+ht(n.imageSizes)+'"]')):a+='[href="'+ht(e)+'"]';var o=a;switch(t){case"style":o=bd(e);break;case"script":o=xd(e)}ud.has(o)||(e=A({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(o,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(yd(o))||"script"===t&&r.querySelector(wd(o))||(Gu(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){fd.m(e,t);var n=md;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+ht(r)+'"][href="'+ht(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=xd(e)}if(!ud.has(o)&&(e=A({rel:"modulepreload",href:e},t),ud.set(o,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wd(o)))return}Gu(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){fd.X(e,t);var n=md;if(n&&e){var r=Ye(n).hoistableScripts,a=xd(e),o=r.get(a);o||((o=n.querySelector(wd(a)))||(e=A({src:e,async:!0},t),(t=ud.get(a))&&jd(e,t),Ke(o=n.createElement("script")),Gu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}},S:function(e,t,n){fd.S(e,t,n);var r=md;if(r&&e){var a=Ye(r).hoistableStyles,o=bd(e);t=t||"default";var l=a.get(o);if(!l){var s={loading:0,preload:null};if(l=r.querySelector(yd(o)))s.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(o))&&Ed(e,n);var i=l=r.createElement("link");Ke(i),Gu(i,"link",e),i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),i.addEventListener("load",(function(){s.loading|=1})),i.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Sd(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:s},a.set(o,l)}}},M:function(e,t){fd.M(e,t);var n=md;if(n&&e){var r=Ye(n).hoistableScripts,a=xd(e),o=r.get(a);o||((o=n.querySelector(wd(a)))||(e=A({src:e,async:!0,type:"module"},t),(t=ud.get(a))&&jd(e,t),Ke(o=n.createElement("script")),Gu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}};var md="undefined"===typeof document?null:document;function hd(e,t,n){var r=md;if(r&&"string"===typeof t&&t){var a=ht(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),dd.has(a)||(dd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(Gu(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function gd(e,t,n,r){var a,o,s,i,c=(c=K.current)?pd(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=bd(n.href),(r=(n=Ye(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=bd(n.href);var u=Ye(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(a=c,o=e,s=n,i=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?i.loading=1:(o=a.createElement("link"),i.preload=o,o.addEventListener("load",(function(){return i.loading|=1})),o.addEventListener("error",(function(){return i.loading|=2})),Gu(o,"link",s),Ke(o),a.head.appendChild(o))))),t&&null===r)throw Error(l(528,""));return d}if(t&&null!==r)throw Error(l(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=xd(n),(r=(n=Ye(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function bd(e){return'href="'+ht(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function vd(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function xd(e){return'[src="'+ht(e)+'"]'}function wd(e){return"script[async]"+e}function kd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ht(n.href)+'"]');if(r)return t.instance=r,Ke(r),r;var a=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(r=(e.ownerDocument||e).createElement("style")),Gu(r,"style",a),Sd(r,n.precedence,e),t.instance=r;case"stylesheet":a=bd(n.href);var o=e.querySelector(yd(a));if(o)return t.state.loading|=4,t.instance=o,Ke(o),o;r=vd(n),(a=ud.get(a))&&Ed(r,a),Ke(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Gu(o,"link",r),t.state.loading|=4,Sd(o,n.precedence,e),t.instance=o;case"script":return o=xd(n.src),(a=e.querySelector(wd(o)))?(t.instance=a,Ke(a),a):(r=n,(a=ud.get(o))&&jd(r=A({},n),a),Ke(a=(e=e.ownerDocument||e).createElement("script")),Gu(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Sd(r,n.precedence,e));return t.instance}function Sd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,l=0;l<r.length;l++){var s=r[l];if(s.dataset.precedence===t)o=s;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Nd=null;function Cd(e,t,n){if(null===Nd){var r=new Map,a=Nd=new Map;a.set(n,r)}else(r=(a=Nd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[He]||o[Ie]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var l=o.getAttribute(t)||"";l=e+l;var s=r.get(l);s?s.push(o):r.set(l,[o])}}return r}function Td(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Pd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var _d=null;function Ad(){}function $d(){if(this.count--,0===this.count)if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var zd=null;function Rd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,zd=new Map,t.forEach(Dd,e),zd=null,$d.call(e))}function Dd(e,t){if(!(4&t.state.loading)){var n=zd.get(e);if(n)var r=n.get(null);else{n=new Map,zd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var l=a[o];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(a=t.instance).getAttribute("data-precedence"),(o=n.get(l)||r)===r&&n.set(null,a),n.set(l,a),this.count++,r=$d.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Ud={$$typeof:g,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Ld(e,t,n,r,a,o,l,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Id(e,t,n,r,a,o,l,s,i,c,u,d){return e=new Ld(e,t,n,l,s,i,c,d),t=1,!0===o&&(t|=24),o=Di(3,null,null,t),e.current=o,o.stateNode=e,(t=qa()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Ps(o),e}function Od(e){return e?e=$r:$r}function qd(e,t,n,r,a,o){a=Od(a),null===r.context?r.context=a:r.pendingContext=a,(r=As(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=$s(e,r,t))&&($c(n,0,t),zs(n,e,t))}function Fd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bd(e,t){Fd(e,t),(e=e.alternate)&&Fd(e,t)}function Md(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&$c(t,0,67108864),Bd(e,67108864)}}var Wd=!0;function Hd(e,t,n,r){var a=_.T;_.T=null;var o=B.p;try{B.p=2,Vd(e,t,n,r)}finally{B.p=o,_.T=a}}function Gd(e,t,n,r){var a=_.T;_.T=null;var o=B.p;try{B.p=8,Vd(e,t,n,r)}finally{B.p=o,_.T=a}}function Vd(e,t,n,r){if(Wd){var a=Qd(r);if(null===a)Ru(e,t,r,Jd,n),lp(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Zd=sp(Zd,e,t,n,r,a),!0;case"dragenter":return ep=sp(ep,e,t,n,r,a),!0;case"mouseover":return tp=sp(tp,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return np.set(o,sp(np.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,rp.set(o,sp(rp.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(lp(e,r),4&t&&-1<op.indexOf(e)){for(;null!==a;){var o=Qe(a);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var l=je(o.pendingLanes);if(0!==l){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;l;){var i=1<<31-xe(l);s.entanglements[1]|=i,l&=~i}hu(o),0===(6&ec)&&(xc=ie()+500,gu(0,!1))}}break;case 13:null!==(s=Pr(o,2))&&$c(s,0,2),Ic(),Bd(o,2)}if(null===(o=Qd(r))&&Ru(e,t,r,Jd,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Ru(e,t,r,null,n)}}function Qd(e){return Yd(e=At(e))}var Jd=null;function Yd(e){if(Jd=null,null!==(e=Ve(e))){var t=L(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=I(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jd=e,null}function Kd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case pe:case fe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Xd=!1,Zd=null,ep=null,tp=null,np=new Map,rp=new Map,ap=[],op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lp(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":ep=null;break;case"mouseover":case"mouseout":tp=null;break;case"pointerover":case"pointerout":np.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rp.delete(t.pointerId)}}function sp(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=Qe(t))&&Md(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function ip(e){var t=Ve(e.target);if(null!==t){var n=L(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=I(n)))return e.blockedOn=t,void function(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}(e.priority,(function(){if(13===n.tag){var e=_c(),t=Pr(n,e);null!==t&&$c(t,0,e),Bd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function cp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qd(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&Md(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,t.shift()}return!0}function up(e,t,n){cp(e)&&n.delete(t)}function dp(){Xd=!1,null!==Zd&&cp(Zd)&&(Zd=null),null!==ep&&cp(ep)&&(ep=null),null!==tp&&cp(tp)&&(tp=null),np.forEach(up),rp.forEach(up)}function pp(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dp)))}var fp=null;function mp(e){fp!==e&&(fp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fp===e&&(fp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===Yd(r||n))continue;break}var o=Qe(n);null!==o&&(e.splice(t,3),t-=3,dl(o,{pending:!0,data:a,method:n.method,action:r},r,a))}})))}function hp(e){function t(t){return pp(t,e)}null!==Zd&&pp(Zd,e),null!==ep&&pp(ep,e),null!==tp&&pp(tp,e),np.forEach(t),rp.forEach(t);for(var n=0;n<ap.length;n++){var r=ap[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ap.length&&null===(n=ap[0]).blockedOn;)ip(n),null===n.blockedOn&&ap.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],l=a[Oe]||null;if("function"===typeof o)l||mp(n);else if(l){var s=null;if(o&&o.hasAttribute("formAction")){if(a=o,l=o[Oe]||null)s=l.formAction;else if(null!==Yd(a))continue}else s=l.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),mp(n)}}}function gp(e){this._internalRoot=e}function bp(e){this._internalRoot=e}bp.prototype.render=gp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));qd(t.current,_c(),e,t,null,null)},bp.prototype.unmount=gp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),qd(e.current,2,null,e,null,null),Ic(),t[qe]=null}},bp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ap.length&&0!==t&&t<ap[n].priority;n++);ap.splice(n,0,e),0===n&&ip(e)}};var yp=a.version;if("19.0.0"!==yp)throw Error(l(527,yp,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=L(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return O(a),e;if(o===r)return O(a),t;o=o.sibling}throw Error(l(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?q(e):null)?null:e.stateNode};var vp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:_,findFiberByHostInstance:Ve,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{be=xp.inject(vp),ye=xp}catch(kp){}}t.createRoot=function(e,t){if(!s(e))throw Error(l(299));var n=!1,r="",a=Dl,o=Ul,i=Ll;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Id(e,1,!1,null,0,n,r,a,o,i,0,null),e[qe]=t.current,$u(8===e.nodeType?e.parentNode:e),new gp(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(l(299));var r=!1,a="",o=Dl,i=Ul,c=Ll,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(i=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Id(e,1,!0,t,0,r,a,o,i,c,0,u)).context=Od(null),n=t.current,(a=As(r=_c())).callback=null,$s(n,a,r),t.current.lanes=r,$e(t,r),hu(t),e[qe]=t.current,$u(e),new bp(t)},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var x=v.prototype=new y;x.constructor=v,h(x,b.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,a,o,l){return r=l.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:l}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(){}function P(e,t,a,o,l){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var i,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case p:return P((u=e._init)(e._payload),t,a,o,l)}}if(u)return l=l(e),u=""===o?"."+C(e,0):o,w(l)?(a="",null!=u&&(a=u.replace(N,"$&/")+"/"),P(l,t,a,"",(function(e){return e}))):null!=l&&(j(l)&&(i=l,c=a+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(N,"$&/")+"/")+u,l=E(i.type,c,void 0,0,0,i.props)),t.push(l)),1;u=0;var d,m=""===o?".":o+":";if(w(e))for(var h=0;h<e.length;h++)u+=P(o=e[h],t,a,s=m+C(o,h),l);else if("function"===typeof(h=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=h.call(e),h=0;!(o=e.next()).done;)u+=P(o=o.value,t,a,s=m+C(o,h++),l);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,o,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function _(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var $="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function z(){}t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=l,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=h({},e.props),a=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var l=Array(o),s=0;s<o;s++)l[s]=arguments[s+2];r.children=l}return E(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,a={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var s=Array(l),i=0;i<l;i++)s[i]=arguments[i+2];a.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return E(e,o,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),a=k.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(z,$)}catch(o){$(o)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.0.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var i=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=i.T,n=l.p;try{if(i.T=null,l.p=2,e)return e()}finally{i.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):"script"===n&&l.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},t.useFormStatus=function(){return i.H.useHostTransitionStatus()},t.version="19.0.0"},719:(e,t,n)=>{n.r(t),n.d(t,{getAuthToken:()=>d,getCurrentBucket:()=>p,getCurrentUser:()=>l,getUserBucket:()=>u,getUserRole:()=>i,hasAdminPermission:()=>f,isAdmin:()=>c,isAuthenticated:()=>s,login:()=>a,logout:()=>o});const r="user_session",a=e=>{try{console.log("[AUTH-DEBUG] Datos de login recibidos:",e);let t={...e};e.assigned_folders&&Array.isArray(e.assigned_folders)&&(t.folders=[...e.assigned_folders],console.log("[AUTH-DEBUG] Folders normalizados desde assigned_folders:",t.folders)),localStorage.setItem(r,JSON.stringify({...t,timestamp:Date.now()}));const n=localStorage.getItem(r);return console.log("[AUTH-DEBUG] Datos guardados en localStorage:",n),t}catch(t){throw console.error("[AUTH-DEBUG] Error al guardar sesi\xf3n:",t),t}},o=()=>{try{localStorage.removeItem(r)}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}},l=()=>{try{const e=localStorage.getItem(r),t=e?JSON.parse(e):null;return console.log("[AUTH-DEBUG] Usuario obtenido del localStorage:",t),t?(t.username||console.log("[AUTH-DEBUG] Usuario sin username:",t),t.bucket||console.log("[AUTH-DEBUG] Usuario sin bucket:",t),t.role||console.log("[AUTH-DEBUG] Usuario sin role:",t),t):(console.log("[AUTH-DEBUG] No hay usuario en localStorage"),null)}catch(e){return console.error("[AUTH-DEBUG] Error al obtener usuario actual:",e),null}},s=()=>!!l(),i=()=>{const e=l();return e?e.role:null},c=()=>"admin"===i(),u=()=>{const e=l();return e?e.bucket:null},d=()=>{const e=l();if(console.log("[AUTH-DEBUG] getAuthToken - Usuario obtenido:",e),!e)return console.log("[AUTH-DEBUG] getAuthToken - No hay usuario, retornando null"),null;const t={username:e.username,role:e.role,bucket:e.bucket,type:e.type||"static",folders:e.folders||[],assigned_folders:e.assigned_folders||[],permissions:{},createdBy:e.createdBy,userId:e.userId};if(e.assigned_folders&&Array.isArray(e.assigned_folders)){const n=e.assigned_folders.find((e=>"object"===typeof e&&"admin_permissions"===e.type));n&&n.permissions&&(t.permissions={...n.permissions},console.log("[AUTH-DEBUG] Permisos extra\xeddos de assigned_folders:",t.permissions))}else if(e.folders&&Array.isArray(e.folders)){const n=e.folders.find((e=>"object"===typeof e&&"admin_permissions"===e.type));n&&n.permissions&&(t.permissions={...n.permissions},console.log("[AUTH-DEBUG] Permisos extra\xeddos de folders:",t.permissions))}console.log("[AUTH-DEBUG] getAuthToken - Token a codificar:",t);const n=btoa(JSON.stringify(t));return console.log("[AUTH-DEBUG] getAuthToken - Token codificado:",n),localStorage.setItem("authToken",n),n},p=()=>{try{const t=l();if(t&&t.bucket)return console.log("[AUTH-DEBUG] Bucket obtenido de user_session:",t.bucket),t.bucket;const n=localStorage.getItem("authToken");if(n)try{const e=JSON.parse(atob(n));if(e.bucket)return console.log("[AUTH-DEBUG] Bucket obtenido de authToken:",e.bucket),e.bucket}catch(e){console.error("[AUTH-DEBUG] Error al decodificar authToken:",e)}}catch(e){console.error("[AUTH-DEBUG] Error al obtener bucket:",e)}return console.log("[AUTH-DEBUG] Usando bucket por defecto: master"),"master"},f=e=>{try{const t=l();if(console.log(`[PERM-DEBUG] Verificando permiso '${e}' para usuario:`,t?t.username:"No autenticado"),!t)return console.log("[PERM-DEBUG] No hay usuario autenticado"),!1;if("admin"===t.role&&(!t.type||"static"===t.type))return console.log("[PERM-DEBUG] Usuario es admin est\xe1tico, permiso concedido"),!0;if("edit_metadata"===e){let e=!1;if(t.permissions&&t.permissions.upload_files)e=!0;else if(t.assigned_folders&&Array.isArray(t.assigned_folders)){const n=t.assigned_folders.find((e=>"object"===typeof e&&"admin_permissions"===e.type));n&&n.permissions&&n.permissions.upload_files&&(e=!0)}else if(t.folders&&Array.isArray(t.folders)){const n=t.folders.find((e=>"object"===typeof e&&"admin_permissions"===e.type));n&&n.permissions&&n.permissions.upload_files&&(e=!0)}if(e)return console.log("[PERM-DEBUG] Permiso edit_metadata concedido porque tiene upload_files"),!0}if(t.assigned_folders&&Array.isArray(t.assigned_folders)){console.log("[PERM-DEBUG] Verificando en assigned_folders:",t.assigned_folders);const n=t.assigned_folders.find((e=>"object"===typeof e&&"admin_permissions"===e.type));if(n&&(console.log("[PERM-DEBUG] Objeto de permisos encontrado:",n),n.permissions&&n.permissions[e]))return console.log(`[PERM-DEBUG] Permiso '${e}' concedido desde assigned_folders`),!0}if(t.folders&&Array.isArray(t.folders)){console.log("[PERM-DEBUG] Verificando en folders:",t.folders);const n=t.folders.find((e=>"object"===typeof e&&"admin_permissions"===e.type));if(n&&(console.log("[PERM-DEBUG] Objeto de permisos encontrado en folders:",n),n.permissions&&n.permissions[e]))return console.log(`[PERM-DEBUG] Permiso '${e}' concedido desde folders`),!0}return t.permissions&&"object"===typeof t.permissions&&(console.log("[PERM-DEBUG] Verificando en user.permissions:",t.permissions),t.permissions[e])?(console.log(`[PERM-DEBUG] Permiso '${e}' concedido desde user.permissions`),!0):(console.log(`[PERM-DEBUG] Permiso '${e}' denegado - no encontrado`),!1)}catch(t){return console.error("[PERM-DEBUG] Error al verificar permiso:",t),!1}}},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var s=2*(r+1)-1,i=e[s],c=s+1,u=e[c];if(0>o(i,n))c<a&&0>o(u,i)?(e[r]=u,e[c]=n,r=c):(e[r]=i,e[s]=n,r=s);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,i=s.now();t.unstable_now=function(){return s.now()-i}}var c=[],u=[],d=1,p=null,f=3,m=!1,h=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!h)if(null!==r(c))h=!0,A();else{var t=r(u);null!==t&&$(w,t.startTime-e)}}var k,S=!1,E=-1,j=5,N=-1;function C(){return!(t.unstable_now()-N<j)}function T(){if(S){var e=t.unstable_now();N=e;var n=!0;try{e:{h=!1,g&&(g=!1,y(E),E=-1),m=!0;var o=f;try{t:{for(x(e),p=r(c);null!==p&&!(p.expirationTime>e&&C());){var l=p.callback;if("function"===typeof l){p.callback=null,f=p.priorityLevel;var s=l(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,x(e),n=!0;break t}p===r(c)&&a(c),x(e)}else a(c);p=r(c)}if(null!==p)n=!0;else{var i=r(u);null!==i&&$(w,i.startTime-e),n=!1}}break e}finally{p=null,f=o,m=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof v)k=function(){v(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,_=P.port2;P.port1.onmessage=T,k=function(){_.postMessage(null)}}else k=function(){b(T,0)};function A(){S||(S=!0,k())}function $(e,n){E=b((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||m||(h=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var l=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?l+o:l:o=l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>l?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,$(w,o-l))):(e.sortIndex=s,n(c,e),h||m||(h=!0,A())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".30d845d7.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="master-backend:";n.l=(r,a,o,l)=>{if(e[r])e[r].push(a);else{var s,i;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(i=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[a];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),i&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/master/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=o);var l=n.p+n.u(t),s=new Error;n.l(l,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+l+")",s.name="ChunkLoadError",s.type=o,s.request=l,a[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,o,l=r[0],s=r[1],i=r[2],c=0;if(l.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(i)i(n)}for(t&&t(r);c<l.length;c++)o=l[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkmaster_backend=self.webpackChunkmaster_backend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),a=n(391),o=n(719);const l="directoryofsites.github.io"===window.location.hostname&&window.location.pathname.startsWith("/master/");console.log("Hostname:",window.location.hostname),console.log("Pathname:",window.location.pathname),console.log("Is GitHub Pages:",l);const s="https://master-production-5386.up.railway.app/api",i=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{console.log(`Listando archivos en: ${e||"ra\xedz"}`);const t=`${s}/files${e?`?prefix=${encodeURIComponent(e)}`:""}`,n=await async function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;const a=(0,o.getAuthToken)();try{if(console.log("[API-DEBUG] Token obtenido de getAuthToken:",a),a){const e=JSON.parse(atob(a));console.log("[API-DEBUG] Token decodificado completo:",e),console.log("[API-DEBUG] Enviando petici\xf3n con token:",{username:e.username||"No disponible",role:e.role||"No disponible",bucket:e.bucket||"No disponible"}),e.username||console.error("[API-DEBUG] ERROR: Token sin username"),e.bucket||console.error("[API-DEBUG] ERROR: Token sin bucket"),e.role||console.error("[API-DEBUG] ERROR: Token sin role")}else console.log("[API-DEBUG] No hay token disponible para la petici\xf3n a:",e),console.log("[API-DEBUG] Estado de localStorage:",localStorage.getItem("user_session"))}catch(l){console.error("[API-DEBUG] Error al decodificar token para depuraci\xf3n:",l),console.error("[API-DEBUG] Token problem\xe1tico:",a)}a&&(n.headers={...n.headers,Authorization:`Bearer ${a}`});for(let o=1;o<=r;o++)try{console.log(`Intento ${o}/${r} para ${e}`);const t=new AbortController,a=setTimeout((()=>t.abort()),15e3),l=await fetch(e,{...n,signal:t.signal});if(clearTimeout(a),!l.ok){const e=await l.text().catch((()=>"Error desconocido"));throw new Error(`Error ${l.status}: ${e}`)}return l}catch(l){if(t=l,console.error(`Intento ${o} fall\xf3:`,l.message),o<r){const e=1e3*o;console.log(`Esperando ${e}ms antes de reintentar...`),await new Promise((t=>setTimeout(t,e)))}}throw t}(t),r=await n.json();return console.log(`Listado exitoso: ${r.length} elementos encontrados`),r}catch(t){throw console.error("Error en listFiles despu\xe9s de reintentos:",t),new Error("No se pudieron cargar los archivos")}},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=new FormData;n.append("file",e),n.append("path",t);const r=(new Date).toISOString().split("T")[0];n.append("uploadDate",r),n.append("fileDate",r);const a=(0,o.getAuthToken)(),l={};a&&(l.Authorization=`Bearer ${a}`);try{const e=await fetch(`${s}/upload`,{method:"POST",headers:l,body:n});if(!e.ok)throw new Error("No se pudo subir el archivo");const t=await e.json();if(t&&t.success&&t.filePath)try{const e=(new Date).toISOString().split("T")[0],n={uploadDate:e,fileDate:e,uploadedBy:"admin1",tags:[],lastModified:e},r=await w(t.filePath,n);console.log("Metadatos iniciales establecidos autom\xe1ticamente:",r)}catch(i){console.warn("Error al establecer metadatos iniciales:",i)}return t}catch(c){throw console.error("Error en uploadFile:",c),c}},u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)throw new Error("Se requiere una ruta para eliminar el elemento");console.log("Intentando eliminar:",e,"Es carpeta:",t);try{const n=(0,o.getAuthToken)(),r={"Content-Type":"application/json"};if(n&&(r.Authorization=`Bearer ${n}`),t){const t=await fetch(`${s}/deleteFolder?path=${encodeURIComponent(e)}`,{method:"DELETE",headers:r});if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.message||`Error ${t.status}`)}return await t.json()}{const t=await fetch(`${s}/delete?path=${encodeURIComponent(e)}`,{method:"DELETE",headers:r});if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.message||`Error ${t.status}`)}return await t.json()}}catch(n){throw console.error("Error al eliminar elemento:",n),n}},d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!e)throw new Error("Se requiere una ruta para obtener la URL");const n=e.toLowerCase().endsWith(".pdf"),r=/\.(jpe?g|png|gif|bmp|webp)$/i.test(e),a=e.toLowerCase().endsWith(".docx"),l=n||r||a;console.log("\xbfEs un archivo visualizable?",l);const i=(0,o.getAuthToken)();let c=`${s}/download?path=${encodeURIComponent(e)}`;l&&!t&&(c+="&view=true"),i&&(c+=`&token=${encodeURIComponent(i)}`),console.log("URL de descarga con token:",c);const u=await fetch(c);if(!u.ok)throw new Error("No se pudo obtener la URL del archivo");const d=await u.json();if(!d.success||!d.publicUrl)throw new Error("No se pudo generar la URL del archivo");return d.publicUrl}catch(n){throw console.error("Error en getDownloadUrl:",n),n}},p=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(console.log("INICIANDO b\xfasqueda por m\xfaltiples etiquetas:",e),!e)throw new Error("Se requiere al menos una etiqueta para la b\xfasqueda");let n;if(n=Array.isArray(e)?e.join(","):e,!n.trim())throw new Error("Se requiere al menos una etiqueta para la b\xfasqueda");const r=(0,o.getAuthToken)();let a=`${s}/search-by-multiple-tags?tags=${encodeURIComponent(n.trim())}`;t&&(a+="&useIds=true"),r&&(a+=`&token=${encodeURIComponent(r)}`),console.log("URL exacta de b\xfasqueda por m\xfaltiples etiquetas:",a),console.log("Enviando solicitud al endpoint de b\xfasqueda por m\xfaltiples etiquetas...");const l=(new Date).getTime(),i=await fetch(a),c=(new Date).getTime();if(console.log(`La solicitud tard\xf3 ${c-l} ms en completarse`),!i.ok){const e=await i.json().catch((()=>({})));throw new Error(e.message||`Error ${i.status}`)}const u=await i.json();return console.log(`Se encontraron ${u.length} resultados desde el servidor para la b\xfasqueda con m\xfaltiples etiquetas`),u}catch(n){throw console.error("Error en searchFilesByMultipleTags:",n),n}},f=async e=>{try{if(console.log(`INICIANDO b\xfasqueda por contenido: texto: ${e}`),!e||!e.trim())throw new Error("Se requiere un texto para la b\xfasqueda en contenido");const t=(0,o.getAuthToken)();let n=`${s}/search-by-content?text=${encodeURIComponent(e.trim())}`;t&&(n+=`&token=${encodeURIComponent(t)}`),console.log("URL exacta de b\xfasqueda por contenido:",n),console.log("Enviando solicitud al endpoint de b\xfasqueda por contenido...");const r=(new Date).getTime(),a=await fetch(n),l=(new Date).getTime();if(console.log(`La solicitud tard\xf3 ${l-r} ms en completarse`),!a.ok){const e=await a.json().catch((()=>({})));throw new Error(e.message||`Error ${a.status}`)}const i=await a.json();return console.log(`Se encontraron ${i.length} resultados desde el servidor para la b\xfasqueda por contenido`),i}catch(t){throw console.error("Error en searchByContent:",t),t}},m=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const a=(0,o.getAuthToken)(),l={"Content-Type":"application/json"};a&&(l.Authorization=`Bearer ${a}`);const i=await fetch(`${s}/transcribe-audio`,{method:"POST",headers:l,body:JSON.stringify({filePath:e,processWithGPT:t,customPrompt:n,confirmDelete:r})});if(!i.ok){const e=await i.text();throw new Error(`Error ${i.status}: ${e}`)}const c=await i.json();if(t&&c.processedPath===c.transcriptionPath){const e=c.transcriptionPath.substring(0,c.transcriptionPath.lastIndexOf("_"));c.processedPath=`${e}_acta_formatada.txt`}return c}catch(a){throw console.error("Error transcribing audio:",a),a}},h=async e=>{try{if(!e)throw new Error("Se requiere una ruta para obtener la URL de YouTube");const t=(0,o.getAuthToken)(),n={};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/youtube-url?path=${encodeURIComponent(e)}`,{headers:n});if(!r.ok)throw new Error("No se pudo obtener la URL de YouTube");return(await r.json()).youtubeUrl}catch(t){throw console.error("Error en getYoutubeUrl:",t),t}},g=async e=>{try{if(!e)throw new Error("Se requiere una ruta para obtener la URL de audio");const t=(0,o.getAuthToken)(),n={};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/audio-url?path=${encodeURIComponent(e)}`,{headers:n});if(!r.ok)throw new Error("No se pudo obtener la URL de audio");return(await r.json()).audioUrl}catch(t){throw console.error("Error en getAudioUrl:",t),t}},b=async e=>{try{if(!e)throw new Error("Se requiere una ruta para obtener la URL de imagen");const t=(0,o.getAuthToken)(),n={};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/image-url?path=${encodeURIComponent(e)}`,{headers:n});if(!r.ok)throw new Error("No se pudo obtener la URL de imagen");return(await r.json()).imageUrl}catch(t){throw console.error("Error en getImageUrl:",t),t}},y=async(e,t)=>{try{const n=(0,o.getAuthToken)(),r={"Content-Type":"application/json"};if(n&&(r.Authorization=`Bearer ${n}`),console.log("[API] updateUser - Datos enviados al servidor:",JSON.stringify(t,null,2)),t.assigned_folders){const e=t.assigned_folders.some((e=>"object"===typeof e&&"admin_permissions"===e.type));console.log("[API] updateUser - Objeto de permisos detectado:",e)}const a=await fetch(`${s}/admin/update-user/${e}`,{method:"PATCH",headers:r,body:JSON.stringify(t)});if(!a.ok){const e=await a.text();throw console.error("[API] Error al actualizar usuario:",e),new Error(`Error al actualizar usuario: ${e}`)}const l=await a.json();return console.log("[API] updateUser - Respuesta del servidor:",JSON.stringify(l,null,2)),l}catch(n){throw console.error("Error en updateUser:",n),n}},v=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const n=(0,o.getAuthToken)(),r={};n&&(r.Authorization=`Bearer ${n}`);const a=`${s}/admin/delete-user/${e}${t?"?permanent=true":""}`,l=await fetch(a,{method:"DELETE",headers:r});if(!l.ok)throw new Error("Error al eliminar usuario");return await l.json()}catch(n){throw console.error("Error en deleteUser:",n),n}},x=async e=>{try{if(!e)throw new Error("Se requiere una ruta para obtener los metadatos");const t=(0,o.getAuthToken)(),n={};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/file-metadata?path=${encodeURIComponent(e)}`,{headers:n});if(!r.ok)throw new Error("No se pudo obtener los metadatos del archivo");return(await r.json()).metadata}catch(t){throw console.error("Error en getFileMetadata:",t),t}},w=async(e,t)=>{try{if(!e)throw new Error("Se requiere una ruta para actualizar los metadatos");const n=(0,o.getAuthToken)(),r={"Content-Type":"application/json"};n&&(r.Authorization=`Bearer ${n}`);const a=await fetch(`${s}/file-metadata`,{method:"POST",headers:r,body:JSON.stringify({filePath:e,metadata:t})});if(!a.ok)throw new Error("No se pudo actualizar los metadatos del archivo");return await a.json()}catch(n){throw console.error("Error en updateFileMetadata:",n),n}},k=async()=>{try{var e;const t=(0,o.getAuthToken)();let n=`${s}/tags`;t&&(n+=`?token=${encodeURIComponent(t)}`),console.log("Obteniendo etiquetas del servidor...");const r=await fetch(n);if(!r.ok){const e=await r.json().catch((()=>({})));throw new Error(e.message||`Error ${r.status}`)}const a=await r.json();return console.log(`Obtenidas ${(null===(e=a.tags)||void 0===e?void 0:e.length)||0} etiquetas del servidor`),a}catch(t){throw console.error("Error en getTags:",t),t}},S=async e=>{try{if(!e)throw new Error("Se requiere ID de etiqueta");const t=(0,o.getAuthToken)(),n={};t&&(n.Authorization=`Bearer ${t}`),console.log(`Eliminando etiqueta con ID: ${e}`);const r=await fetch(`${s}/tags/${e}`,{method:"DELETE",headers:n});if(!r.ok){const e=await r.json().catch((()=>({})));throw new Error(e.message||`Error ${r.status}`)}return await r.json()}catch(t){throw console.error("Error en deleteTag:",t),t}},E=async(e,t)=>{try{if(!e)throw new Error("Se requiere la ruta del archivo a duplicar");console.log(`Duplicando archivo: ${e}`);const t=(0,o.getAuthToken)(),n={"Content-Type":"application/json"};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/duplicate-file`,{method:"POST",headers:n,body:JSON.stringify({filePath:e})});if(!r.ok){const e=await r.json().catch((()=>({})));throw new Error(e.message||`Error ${r.status} al duplicar el archivo`)}return await r.json()}catch(n){throw console.error("Error en copyFile:",n),n}};var j=n(579);const N=e=>{let{onTagsChange:t,maxTags:n=4}=e;const[a,o]=(0,r.useState)([]),[l,s]=(0,r.useState)({}),[i,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0),[p,f]=(0,r.useState)(""),[m,h]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{try{d(!0),f("");const e=await k();if(!e.success)throw new Error(e.message||"Error al obtener etiquetas");const t={},n=[];e.tags.forEach((e=>{t[e.category]||(t[e.category]=[],n.push(e.category)),t[e.category].push({id:e.id,name:e.tag_name,category:e.category})})),n.sort(),Object.keys(t).forEach((e=>{t[e].sort(((e,t)=>e.name.localeCompare(t.name)))})),o(n),s(t),h(n)}catch(e){console.error("Error al cargar etiquetas:",e),f("No se pudieron cargar las etiquetas. Por favor, intente de nuevo.")}finally{d(!1)}})()}),[]);const g=e=>{const r=i.findIndex((t=>t.id===e.id));if(r>=0){const e=[...i];e.splice(r,1),c(e),t(e)}else if(i.length<n){const n=[...i,e];c(n),t(n)}else alert(`Solo puede seleccionar hasta ${n} etiquetas para la b\xfasqueda.`)};return u?(0,j.jsx)("div",{className:"loading-message",children:"Cargando etiquetas..."}):p?(0,j.jsx)("div",{className:"error-message",children:p}):(0,j.jsxs)("div",{className:"tag-selector",children:[(0,j.jsxs)("div",{className:"selected-tags-section",children:[(0,j.jsxs)("h4",{children:["Etiquetas seleccionadas (",i.length,"/",n,"):"]}),(0,j.jsx)("div",{className:"selected-tags-list",children:0===i.length?(0,j.jsx)("span",{className:"empty-selection",children:"Sin etiquetas seleccionadas"}):i.map((e=>(0,j.jsxs)("div",{className:"selected-tag",children:[(0,j.jsx)("span",{children:e.name}),(0,j.jsx)("button",{className:"remove-tag",onClick:()=>g(e),children:"\xd7"})]},e.id)))})]}),(0,j.jsx)("div",{className:"categories-container",children:a.map((e=>(0,j.jsxs)("div",{className:"category-section",children:[(0,j.jsxs)("div",{className:"category-header",onClick:()=>(e=>{m.includes(e)?h(m.filter((t=>t!==e))):h([...m,e])})(e),children:[(0,j.jsx)("h4",{children:e}),(0,j.jsx)("span",{className:"expand-icon",children:m.includes(e)?"\u25bc":"\u25ba"})]}),m.includes(e)&&(0,j.jsx)("div",{className:"tags-grid",children:l[e].map((e=>{return(0,j.jsx)("div",{className:"tag-item "+(t=e.id,i.some((e=>e.id===t))?"selected":""),onClick:()=>g(e),children:e.name},e.id);var t}))})]},e)))}),(0,j.jsx)("style",{jsx:!0,children:"\n        .tag-selector {\n          margin-bottom: 20px;\n        }\n        \n        .selected-tags-section {\n          margin-bottom: 15px;\n          border: 1px solid #ddd;\n          padding: 10px;\n          border-radius: 4px;\n          background-color: #f9f9f9;\n        }\n        \n        .selected-tags-list {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          margin-top: 5px;\n        }\n        \n        .empty-selection {\n          color: #888;\n          font-style: italic;\n        }\n        \n        .selected-tag {\n          background-color: #2196F3;\n          color: white;\n          padding: 5px 10px;\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          font-size: 14px;\n        }\n        \n        .remove-tag {\n          background: none;\n          border: none;\n          color: white;\n          font-size: 16px;\n          margin-left: 5px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 20px;\n          height: 20px;\n        }\n        \n        .category-section {\n          margin-bottom: 15px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          overflow: hidden;\n        }\n        \n        .category-header {\n          padding: 10px;\n          background-color: #f1f1f1;\n          cursor: pointer;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .category-header h4 {\n          margin: 0;\n          font-size: 16px;\n        }\n        \n        .tags-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n          gap: 8px;\n          padding: 10px;\n        }\n        \n        .tag-item {\n          padding: 8px;\n          background-color: #e9e9e9;\n          border-radius: 4px;\n          cursor: pointer;\n          text-align: center;\n          transition: all 0.2s;\n        }\n        \n        .tag-item:hover {\n          background-color: #d4d4d4;\n        }\n        \n        .tag-item.selected {\n          background-color: #2196F3;\n          color: white;\n        }\n        \n        .loading-message,\n        .error-message {\n          padding: 10px;\n          text-align: center;\n        }\n        \n        .error-message {\n          color: #e74c3c;\n        }\n        \n        .highlight-new-option {\n          background-color: #e1f5fe;\n          padding: 5px 10px;\n          border-radius: 4px;\n          border-left: 3px solid #2196F3;\n          margin-top: 5px;\n        }\n      "})]})},C=e=>{let{filePath:t,isOpen:n,onClose:a,onSave:o}=e;const[l,s]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null),[u,d]=(0,r.useState)({uploadDate:(new Date).toISOString().split("T")[0],fileDate:(new Date).toISOString().split("T")[0],uploadedBy:"admin1",tags:[],lastModified:(new Date).toISOString().split("T")[0]}),[p,f]=(0,r.useState)((new Date).toISOString().split("T")[0]),[m,h]=(0,r.useState)([]),[g,b]=(0,r.useState)([]),[y,v]=(0,r.useState)(""),[S,E]=(0,r.useState)([]),[C,T]=(0,r.useState)([]),[P,_]=(0,r.useState)(!1);(0,r.useEffect)((()=>{n&&t&&$()}),[n,t]);const A=()=>{try{const e=localStorage.getItem("docubox_saved_tags");if(e){const t=JSON.parse(e);if(Array.isArray(t)&&t.length>0){const e=(()=>{try{const t=localStorage.getItem("user_session");if(t){const e=JSON.parse(t);if(e.bucket)return console.log("Obteniendo bucket desde user_session:",e.bucket),e.bucket}const n=localStorage.getItem("authToken");if(n)try{const e=JSON.parse(atob(n));if(e.bucket)return console.log("Obteniendo bucket desde authToken:",e.bucket),e.bucket}catch(e){console.error("Error al decodificar authToken:",e)}}catch(i){console.error("Error al obtener bucket del almacenamiento:",i)}return console.log("Usando bucket por defecto: master"),"master"})(),n=`docubox_saved_tags_${e}`;console.log(`Migrando ${t.length} etiquetas de la clave antigua al bucket ${e}`);const r=localStorage.getItem(n);let a=t;if(r){const e=JSON.parse(r);a=[...new Set([...t,...e])]}localStorage.setItem(n,JSON.stringify(a)),localStorage.removeItem("docubox_saved_tags"),console.log(`Migraci\xf3n completada. ${a.length} etiquetas guardadas en formato nuevo.`)}}}catch(i){console.error("Error al migrar etiquetas:",i)}};(0,r.useEffect)((()=>{A()}),[]),(0,r.useEffect)((()=>{(async()=>{try{console.log("Cargando etiquetas desde la API...");const e=await k();if(console.log("Respuesta de la API getTags:",e),e&&e.success&&e.tags){const t=e.tags.map((e=>e.tag_name)),n=[...new Set(t)];console.log("Etiquetas \xfanicas extra\xeddas:",n),E(n),console.log(`${n.length} etiquetas cargadas desde la API`)}else if(e&&e.success&&e.tagsByCategory){const t=[];Object.entries(e.tagsByCategory).forEach((e=>{let[n,r]=e;t.push(...r),console.log(`Categor\xeda ${n} tiene ${r.length} etiquetas`)}));const n=[...new Set(t)];console.log("Etiquetas \xfanicas extra\xeddas de tagsByCategory:",n),E(n),console.log(`${n.length} etiquetas cargadas desde la API (usando tagsByCategory)`)}else console.log("No se pudieron cargar etiquetas desde la API. Respuesta:",e),E([])}catch(i){console.error("Error al cargar etiquetas desde la API:",i),E([])}})()}),[]);const $=async()=>{try{s(!0),c(null);const n=(new Date).toISOString().split("T")[0],r={uploadDate:n,fileDate:n,uploadedBy:"admin1",tags:[],lastModified:n};console.log("Valores por defecto con fecha actual:",r);try{const e=await x(t);if(console.log("Respuesta de metadatos:",e),e&&Object.keys(e).length>0){const t={...r,...e};d(t),t.fileDate?f(t.fileDate):f(r.fileDate),Array.isArray(e.tags)?h(e.tags):h([])}else d(r),f(r.fileDate),h(r.tags)}catch(e){console.log("Error al obtener metadatos, usando valores por defecto"),d(r),f(r.fileDate),h(r.tags)}}catch(i){console.error("Error general al cargar metadatos:",i)}finally{s(!1)}};return n?(0,j.jsx)("div",{className:"modal-overlay",children:(0,j.jsxs)("div",{className:"modal-content file-metadata-editor",children:[(0,j.jsx)("h2",{children:"Editar metadatos del archivo"}),(0,j.jsx)("p",{className:"file-path",children:t}),l?(0,j.jsx)("p",{children:"Cargando metadatos..."}):(0,j.jsxs)("div",{className:"metadata-form",children:[(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{children:"Fecha del archivo:"}),(0,j.jsx)("input",{type:"date",value:p,onChange:e=>f(e.target.value),className:"date-input"})]}),u&&(0,j.jsxs)("div",{className:"metadata-info",children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"Fecha de subida:"})," ",u.uploadDate]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"Subido por:"})," ",u.uploadedBy]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"\xdaltima modificaci\xf3n:"})," ",u.lastModified]})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{children:"Etiquetas:"}),(0,j.jsx)("div",{className:"tags-container",children:m.map(((e,t)=>(0,j.jsxs)("div",{className:"tag",children:[e,(0,j.jsx)("button",{type:"button",className:"remove-tag-btn",onClick:()=>{return t=e,void h(m.filter((e=>e!==t)));var t},children:"\xd7"})]},t)))}),(0,j.jsx)("div",{className:"tag-selector-container",children:(0,j.jsx)(N,{onTagsChange:e=>{b(e);const t=e.map((e=>e.name));h(t)},maxTags:10})})]}),(0,j.jsxs)("div",{className:"modal-buttons",children:[(0,j.jsx)("button",{type:"button",onClick:a,className:"cancel-btn",children:"Cancelar"}),(0,j.jsx)("button",{type:"button",onClick:()=>{try{console.log("[META-DEBUG] Iniciando guardado de metadatos");const n=(new Date).toISOString().split("T")[0],r=u.uploadDate||n,l={...u,uploadDate:r,fileDate:p,tags:m,lastModified:n};console.log("[META-DEBUG] Metadatos a guardar:",l),console.log("[META-DEBUG] Ruta del archivo:",t);try{console.log("[META-DEBUG] Enviando solicitud al servidor..."),setTimeout((()=>{w(t,l).then((e=>{console.log("[META-DEBUG] Respuesta del servidor:",e),alert("Metadatos guardados correctamente"),o&&(console.log("[META-DEBUG] Notificando al componente padre sobre guardado exitoso"),o(l)),a&&a()})).catch((e=>{console.error("[META-DEBUG] Error al guardar en el servidor:",e),console.error("[META-DEBUG] Detalles del error:",JSON.stringify(e,null,2)),alert("Error al guardar los metadatos: "+(e.message||"Error desconocido"))}))}),300)}catch(e){console.error("[META-DEBUG] Error cr\xedtico al intentar guardar:",e),console.error("[META-DEBUG] Stack trace:",e.stack),alert("Error al guardar los metadatos: "+(e.message||"Error desconocido"))}}catch(i){console.error("[META-DEBUG] Error general en handleSave:",i),console.error("[META-DEBUG] Stack trace:",i.stack),alert("Error al procesar los metadatos: "+(i.message||"Error desconocido")),a&&a()}},className:"save-btn",children:"Guardar cambios"})]})]})]})}):null},T=e=>{let{files:t,currentPath:n,onNavigate:a,userRole:l,onActionComplete:i,isSearchResults:c=!1}=e;const[p,f]=(0,r.useState)({}),[y,v]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[S,N]=(0,r.useState)(null),[T,P]=(0,r.useState)(""),[_,A]=(0,r.useState)({}),[$,z]=(0,r.useState)({}),[R,D]=(0,r.useState)({}),[U,L]=(0,r.useState)([]),[I,O]=(0,r.useState)(null),[q,F]=(0,r.useState)(""),[B,M]=(0,r.useState)(!1),[W,H]=(0,r.useState)(null),[G,V]=(0,r.useState)(""),[Q,J]=(0,r.useState)(""),[Y,K]=(0,r.useState)(!1),[X,Z]=(0,r.useState)([]),ee=(0,r.useRef)(new Map);(0,r.useEffect)((()=>{W&&console.log("Men\xfa de acciones activado para:",W)}),[W]),(0,r.useEffect)((()=>{W&&console.log("Men\xfa de acciones activado para:",W)}),[W]);const[te,ne]=(0,r.useState)(null),[re,ae]=(0,r.useState)(""),[oe,le]=(0,r.useState)(null),[se,ie]=(0,r.useState)(""),[ce,ue]=(0,r.useState)(null),[de,pe]=(0,r.useState)("");(0,r.useEffect)((()=>{function e(e){if(W){const t=ee.current.get(W);t&&t.contains(e.target)||H(null)}}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[W]),(0,r.useEffect)((()=>{!async function(){if(!t||0===t.length||y)return;v(!0),console.log("Cargando URLs para todos los archivos...");const e={},r={},a={},o={},l=t.map((async t=>{if(!t.isFolder){let i;i=c?t.path.startsWith("/")?t.path.substring(1):t.path:n?`${n}/${t.name}`:t.name;try{const t=await h(i);t&&(e[i]=t);const n=await g(i);n&&(r[i]=n);const s=await b(i);s&&(a[i]=s);try{const e=await x(i);e&&(o[i]=e)}catch(l){console.error(`Error al cargar metadatos para ${i}:`,l)}}catch(s){console.error(`Error al cargar URLs para ${i}:`,s)}}}));await Promise.all(l),f(e),A(r),z(a),console.log("URLs de YouTube cargadas:",e),console.log("URLs de audio cargadas:",r),console.log("URLs de imagen cargadas:",a),D(o),console.log("Metadatos cargados:",o),v(!1)}(),L([]),M(!1),K(!1),Z([])}),[t,n,c]);const fe=e=>c?e.path.startsWith("/")?e.path.substring(1):e.path:n?`${n}/${e.name}`:e.name,me=(e,t)=>{t.stopPropagation();const n=fe(e);L((t=>t.some((e=>e.path===n))?t.filter((e=>e.path!==n)):[...t,{...e,path:n}]))},he=async e=>{if(e.stopPropagation(),I&&q.trim())if(I.name!==q)try{const e=fe(I),t=e.split("/");t.pop();const n=t.join("/"),r=n?`${n}/${q}`:q;console.log("Renombrando:",{rutaOriginal:e,nuevaRuta:r,esCarpeta:I.isFolder});const a=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(!e||!t)throw new Error("Se requieren las rutas de origen y destino para renombrar el elemento");console.log(`Renombrando ${n?"carpeta":"archivo"} de ${e} a ${t}`);const r=(0,o.getAuthToken)(),a={"Content-Type":"application/json"};r&&(a.Authorization=`Bearer ${r}`);const l=t.split("/").pop(),i=n?"rename-folder":"rename-file",c=await fetch(`${s}/${i}`,{method:"PATCH",headers:a,body:JSON.stringify({oldPath:e,newName:l})});if(!c.ok){const e=await c.json().catch((()=>({})));throw new Error(e.message||`Error ${c.status} al renombrar el elemento`)}return await c.json()}catch(r){throw console.error("Error en renameItem:",r),r}}(e,r,I.isFolder);a&&a.success?(alert("Elemento renombrado correctamente"),i&&i()):alert(`Error: ${a&&a.message?a.message:"No se pudo renombrar el elemento"}`)}catch(t){console.error("Error al renombrar:",t),alert(`Error: ${t.message||"Ocurri\xf3 un error al renombrar"}`)}finally{O(null),F("")}else O(null);else O(null)},ge=e=>{e.stopPropagation(),O(null),F("")},be=async(e,t)=>{let r;t.stopPropagation(),H(null),r=c?e.path.startsWith("/")?e.path.substring(1):e.path:n?`${n}/${e.name}`:e.name,ne(r);try{if(p[r])ae(p[r]||"");else{const e=await(async e=>{try{const t=await h(e);return t&&f((n=>({...n,[e]:t}))),t}catch(t){return console.error("Error al cargar URL de YouTube:",t),null}})(r);ae(e||"")}}catch(a){console.error("Error al cargar URL para editar:",a),ae("")}},ye=async(e,t)=>{if(t.stopPropagation(),!re.trim()||re.includes("youtube.com")||re.includes("youtu.be"))try{const t=re.trim()?re:null;await(async(e,t)=>{try{if(!e)throw new Error("Se requiere una ruta para guardar la URL de YouTube");const n=(0,o.getAuthToken)(),r={"Content-Type":"application/json"};n&&(r.Authorization=`Bearer ${n}`);const a=await fetch(`${s}/youtube-url`,{method:"POST",headers:r,body:JSON.stringify({filePath:e,youtubeUrl:t})});if(!a.ok)throw new Error("No se pudo guardar la URL de YouTube");return await a.json()}catch(n){throw console.error("Error en saveYoutubeUrl:",n),n}})(e,t),f((n=>{const r={...n};return t?r[e]=t:delete r[e],r})),ne(null),ae(""),alert(t?"URL de YouTube guardada correctamente":"URL de YouTube eliminada")}catch(n){console.error("Error al guardar URL de YouTube:",n),alert("Error al guardar URL de YouTube")}else alert("Por favor ingresa una URL v\xe1lida de YouTube o deja el campo vac\xedo para eliminar la URL.")},ve=e=>{e.stopPropagation(),ne(null),ae("")},xe=async(e,t)=>{let r;t.stopPropagation(),H(null),r=c?e.path.startsWith("/")?e.path.substring(1):e.path:n?`${n}/${e.name}`:e.name,le(r);try{if(_[r])ie(_[r]||"");else{const e=await(async e=>{try{const t=await g(e);return t&&A((n=>({...n,[e]:t}))),t}catch(t){return console.error("Error al cargar URL de audio:",t),null}})(r);ie(e||"")}}catch(a){console.error("Error al cargar URL de audio para editar:",a),ie("")}},we=async(e,t)=>{if(t.stopPropagation(),!se.trim()||se.match(/^(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/))try{const t=se.trim()?se:null;await(async(e,t)=>{try{if(!e)throw new Error("Se requiere una ruta para guardar la URL de audio");const n=(0,o.getAuthToken)(),r={"Content-Type":"application/json"};n&&(r.Authorization=`Bearer ${n}`);const a=await fetch(`${s}/audio-url`,{method:"POST",headers:r,body:JSON.stringify({filePath:e,audioUrl:t})});if(!a.ok)throw new Error("No se pudo guardar la URL de audio");return await a.json()}catch(n){throw console.error("Error en saveAudioUrl:",n),n}})(e,t),A((n=>{const r={...n};return t?r[e]=t:delete r[e],r})),le(null),ie(""),alert(t?"URL de audio guardada correctamente":"URL de audio eliminada")}catch(n){console.error("Error al guardar URL de audio:",n),alert("Error al guardar URL de audio")}else alert("Por favor ingresa una URL v\xe1lida o deja el campo vac\xedo para eliminar la URL.")},ke=e=>{e.stopPropagation(),le(null),ie("")},Se=async(e,t)=>{let r;t.stopPropagation(),H(null),r=c?e.path.startsWith("/")?e.path.substring(1):e.path:n?`${n}/${e.name}`:e.name,ue(r);try{if($[r])pe($[r]||"");else{const e=await(async e=>{try{const t=await b(e);return t&&z((n=>({...n,[e]:t}))),t}catch(t){return console.error("Error al cargar URL de imagen:",t),null}})(r);pe(e||"")}}catch(a){console.error("Error al cargar URL de imagen para editar:",a),pe("")}},Ee=async(e,t)=>{if(t.stopPropagation(),!de.trim()||de.match(/^(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/))try{const t=de.trim()?de:null;await(async(e,t)=>{try{if(!e)throw new Error("Se requiere una ruta para guardar la URL de imagen");const n=(0,o.getAuthToken)(),r={"Content-Type":"application/json"};n&&(r.Authorization=`Bearer ${n}`);const a=await fetch(`${s}/image-url`,{method:"POST",headers:r,body:JSON.stringify({filePath:e,imageUrl:t})});if(!a.ok)throw new Error("No se pudo guardar la URL de imagen");return await a.json()}catch(n){throw console.error("Error en saveImageUrl:",n),n}})(e,t),z((n=>{const r={...n};return t?r[e]=t:delete r[e],r})),ue(null),pe(""),alert(t?"URL de imagen guardada correctamente":"URL de imagen eliminada")}catch(n){console.error("Error al guardar URL de imagen:",n),alert("Error al guardar URL de imagen")}else alert("Por favor ingresa una URL v\xe1lida o deja el campo vac\xedo para eliminar la URL.")},je=e=>{e.stopPropagation(),ue(null),pe("")},Ne=()=>{k(!1),N(null),P("")},Ce=e=>{if(!e)return"\ud83d\udcc4";const t=e.toLowerCase();return t.endsWith(".pdf")?"\ud83d\udcc4":t.endsWith(".docx")||t.endsWith(".doc")?"\ud83d\udcdd":t.endsWith(".xlsx")||t.endsWith(".xls")?"\ud83d\udcca":t.endsWith(".pptx")||t.endsWith(".ppt")?"\ud83d\udcd1":t.endsWith(".txt")?"\ud83d\udcc4":[".jpg",".jpeg",".png",".gif",".bmp",".webp"].some((e=>t.endsWith(e)))?"\ud83d\uddbc\ufe0f":[".mp3",".wav",".ogg",".flac"].some((e=>t.endsWith(e)))?"\ud83c\udfb5":[".mp4",".avi",".mov",".wmv",".mkv"].some((e=>t.endsWith(e)))?"\ud83c\udfac":[".zip",".rar",".7z",".tar",".gz"].some((e=>t.endsWith(e)))?"\ud83d\udce6":"\ud83d\udcc4"},Te=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]},Pe=e=>{if(!e)return"";try{const t=e.includes("T")||/\d{4}-\d{2}-\d{2} \d{2}:\d{2}/.test(e);let n;return n=t?new Date(e):new Date(`${e}T12:00:00`),isNaN(n.getTime())?(console.error("Fecha inv\xe1lida:",e),e):n.toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:t?"2-digit":void 0,minute:t?"2-digit":void 0})}catch(t){return console.error("Error al formatear fecha:",t,"Fecha original:",e),e}},_e=e=>{if(c){const t=e.path||"",n=t.lastIndexOf("/");return-1===n?"Ra\xedz":t.substring(0,n)||"Ra\xedz"}return n||"Ra\xedz"};return(0,j.jsxs)("div",{className:"file-list-container",children:[!c&&(0,j.jsxs)("div",{className:"file-list-header",style:{marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[(0,j.jsxs)("h2",{className:"current-location",style:{margin:"0 0 10px 0"},children:["Ubicaci\xf3n actual: ",n?`/${n}`:"/"]}),(0,j.jsx)("div",{className:"navigation-buttons",children:n&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>{if(!n)return;const e=n.split("/");1===e.length?a(""):(e.pop(),a(e.join("/")))},style:{marginRight:"10px",padding:"5px 15px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Subir un nivel"}),(0,j.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>{a("")},style:{padding:"5px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Inicio"})]})})]}),("admin"===l||(0,o.hasAdminPermission)("delete_files")||(0,o.hasAdminPermission)("delete_folders")||(0,o.hasAdminPermission)("duplicate_files"))&&(0,j.jsxs)("div",{className:"multi-select-toolbar",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",padding:"10px",backgroundColor:B?"#e9f5ff":"transparent",borderRadius:"4px",border:B?"1px solid #bee1ff":"1px solid transparent",transition:"all 0.3s ease"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{onClick:()=>{M((e=>!e)),B&&L([])},style:{backgroundColor:B?"#007bff":"#f8f9fa",color:B?"white":"#212529",border:"1px solid #dee2e6",borderRadius:"4px",padding:"8px 12px",marginRight:"10px",cursor:"pointer"},children:B?"Desactivar selecci\xf3n m\xfaltiple":"Activar selecci\xf3n m\xfaltiple"}),B&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{onClick:()=>{if(U.length===t.length)L([]);else{const e=t.map((e=>({...e,path:fe(e)})));L(e)}},style:{backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",padding:"8px 12px",marginRight:"10px",cursor:"pointer"},children:U.length===t.length?"Deseleccionar todo":"Seleccionar todo"}),(0,j.jsx)("button",{onClick:async()=>{if(0!==U.length){if(window.confirm(`\xbfEst\xe1s seguro de que deseas eliminar ${U.length} elemento(s)?`))try{let t=0,n=0;for(const r of U)try{console.log("Intentando eliminar:",{nombre:r.name,ruta:r.path,esFolder:r.isFolder});const e=await u(r.path,r.isFolder);e&&e.success?t++:(n++,console.error(`Error al eliminar ${r.name}:`,(null===e||void 0===e?void 0:e.message)||"Error desconocido"))}catch(e){n++,console.error(`Error al eliminar ${r.name}:`,e)}0===n?alert(`${t} elemento(s) eliminado(s) correctamente`):0===t?alert("Error: No se pudo eliminar ning\xfan elemento"):alert(`${t} elemento(s) eliminado(s) correctamente. ${n} elemento(s) fallaron.`),L([]),i&&i()}catch(e){console.error("Error general al eliminar elementos:",e),alert(`Error: ${e.message||"Ocurri\xf3 un error al eliminar los elementos"}`)}}else alert("No hay elementos seleccionados para eliminar")},disabled:0===U.length,style:{backgroundColor:0===U.length?"#ffc1c1":"#dc3545",color:"white",border:"none",borderRadius:"4px",padding:"8px 12px",marginRight:"10px",cursor:0===U.length?"not-allowed":"pointer",opacity:0===U.length?.6:1},children:"Eliminar seleccionados"}),(0,j.jsx)("button",{onClick:async()=>{if(0!==U.length)try{let t=0,n=0;for(const r of U)if(r.isFolder)alert("La duplicaci\xf3n de carpetas no est\xe1 soportada en esta versi\xf3n");else try{console.log("Intentando duplicar:",{nombre:r.name,ruta:r.path});const e=r.path.split("/"),a=e.pop(),o=(e.join("/"),a.split(".")),l=o.length>1?`.${o.pop()}`:"",s=(o.join("."),await E(r.path));s&&s.success?t++:(n++,console.error(`Error al duplicar ${r.name}:`,(null===s||void 0===s?void 0:s.message)||"Error desconocido"))}catch(e){n++,console.error(`Error al duplicar ${r.name}:`,e)}0===n?alert(`${t} archivo(s) duplicado(s) correctamente`):0===t?alert("Error: No se pudo duplicar ning\xfan archivo"):alert(`${t} archivo(s) duplicado(s) correctamente. ${n} archivo(s) fallaron.`),L([]),i&&i()}catch(e){console.error("Error general al duplicar archivos:",e),alert(`Error: ${e.message||"Ocurri\xf3 un error al duplicar los archivos"}`)}else alert("No hay elementos seleccionados para duplicar")},disabled:0===U.length,style:{backgroundColor:0===U.length?"#c1e7ff":"#17a2b8",color:"white",border:"none",borderRadius:"4px",padding:"8px 12px",cursor:0===U.length?"not-allowed":"pointer",opacity:0===U.length?.6:1},children:"Duplicar seleccionados"})]})]}),B&&U.length>0&&(0,j.jsxs)("div",{style:{color:"#0056b3",fontWeight:"bold"},children:[U.length," elemento(s) seleccionado(s)"]})]}),t&&0!==t.length?(0,j.jsx)("div",{className:"file-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:t.filter((e=>{if(Y){if(e.isFolder)return!0;const t=e.size||0,n=1024*(parseInt(G,10)||0),r=Q?1024*parseInt(Q,10):1/0;return t>=n&&t<=r}return!0})).map((e=>{const t=fe(e),r=R[t]||{},s=r.fileDate||r.uploadDate||e.updated||"",f=r.tags||[],h=!!p[t],g=!!_[t],b=!!$[t],y=c&&e.metadata&&(e.metadata.foundByContent||e.foundByContent);return(0,j.jsxs)("div",{className:"file-card "+(y?"content-match":""),style:{backgroundColor:y?"#fff8e1":"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",overflow:"hidden",display:"flex",flexDirection:"column",height:"100%",border:U.some((e=>e.path===t))?"2px solid #007bff":y?"2px solid #ffc107":"1px solid #e0e0e0",transition:"all 0.2s ease"},children:[(0,j.jsxs)("div",{className:"file-card-header",onClick:()=>(async e=>{if(B)me(e,{stopPropagation:()=>{}});else if(e.isFolder)if(c){const t=e.path.startsWith("/")?e.path.substring(1):e.path;a(t)}else{const t=n?`${n}/${e.name}`:e.name;a(t)}else try{var t;let a;a=c?e.path.startsWith("/")?e.path.substring(1):e.path:n?`${n}/${e.name}`:e.name,console.log("Procesando archivo:",e.name),console.log("Ruta completa:",a);const o=e.name.toLowerCase().endsWith(".pdf")||"application/pdf"===e.contentType,l=/\.(jpe?g|png|gif|bmp|webp)$/i.test(e.name)||(null===(t=e.contentType)||void 0===t?void 0:t.startsWith("image/")),s=e.name.toLowerCase().endsWith(".docx")||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.contentType,u=e.name.toLowerCase().endsWith(".mp3")||"audio/mpeg"===e.contentType;if(console.log("\xbfEs un archivo PDF?",o),console.log("\xbfEs una imagen?",l),console.log("\xbfEs un archivo DOCX?",s),console.log("\xbfEs un archivo MP3?",u),o||l){console.log("Archivo visualizable en navegador");const e=await d(a,!1);console.log("URL obtenida:",e),window.open(e,"_blank")}else if(s){console.log("Archivo DOCX visualizable mediante API");try{console.log("Obteniendo URL para DOCX mediante getDownloadUrl...");const t=await d(a,!1);console.log("URL p\xfablica obtenida para DOCX:",t);const n={success:!0,publicUrl:t};if(console.log("Respuesta de descarga:",n),!n.publicUrl)throw new Error("No se pudo obtener la URL p\xfablica del documento");{const t=`\n                <!DOCTYPE html>\n                <html lang="es">\n                <head>\n                  <meta charset="UTF-8">\n                  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                  <title>Visor de Documentos - ${e.name}</title>\n                  <style>\n                    body {\n                      font-family: Arial, sans-serif;\n                      line-height: 1.6;\n                      margin: 0;\n                      padding: 20px;\n                      max-width: 800px;\n                      margin: 0 auto;\n                      background-color: #f5f5f5;\n                    }\n                    h1, h2 {\n                      color: #333;\n                    }\n                    .options {\n                      display: flex;\n                      flex-direction: column;\n                      gap: 15px;\n                      margin: 20px 0;\n                    }\n                    .button {\n                      display: inline-block;\n                      background-color: #4CAF50;\n                      color: white;\n                      padding: 10px 15px;\n                      text-decoration: none;\n                      border-radius: 4px;\n                      font-weight: bold;\n                      text-align: center;\n                    }\n                    .button.secondary {\n                      background-color: #2196F3;\n                    }\n                    .view-container {\n                      margin-top: 30px;\n                      padding: 20px;\n                      background-color: white;\n                      border-radius: 4px;\n                      box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n                    }\n                    iframe {\n                      width: 100%;\n                      height: 600px;\n                      border: 1px solid #ddd;\n                    }\n                  </style>\n                </head>\n                <body>\n                  <h1>Documento: ${e.name}</h1>\n                  \n                  <div class="options">\n                    <a class="button" href="${n.publicUrl}" target="_blank">Descargar documento</a>\n                    <a class="button secondary" href="https://docs.google.com/viewer?url=${encodeURIComponent(n.publicUrl)}&embedded=true" target="_blank">\n                      Visualizar con Google Docs Viewer\n                    </a>\n                    <a class="button secondary" href="https://view.officeapps.live.com/op/view.aspx?src=${encodeURIComponent(n.publicUrl)}" target="_blank">\n                      Visualizar con Microsoft Office Online\n                    </a>\n                  </div>\n                  \n                  <div class="view-container">\n                    <h2>Vista previa (requiere navegador compatible)</h2>\n                    <iframe src="https://docs.google.com/viewer?url=${encodeURIComponent(n.publicUrl)}&embedded=true"></iframe>\n                  </div>\n                  \n                  <script>\n                    // Permitir que se establezca la preferencia de visualizaci\xf3n como predeterminada\n                    document.addEventListener('DOMContentLoaded', function() {\n                      // C\xf3digo adicional si es necesario\n                    });\n                  <\/script>\n                </body>\n                </html>\n              `,r=new Blob([t],{type:"text/html"}),a=URL.createObjectURL(r);window.open(a,"_blank")}}catch(r){console.error("Error al abrir DOCX:",r),alert("Error al visualizar el documento DOCX: "+r.message)}}else if(u){console.log("Archivo MP3 reproducible en navegador");try{const e=await d(a,!1);console.log("URL obtenida para MP3:",e);const t=document.getElementById("audio-player-container");t&&t.remove();const n=document.createElement("div");n.id="audio-player-container",n.style.position="fixed",n.style.bottom="0",n.style.left="0",n.style.width="100%",n.style.zIndex="1000",n.style.backgroundColor="#f5f5f5",n.style.padding="10px",n.style.boxShadow="0 -2px 5px rgba(0,0,0,0.1)";const o=document.createElement("audio");o.controls=!0,o.id="audio-player",o.style.width="100%";const l=document.createElement("source");l.src=e,l.type="audio/mpeg",o.appendChild(l),o.appendChild(document.createTextNode("Su navegador no soporta la reproducci\xf3n de audio.")),n.appendChild(o),document.body.appendChild(n),o.addEventListener("canplay",(()=>{try{const e=o.play();void 0!==e&&e.catch((e=>{console.error("Error al reproducir audio:",e)}))}catch(e){console.error("Error al intentar reproducir:",e)}})),o.addEventListener("error",(e=>{console.error("Error al cargar el audio:",e)}));const s=document.createElement("div");s.className="mp3-options",s.style.position="fixed",s.style.bottom="50px",s.style.left="0",s.style.width="100%",s.style.backgroundColor="#e9f5ff",s.style.padding="10px",s.style.textAlign="center",s.style.zIndex="999",s.style.boxShadow="0 -2px 5px rgba(0,0,0,0.1)";const c=document.createElement("button");c.textContent="Transcribir Audio",c.style.padding="10px 20px",c.style.margin="5px",c.style.backgroundColor="#4CAF50",c.style.color="white",c.style.border="none",c.style.borderRadius="4px",c.style.cursor="pointer",c.style.fontSize="16px",c.style.fontWeight="bold",s.style.position="fixed",s.style.bottom="120px",s.style.left="50%",s.style.transform="translateX(-50%)",s.style.backgroundColor="rgba(240, 240, 240, 0.95)",s.style.padding="20px",s.style.borderRadius="8px",s.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)",s.style.zIndex="1000",s.style.display="flex",s.style.flexDirection="column",s.style.alignItems="center",c.onclick=async()=>{const e=window.confirm("\xbfDesea eliminar el archivo MP3 original despu\xe9s de la transcripci\xf3n? Esto ahorrar\xe1 espacio de almacenamiento.");let t={process:!1,customPrompt:null};await(()=>{const e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="rgba(0, 0, 0, 0.5)",e.style.zIndex="1000",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center";const t=document.createElement("div");t.style.backgroundColor="white",t.style.padding="20px",t.style.borderRadius="8px",t.style.width="60%",t.style.maxWidth="600px",t.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)";const n=document.createElement("h3");n.textContent="Procesamiento con IA",n.style.marginTop="0";const r=document.createElement("p");r.textContent="Desea mejorar la transcripci\xf3n autom\xe1ticamente con IA? Esto crear\xe1 un documento adicional con el texto mejorado.";const a=document.createElement("label");a.textContent="Prompt personalizado (opcional):",a.style.display="block",a.style.marginTop="15px",a.style.marginBottom="5px";const o=document.createElement("textarea");o.style.width="100%",o.style.height="100px",o.style.padding="8px",o.style.border="1px solid #ddd",o.style.borderRadius="4px",o.style.resize="vertical",o.placeholder="Deje este campo vac\xedo para usar el prompt predeterminado o ingrese instrucciones espec\xedficas para el procesamiento.";const l=document.createElement("div");l.style.marginTop="20px",l.style.display="flex",l.style.justifyContent="flex-end";const s=document.createElement("button");s.textContent="Cancelar",s.style.padding="8px 16px",s.style.marginRight="10px",s.style.backgroundColor="#f44336",s.style.color="white",s.style.border="none",s.style.borderRadius="4px",s.style.cursor="pointer";const i=document.createElement("button");return i.textContent="Procesar",i.style.padding="8px 16px",i.style.backgroundColor="#4CAF50",i.style.color="white",i.style.border="none",i.style.borderRadius="4px",i.style.cursor="pointer",l.appendChild(s),l.appendChild(i),t.appendChild(n),t.appendChild(r),t.appendChild(a),t.appendChild(o),t.appendChild(l),e.appendChild(t),document.body.appendChild(e),new Promise((t=>{s.onclick=()=>{document.body.removeChild(e),t({process:!1})},i.onclick=()=>{const n=o.value.trim();document.body.removeChild(e),t({process:!0,customPrompt:n.length>0?n:null})}}))})().then((e=>{t=e}));const o=t.process;try{let r='<p style="color: #007bff;"><strong>Transcribiendo audio, por favor espere...</strong> Este proceso puede tardar varios minutos dependiendo de la duraci\xf3n del audio.';o&&(r+="<br><em>Se aplicar\xe1 procesamiento adicional con IA al finalizar la transcripci\xf3n.</em>"),r+="</p>",s.innerHTML=r;const l=await m(a,o,t.customPrompt,e);if(l&&l.success){let t=`\n        <div style="background-color: #d4edda; padding: 15px; border-radius: 4px; text-align: left;">\n          <h3 style="color: #155724; margin-top: 0;">Transcripci\xf3n Completada</h3>\n          <p>El texto se ha guardado como: <strong>${l.transcriptionPath}</strong></p>`;l.processedWithGPT&&l.processedPath&&(t+=`\n          <p>Versi\xf3n mejorada con IA disponible en: <strong>${l.processedPath}</strong></p>`,l.processedDocxPath&&(t+=`\n          <p>Documento Word con formato mejorado: <strong>${l.processedDocxPath}</strong></p>\n          <p><small><i>(Recomendado para mejor presentaci\xf3n e impresi\xf3n)</i></small></p>`)),t+=`\n          <p>${e?"El archivo MP3 original ha sido eliminado.":"El archivo MP3 original se ha conservado."}</p>\n          <button id="refresh-button" style="background-color: #28a745; color: white; border: none; border-radius: 4px; padding: 8px 16px; cursor: pointer;">Actualizar Lista de Archivos</button>\n        </div>\n      `,s.innerHTML=t,document.getElementById("refresh-button").onclick=()=>{i&&i(),s.remove(),n.remove()}}else s.innerHTML=`\n        <div style="background-color: #f8d7da; padding: 15px; border-radius: 4px; text-align: left;">\n          <h3 style="color: #721c24; margin-top: 0;">Error en la Transcripci\xf3n</h3>\n          <p>${(null===l||void 0===l?void 0:l.message)||"No se pudo completar la transcripci\xf3n."}</p>\n          <button id="close-error" style="background-color: #dc3545; color: white; border: none; border-radius: 4px; padding: 8px 16px; cursor: pointer;">Cerrar</button>\n        </div>\n      `,document.getElementById("close-error").onclick=()=>{s.remove()}}catch(r){console.error("Error al transcribir audio:",r),s.innerHTML=`\n      <div style="background-color: #f8d7da; padding: 15px; border-radius: 4px; text-align: left;">\n        <h3 style="color: #721c24; margin-top: 0;">Error en la Transcripci\xf3n</h3>\n        <p>${r.message||"Ocurri\xf3 un error durante la transcripci\xf3n."}</p>\n        <button id="close-error" style="background-color: #dc3545; color: white; border: none; border-radius: 4px; padding: 8px 16px; cursor: pointer;">Cerrar</button>\n      </div>\n    `,document.getElementById("close-error").onclick=()=>{s.remove()}}},s.appendChild(c);const u=document.createElement("button");u.textContent="Cerrar Reproductor",u.style.backgroundColor="#dc3545",u.style.color="white",u.style.border="none",u.style.borderRadius="4px",u.style.padding="8px 16px",u.style.cursor="pointer",u.style.margin="0 10px",u.onclick=()=>{n.remove(),s.remove()},s.appendChild(u),document.body.appendChild(s)}catch(r){console.error("Error al manejar archivo MP3:",r),alert("No se pudo reproducir el archivo de audio")}}else{const e=await d(a);window.open(e,"_blank")}}catch(r){console.error("Error al obtener URL de descarga:",r),alert("No se pudo abrir el archivo")}})(e),style:{padding:"15px",borderBottom:"1px solid #f0f0f0",display:"flex",alignItems:"center",cursor:"pointer"},children:[B&&(0,j.jsx)("div",{className:"select-checkbox",style:{marginRight:"10px",zIndex:5},children:(0,j.jsx)("input",{type:"checkbox",checked:U.some((e=>e.path===t)),onChange:t=>me(e,t),onClick:e=>e.stopPropagation(),style:{width:"18px",height:"18px",cursor:"pointer"}})}),(0,j.jsxs)("div",{className:"file-icon",style:{fontSize:"32px",marginRight:"15px",display:"flex",alignItems:"center",position:"relative"},children:[e.isFolder?"\ud83d\udcc1":Ce(e.name),y&&(0,j.jsx)("span",{className:"content-match-indicator",style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#ffc107",color:"#212529",borderRadius:"50%",width:"20px",height:"20px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},title:"Coincidencia encontrada en el contenido",children:"\ud83d\udd0d"}),y&&(0,j.jsx)("span",{className:"content-match-indicator",style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#ffc107",color:"#212529",borderRadius:"50%",width:"20px",height:"20px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},title:"Coincidencia encontrada en el contenido",children:"\ud83d\udd0d"}),(0,j.jsxs)("div",{className:"file-link-icons",style:{display:"flex",flexDirection:"column",marginLeft:"5px"},children:[h&&(0,j.jsx)("span",{onClick:e=>((e,t)=>{if(t.stopPropagation(),p[e]){let t=p[e];t.startsWith("http://")||t.startsWith("https://")||(t="https://"+t),window.open(t,"_blank")}})(t,e),style:{fontSize:"14px",cursor:"pointer",color:"#FF0000",marginBottom:"2px"},title:"Ver video de YouTube",children:"\u25b6\ufe0f"}),g&&(0,j.jsx)("span",{onClick:e=>((e,t)=>{if(t.stopPropagation(),_[e]){let t=_[e];t.startsWith("http://")||t.startsWith("https://")||(t="https://"+t);const n=document.createElement("audio");n.controls=!0,n.src=t,n.style.position="fixed",n.style.bottom="0",n.style.left="0",n.style.width="100%",n.style.zIndex="1000",n.style.backgroundColor="#f5f5f5",n.style.padding="10px",n.style.boxShadow="0 -2px 5px rgba(0,0,0,0.1)";const r=document.getElementById("audio-player");r&&r.remove(),n.id="audio-player",document.body.appendChild(n),n.play()}})(t,e),style:{fontSize:"14px",cursor:"pointer",color:"#28a745",marginBottom:"2px"},title:"Reproducir audio",children:"\ud83d\udd0a"}),b&&(0,j.jsx)("span",{onClick:e=>((e,t)=>{if(t.stopPropagation(),$[e]){let t=$[e];t.startsWith("http://")||t.startsWith("https://")||(t="https://"+t),window.open(t,"_blank")}})(t,e),style:{fontSize:"14px",cursor:"pointer",color:"#17a2b8"},title:"Ver imagen",children:"\ud83d\uddbc\ufe0f"})]})]}),(0,j.jsx)("div",{className:"file-title",style:{flex:1,overflow:"hidden"},children:I&&I.name===e.name?(0,j.jsxs)("div",{className:"rename-input-container",onClick:e=>e.stopPropagation(),children:[(0,j.jsx)("input",{type:"text",value:q,onChange:e=>F(e.target.value),autoFocus:!0,style:{width:"100%",padding:"5px",borderRadius:"4px",border:"1px solid #ced4da"}}),(0,j.jsxs)("div",{style:{marginTop:"5px",display:"flex",justifyContent:"space-between"},children:[(0,j.jsx)("button",{onClick:he,style:{backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",padding:"3px 8px",cursor:"pointer"},children:"Guardar"}),(0,j.jsx)("button",{onClick:ge,style:{backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",padding:"3px 8px",cursor:"pointer"},children:"Cancelar"})]})]}):(0,j.jsx)("div",{className:"file-name",title:e.name,style:{fontWeight:"bold",fontSize:"16px",marginBottom:"5px",wordBreak:"break-word"},children:e.name})})]}),(0,j.jsx)("div",{className:"file-details",style:{padding:"10px 15px",fontSize:"13px",color:"#6c757d",flex:1},children:!e.isFolder&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{style:{marginBottom:"5px"},children:[(0,j.jsx)("span",{style:{fontWeight:"bold"},children:"Tama\xf1o:"})," ",Te(e.size||0)]}),s&&(0,j.jsxs)("div",{style:{marginBottom:"5px"},children:[(0,j.jsx)("span",{style:{fontWeight:"bold"},children:"Fecha:"})," ",Pe(s)]}),(0,j.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,j.jsx)("span",{style:{fontWeight:"bold"},children:"Ubicaci\xf3n:"})," ",_e(e)]}),f.length>0&&(0,j.jsx)("div",{className:"file-tags",style:{display:"flex",flexWrap:"wrap",gap:"5px",marginTop:"10px"},children:f.map(((e,t)=>(0,j.jsx)("span",{className:"file-tag",style:{fontSize:"12px",padding:"2px 8px",backgroundColor:"#e9ecef",borderRadius:"12px",whiteSpace:"nowrap"},children:e},t)))}),y&&e.matchExcerpt&&(0,j.jsxs)("div",{className:"content-match-excerpt",style:{marginTop:"10px",padding:"8px",backgroundColor:"#fffbea",borderRadius:"4px",fontSize:"12px",border:"1px dashed #ffc107"},children:[(0,j.jsx)("div",{style:{fontWeight:"bold",marginBottom:"3px"},children:"Coincidencia encontrada:"}),(0,j.jsxs)("div",{style:{fontStyle:"italic"},children:['"',e.matchExcerpt,'"']})]})]})}),(0,j.jsxs)("div",{className:"file-actions",style:{padding:"10px 15px",borderTop:"1px solid #f0f0f0",backgroundColor:"#f8f9fa",display:"flex",justifyContent:"flex-start",position:"relative"},children:[("admin"===l||(0,o.hasAdminPermission)("delete_files")||(0,o.hasAdminPermission)("rename_files")||(0,o.hasAdminPermission)("duplicate_files"))&&!B&&(0,j.jsxs)("div",{className:"dropdown",style:{position:"relative",display:"inline-block"},children:[(0,j.jsxs)("button",{className:"action-button",onClick:e=>((e,t)=>{t.preventDefault(),t.stopPropagation(),console.log("Alternando men\xfa para:",e,"Estado actual:",W===e?"abierto":"cerrado"),H(W===e?null:e)})(t,e),style:{backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",padding:"8px 12px",cursor:"pointer",display:"flex",alignItems:"center",fontWeight:"bold"},children:[(0,j.jsx)("span",{style:{marginRight:"5px"},children:"Acciones"}),(0,j.jsx)("span",{children:W===t?"\u25b2":"\u25bc"})]}),W===t&&(0,j.jsxs)("div",{ref:e=>{e?ee.current.set(t,e):ee.current.delete(t)},className:"dropdown-menu",style:{position:"absolute",bottom:"100%",left:"0",zIndex:1e3,backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",borderRadius:"4px",minWidth:"200px",marginBottom:"5px",display:"block",padding:"5px 0"},children:[!e.isFolder&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{onClick:t=>be(e,t),className:"dropdown-item",style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",borderBottom:"1px solid #f0f0f0",cursor:"pointer"},children:"A\xf1adir URL de YouTube"}),(0,j.jsx)("button",{onClick:t=>xe(e,t),className:"dropdown-item",style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",borderBottom:"1px solid #f0f0f0",cursor:"pointer"},children:"A\xf1adir URL de Audio"}),(0,j.jsx)("button",{onClick:t=>Se(e,t),className:"dropdown-item",style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",borderBottom:"1px solid #f0f0f0",cursor:"pointer"},children:"A\xf1adir URL de Imagen"}),("admin"===l||(0,o.hasAdminPermission)("upload_files"))&&(0,j.jsx)("button",{onClick:t=>((e,t)=>{let r;t.stopPropagation(),H(null),r=c?e.path.startsWith("/")?e.path.substring(1):e.path:n?`${n}/${e.name}`:e.name,N(e),P(r),k(!0)})(e,t),className:"dropdown-item",style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",borderBottom:"1px solid #f0f0f0",cursor:"pointer"},children:"Editar Metadatos"})]}),(0,j.jsx)("button",{onClick:t=>((e,t)=>{t.stopPropagation(),O(e),F(e.name),H(null)})(e,t),className:"dropdown-item",style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",borderBottom:"1px solid #f0f0f0",cursor:"pointer"},children:"Renombrar"}),!e.isFolder&&(0,j.jsx)("button",{onClick:t=>(async(e,t)=>{if(t.stopPropagation(),H(null),e.isFolder)alert("La duplicaci\xf3n de carpetas no est\xe1 soportada en esta versi\xf3n");else try{const t=fe(e),n=t.split("/"),r=n.pop(),a=n.join("/"),o=r.split("."),l=o.length>1?`.${o.pop()}`:"",s=`${o.join(".")} (copia)${l}`,c=a?`${a}/${s}`:s;console.log("Duplicando archivo:",{original:t,destino:c});const u=await E(t);u&&u.success?(alert("Archivo duplicado correctamente"),i&&i()):alert(`Error: ${u&&u.message?u.message:"No se pudo duplicar el archivo"}`)}catch(n){console.error("Error al duplicar:",n),alert(`Error: ${n.message||"Ocurri\xf3 un error al duplicar el archivo"}`)}})(e,t),className:"dropdown-item",style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",borderBottom:"1px solid #f0f0f0",cursor:"pointer"},children:"Duplicar"}),(0,j.jsx)("button",{onClick:t=>(async(e,t)=>{if(t&&t.stopPropagation(),H(null),e&&e.name){if(window.confirm(`\xbfEst\xe1s seguro de que deseas eliminar ${e.name}?`))try{let t;t=c?e.path.startsWith("/")?e.path.substring(1):e.path:n?`${n}/${e.name}`:e.name,console.log("Intentando eliminar:",{nombre:e.name,ruta:t,esFolder:e.isFolder});const r=await u(t,e.isFolder);r&&r.success?(console.log("Eliminaci\xf3n exitosa"),alert("Elemento eliminado correctamente"),setTimeout((()=>{i&&i()}),1e3)):alert(`Error: ${r&&r.message?r.message:"No se pudo eliminar el elemento"}`)}catch(r){console.error("Error al eliminar:",r),alert(`Error: ${r.message||"Ocurri\xf3 un error al intentar eliminar"}`)}}else alert("Error: No se puede eliminar un elemento sin nombre")})(e,t),className:"dropdown-item",style:{display:"block",width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",color:"#dc3545",cursor:"pointer"},children:"Eliminar"})]})]}),te===t&&(0,j.jsxs)("div",{className:"youtube-url-input-container",onClick:e=>e.stopPropagation(),style:{display:"flex",alignItems:"center",width:"100%",position:"absolute",top:"-50px",left:"0",right:"0",zIndex:1010,backgroundColor:"white",padding:"10px",boxShadow:"0 -4px 10px rgba(0,0,0,0.2)",borderRadius:"4px"},children:[(0,j.jsx)("input",{type:"text",value:re,onChange:e=>ae(e.target.value),placeholder:"URL de YouTube",className:"youtube-url-input",style:{flex:1,padding:"5px",borderRadius:"4px 0 0 4px",border:"1px solid #ced4da",borderRight:"none"}}),(0,j.jsx)("button",{onClick:e=>ye(t,e),className:"save-url-btn",style:{backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"0",padding:"6px 10px",cursor:"pointer"},children:"\u2713"}),(0,j.jsx)("button",{onClick:ve,className:"cancel-url-btn",style:{backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"0 4px 4px 0",padding:"6px 10px",cursor:"pointer"},children:"\u2715"})]}),oe===t&&(0,j.jsxs)("div",{className:"audio-url-input-container",onClick:e=>e.stopPropagation(),style:{display:"flex",alignItems:"center",width:"100%",position:"absolute",top:"-50px",left:"0",right:"0",zIndex:1010,backgroundColor:"white",padding:"10px",boxShadow:"0 -4px 10px rgba(0,0,0,0.2)",borderRadius:"4px"},children:[(0,j.jsx)("input",{type:"text",value:se,onChange:e=>ie(e.target.value),placeholder:"URL de Audio",className:"audio-url-input",style:{flex:1,padding:"5px",borderRadius:"4px 0 0 4px",border:"1px solid #ced4da",borderRight:"none"}}),(0,j.jsx)("button",{onClick:e=>we(t,e),className:"save-url-btn",style:{backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"0",padding:"6px 10px",cursor:"pointer"},children:"\u2713"}),(0,j.jsx)("button",{onClick:ke,className:"cancel-url-btn",style:{backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"0 4px 4px 0",padding:"6px 10px",cursor:"pointer"},children:"\u2715"})]}),ce===t&&(0,j.jsxs)("div",{className:"image-url-input-container",onClick:e=>e.stopPropagation(),style:{display:"flex",alignItems:"center",width:"100%",position:"absolute",top:"-50px",left:"0",right:"0",zIndex:1010,backgroundColor:"white",padding:"10px",boxShadow:"0 -4px 10px rgba(0,0,0,0.2)",borderRadius:"4px"},children:[(0,j.jsx)("input",{type:"text",value:de,onChange:e=>pe(e.target.value),placeholder:"URL de Imagen",className:"image-url-input",style:{flex:1,padding:"5px",borderRadius:"4px 0 0 4px",border:"1px solid #ced4da",borderRight:"none"}}),(0,j.jsx)("button",{onClick:e=>Ee(t,e),className:"save-url-btn",style:{backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"0",padding:"6px 10px",cursor:"pointer"},children:"\u2713"}),(0,j.jsx)("button",{onClick:je,className:"cancel-url-btn",style:{backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"0 4px 4px 0",padding:"6px 10px",cursor:"pointer"},children:"\u2715"})]})]})]},e.name||e.path)}))}):(0,j.jsx)("p",{className:"empty-folder",style:{textAlign:"center",padding:"30px",backgroundColor:"#f8f9fa",borderRadius:"4px",color:"#6c757d"},children:c?"No se encontraron resultados para la b\xfasqueda.":"La carpeta est\xe1 vac\xeda"}),(0,j.jsx)(C,{filePath:T,isOpen:w,onClose:Ne,onSave:()=>{Ne(),i&&i()}})]})},P=e=>{let{currentPath:t,selectedFile:n,onActionComplete:a}=e;const[l,i]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(null),[f,h]=(0,r.useState)(null),[g,b]=(0,r.useState)(!1);return(0,j.jsxs)("div",{className:"file-actions",children:[g?(0,j.jsxs)("div",{className:"folder-input-container",children:[(0,j.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Nombre de la carpeta",className:"folder-input",disabled:c}),(0,j.jsxs)("div",{className:"folder-input-buttons",children:[(0,j.jsx)("button",{onClick:async()=>{if(l.trim())if((0,o.hasAdminPermission)("create_folders")){u(!0),p(null);try{const e=t?`${t}/${l}`:l;console.log("Creando carpeta:",e);const n=await(async e=>{try{const t=(0,o.getAuthToken)(),n={"Content-Type":"application/json"};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/createFolder`,{method:"POST",headers:n,body:JSON.stringify({folderName:e})});if(!r.ok)throw new Error("No se pudo crear la carpeta");return await r.json()}catch(d){throw console.error("Error en createFolder:",d),d}})(e);n&&n.success?(i(""),b(!1),alert("Carpeta creada correctamente"),a&&a()):p(`Error: ${n&&n.message?n.message:"No se pudo crear la carpeta"}`)}catch(d){console.error("Error al crear carpeta:",d),p(`Error: ${d.message||"Ocurri\xf3 un error al crear la carpeta"}`)}finally{u(!1)}}else p("No tienes permiso para crear carpetas");else p("Por favor ingrese un nombre de carpeta v\xe1lido")},className:"btn btn-primary btn-sm",disabled:c,children:c?"Creando...":"Crear"}),(0,j.jsx)("button",{onClick:()=>{b(!1),i(""),p(null)},className:"btn btn-secondary btn-sm",disabled:c,children:"Cancelar"})]})]}):(0,j.jsxs)("div",{className:"action-buttons",children:[(0,o.hasAdminPermission)("create_folders")&&(0,j.jsx)("button",{onClick:()=>b(!0),className:"btn btn-primary",disabled:c,children:"Nueva Carpeta"}),n&&n.path&&n.path.toLowerCase().endsWith(".mp3")&&(0,j.jsx)("button",{onClick:async()=>{if(n&&n.path)if(n.path.toLowerCase().endsWith(".mp3")){u(!0),p(null),h(null);try{const e=window.confirm("\xbfDesea eliminar el archivo MP3 original despu\xe9s de la transcripci\xf3n? Esto ahorrar\xe1 espacio de almacenamiento.");console.log("Transcribiendo archivo:",n.path);const t=await m(n.path,e);t&&t.success?(h("Archivo transcrito correctamente. El texto se ha guardado en la misma carpeta."),a&&a()):p(`Error: ${t&&t.message?t.message:"No se pudo transcribir el archivo"}`)}catch(d){console.error("Error al transcribir audio:",d),p(`Error: ${d.message||"Ocurri\xf3 un error al transcribir el audio"}`)}finally{u(!1)}}else p("Solo se pueden transcribir archivos MP3");else p("No hay archivo seleccionado para transcribir")},className:"btn btn-info ml-2",disabled:c,children:c?"Transcribiendo...":"Transcribir Audio"})]}),d&&(0,j.jsx)("div",{className:"error-message mt-2",children:d}),f&&(0,j.jsx)("div",{className:"success-message mt-2",children:f})]})},_=e=>{let{currentPath:t,onUploadComplete:n}=e;const[a,l]=(0,r.useState)([]),[s,i]=(0,r.useState)(!1),[u,d]=(0,r.useState)(0),[p,f]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),g=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=g.current,t=e=>{e.preventDefault(),e.stopPropagation()},n=()=>{h(!0)},r=()=>{h(!1)},a=e=>{t(e),r();const n=e.dataTransfer.files;n&&n.length>0&&(l(Array.from(n)),f(null))};return["dragenter","dragover","dragleave","drop"].forEach((n=>{e.addEventListener(n,t,!1),document.body.addEventListener(n,t,!1)})),["dragenter","dragover"].forEach((t=>{e.addEventListener(t,n,!1)})),["dragleave","drop"].forEach((t=>{e.addEventListener(t,r,!1)})),e.addEventListener("drop",a,!1),()=>{["dragenter","dragover","dragleave","drop"].forEach((n=>{e.removeEventListener(n,t,!1),document.body.removeEventListener(n,t,!1)})),["dragenter","dragover"].forEach((t=>{e.removeEventListener(t,n,!1)})),["dragleave","drop"].forEach((t=>{e.removeEventListener(t,r,!1)})),e.removeEventListener("drop",a,!1)}}),[]);return(0,j.jsxs)("div",{className:"upload-form",children:[(0,j.jsx)("h3",{children:"Subir Archivos"}),(0,j.jsxs)("div",{ref:g,className:"drop-area "+(m?"active":""),style:{border:"2px dashed "+(m?"#007bff":"#ccc"),borderRadius:"4px",padding:"20px",textAlign:"center",marginBottom:"15px",backgroundColor:m?"rgba(0, 123, 255, 0.1)":"transparent",transition:"all 0.3s ease"},children:[(0,j.jsx)("p",{style:{margin:"0",marginBottom:"10px"},children:a.length>0?`${a.length} archivo(s) seleccionado(s)`:m?"\xa1Suelta los archivos aqu\xed!":"Arrastra y suelta archivos aqu\xed, o..."}),(0,j.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(0,o.hasAdminPermission)("upload_files"))if(0!==a.length){i(!0),d(0),f(null);try{let e=0;const o=a.length,u={success:[],errors:[]};for(const n of a){try{const a=e/o*100,l=setInterval((()=>{const e=Math.min(90,30*Math.random()+60),t=a+e/o;d(Math.min(99,Math.round(t)))}),300),s=await c(n,t);if(clearInterval(l),s&&s.success){if(s.filePath)try{const e=(new Date).toISOString().split("T")[0],t={uploadDate:e,fileDate:e,uploadedBy:"admin1",tags:[],lastModified:e};await w(s.filePath,t),console.log(`Metadatos actualizados para ${n.name} con fecha ${e}`)}catch(r){console.error(`Error al actualizar los metadatos de ${n.name}:`,r)}u.success.push({name:n.name,result:s})}else u.errors.push({name:n.name,error:s&&s.message?s.message:"Error desconocido"})}catch(s){console.error(`Error al subir archivo ${n.name}:`,s),u.errors.push({name:n.name,error:s.message||"Error desconocido"})}e++,d(Math.round(e/o*100))}setTimeout((()=>{l([]),d(0),i(!1),n&&n(),0===u.errors.length?alert(`${u.success.length} archivo(s) subidos exitosamente`):0===u.success.length?alert("Error: No se pudo subir ning\xfan archivo"):alert(`${u.success.length} archivo(s) subidos exitosamente. ${u.errors.length} archivo(s) fallaron.`)}),500)}catch(p){console.error("Error general al subir archivos:",p),f(`Error: ${p.message||"Ocurri\xf3 un error al subir los archivos"}`),i(!1),d(0)}}else f("Por favor selecciona al menos un archivo");else f("No tienes permiso para subir archivos")},children:[(0,j.jsx)("div",{className:"file-input-container",children:(0,j.jsx)("input",{type:"file",onChange:e=>{l(Array.from(e.target.files)),f(null)},disabled:s,className:"file-input",style:{margin:"10px 0"},multiple:!0})}),a.length>0&&(0,j.jsxs)("div",{className:"selected-files",style:{marginTop:"15px",textAlign:"left",maxHeight:"150px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"10px"},children:[(0,j.jsx)("h4",{style:{marginTop:"0",fontSize:"14px"},children:"Archivos seleccionados:"}),(0,j.jsx)("ul",{style:{listStyleType:"none",padding:"0",margin:"0"},children:a.map(((e,t)=>(0,j.jsxs)("li",{style:{padding:"5px 0",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:t<a.length-1?"1px solid #eee":"none"},children:[(0,j.jsxs)("span",{style:{fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[e.name," (",(e.size/1024).toFixed(1)," KB)"]}),!s&&(0,j.jsx)("button",{type:"button",onClick:()=>(e=>{l((t=>t.filter(((t,n)=>n!==e))))})(t),style:{background:"none",border:"none",color:"red",cursor:"pointer",fontSize:"16px"},children:"\xd7"})]},t)))})]}),p&&(0,j.jsx)("div",{className:"error-message",style:{color:"red",marginTop:"10px"},children:p}),s&&(0,j.jsxs)("div",{className:"progress-container",style:{marginTop:"15px"},children:[(0,j.jsx)("div",{className:"progress-bar",style:{width:`${u}%`,height:"10px",backgroundColor:"#007bff",borderRadius:"5px",transition:"width 0.3s ease"}}),(0,j.jsxs)("div",{className:"progress-text",style:{textAlign:"center",marginTop:"5px"},children:[u,"% (",Math.round(u/100*a.length),"/",a.length," archivos)"]})]}),(0,j.jsx)("button",{type:"submit",disabled:0===a.length||s,className:"btn btn-primary upload-btn",style:{marginTop:"15px",padding:"8px 15px",backgroundColor:0===a.length||s?"#ccc":"#007bff",border:"none",borderRadius:"4px",color:"white",cursor:0===a.length||s?"not-allowed":"pointer"},children:s?"Subiendo...":"Subir Archivos"})]})]})]})},A=e=>{let{onResults:t}=e;const[n,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[s,i]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),h=(e,t)=>{e.preventDefault(),console.log("Archivo seleccionado:",t),d(t.path).then((e=>{window.open(e,"_blank")})).catch((e=>{console.error("Error al obtener URL de descarga:",e),alert(`Error al abrir el archivo: ${e.message}`)}))},g=e=>e?e.startsWith("image/")?"\ud83d\uddbc\ufe0f":e.includes("pdf")?"\ud83d\udcd5":e.includes("word")||e.includes("document")?"\ud83d\udcdd":e.includes("excel")||e.includes("spreadsheet")||e.includes("presentation")||e.includes("powerpoint")?"\ud83d\udcca":e.includes("text/")?"\ud83d\udcc4":e.includes("audio/")?"\ud83c\udfb5":e.includes("video/")?"\ud83c\udfac":e.includes("zip")||e.includes("compressed")?"\ud83d\udddc\ufe0f":"\ud83d\udcc4":"\ud83d\udcc4",b=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]};return(0,j.jsxs)("div",{className:"tag-search-container",children:[(0,j.jsx)("h2",{children:"B\xfasqueda por Etiquetas"}),(0,j.jsxs)("div",{className:"search-form",children:[(0,j.jsxs)("div",{className:"tag-selector-wrapper",children:[(0,j.jsx)("h3",{children:"Seleccione hasta 4 etiquetas para buscar"}),(0,j.jsx)(N,{onTagsChange:e=>{a(e)},maxTags:4})]}),(0,j.jsxs)("div",{className:"search-actions",children:[(0,j.jsx)("button",{className:"search-button",onClick:async()=>{if(0!==n.length)try{i(!0),m("");const e=n.map((e=>e.id));console.log(`Buscando archivos con etiquetas: ${n.map((e=>e.name)).join(", ")}`);const r=await p(e.join(","),!0);l(r),u(!0),"function"===typeof t&&t(r)}catch(e){console.error("Error al buscar por etiquetas:",e),m(`Error al realizar la b\xfasqueda: ${e.message}`),l([]),"function"===typeof t&&t([])}finally{i(!1)}else m("Por favor, seleccione al menos una etiqueta para buscar.")},disabled:s||0===n.length,children:s?"Buscando...":"Buscar Archivos"}),n.length>0&&(0,j.jsxs)("div",{className:"search-summary",children:["Buscando archivos que contengan todas estas etiquetas:",(0,j.jsx)("strong",{children:n.map((e=>` ${e.name}`)).join(", ")})]})]}),f&&(0,j.jsx)("div",{className:"error-message",children:f})]}),c?0===o.length?(0,j.jsx)("div",{className:"no-results",children:"No se encontraron archivos con todas las etiquetas seleccionadas."}):(0,j.jsxs)("div",{className:"search-results",children:[(0,j.jsxs)("h3",{children:["Resultados de la b\xfasqueda (",o.length,")"]}),(0,j.jsx)("div",{className:"results-grid",children:o.map(((e,t)=>(0,j.jsxs)("div",{className:"result-item",children:[(0,j.jsx)("div",{className:"file-icon",children:g(e.contentType)}),(0,j.jsxs)("div",{className:"file-info",children:[(0,j.jsx)("a",{href:`#${e.path}`,className:"file-name",onClick:t=>h(t,e),children:e.name}),(0,j.jsxs)("div",{className:"file-details",children:[(0,j.jsx)("span",{className:"file-path",children:e.path}),(0,j.jsx)("span",{className:"file-size",children:b(e.size)})]}),e.metadata&&e.metadata.tags&&(0,j.jsx)("div",{className:"file-tags",children:e.metadata.tags.map(((e,t)=>(0,j.jsx)("span",{className:"file-tag",children:e},t)))})]})]},t)))})]}):null,(0,j.jsx)("style",{jsx:!0,children:"\n        .tag-search-container {\n          padding: 20px;\n          background-color: #fff;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        h2 {\n          margin-top: 0;\n          margin-bottom: 20px;\n          color: #333;\n        }\n        \n        .search-form {\n          margin-bottom: 30px;\n        }\n        \n        .tag-selector-wrapper {\n          margin-bottom: 20px;\n        }\n        \n        .search-actions {\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n        \n        .search-button {\n          padding: 10px 20px;\n          background-color: #2196F3;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 16px;\n          transition: background-color 0.2s;\n          width: fit-content;\n        }\n        \n        .search-button:hover {\n          background-color: #0b7dda;\n        }\n        \n        .search-button:disabled {\n          background-color: #cccccc;\n          cursor: not-allowed;\n        }\n        \n        .search-summary {\n          margin-top: 10px;\n          color: #555;\n        }\n        \n        .error-message {\n          color: #e74c3c;\n          margin-top: 10px;\n          padding: 10px;\n          background-color: #fadbd8;\n          border-radius: 4px;\n        }\n        \n        .no-results {\n          padding: 20px;\n          text-align: center;\n          background-color: #f9f9f9;\n          border-radius: 4px;\n          color: #555;\n          font-style: italic;\n        }\n        \n        .search-results h3 {\n          margin-bottom: 15px;\n          border-bottom: 1px solid #eee;\n          padding-bottom: 10px;\n        }\n        \n        .results-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n          gap: 15px;\n        }\n        \n        .result-item {\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          padding: 15px;\n          display: flex;\n          gap: 15px;\n          transition: transform 0.2s;\n        }\n        \n        .result-item:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        \n        .file-icon {\n          font-size: 2rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .file-info {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n        }\n        \n        .file-name {\n          font-weight: bold;\n          color: #2196F3;\n          text-decoration: none;\n          margin-bottom: 5px;\n          word-break: break-word;\n        }\n        \n        .file-name:hover {\n          text-decoration: underline;\n        }\n        \n        .file-details {\n          font-size: 0.85rem;\n          color: #777;\n          margin-bottom: 8px;\n          display: flex;\n          flex-direction: column;\n        }\n        \n        .file-tags {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 5px;\n          margin-top: 8px;\n        }\n        \n        .file-tag {\n          background-color: #e1f5fe;\n          color: #0288d1;\n          font-size: 0.75rem;\n          padding: 3px 8px;\n          border-radius: 12px;\n        }\n      "})]})},$=e=>{let{onSearch:t,isLoading:n}=e;const[a,l]=(0,r.useState)(""),[i,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[x,w]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),[P,_]=(0,r.useState)(!1),[$,z]=(0,r.useState)(!1),[R,D]=(0,r.useState)(!1),[U,L]=(0,r.useState)([]),[I,O]=(0,r.useState)(!1),[q,F]=(0,r.useState)(""),[B,M]=(0,r.useState)(""),[W,H]=(0,r.useState)([]),[G,V]=(0,r.useState)([]),[Q,J]=(0,r.useState)("specific"),[Y,K]=(0,r.useState)(""),[X,Z]=(0,r.useState)(""),[ee,te]=(0,r.useState)(""),[ne,re]=(0,r.useState)(""),[ae,oe]=(0,r.useState)(""),[le,se]=(0,r.useState)("specific"),[ie,ce]=(0,r.useState)(""),[ue,de]=(0,r.useState)("specific"),[pe,fe]=(0,r.useState)(""),[me,he]=(0,r.useState)(""),[ge,be]=(0,r.useState)("specific"),[ye,ve]=(0,r.useState)(""),[xe,we]=(0,r.useState)([]),[ke,Se]=(0,r.useState)([]),[Ee,je]=(0,r.useState)(""),[Ne,Ce]=(0,r.useState)(""),[Te,Pe]=(0,r.useState)([]),[_e,Ae]=(0,r.useState)(!1);(0,r.useEffect)((()=>{$e()}),[]);const $e=()=>{try{const t=localStorage.getItem("user_session");if(t){if("admin"===JSON.parse(t).role)return void Ae(!0)}const n=localStorage.getItem("authToken");if(n)try{if("admin"===JSON.parse(atob(n.split(".")[1])).role)return void Ae(!0)}catch(e){console.error("Error al decodificar authToken:",e)}Ae(!1)}catch(t){console.error("Error al verificar estado de administrador:",t),Ae(!1)}};(0,r.useEffect)((()=>{(i||m||g||y||C)&&ze()}),[i,m,g,y,C]);const ze=async()=>{try{O(!0),console.log("Cargando etiquetas desde la API para el buscador...");const e=await k();if(console.log("Respuesta de la API getTags para b\xfasqueda:",e),e&&e.success&&e.tags){const t=e.tags.map((e=>e.tag_name)),n=[...new Set(t)];console.log("Etiquetas \xfanicas extra\xeddas para b\xfasqueda:",n),L(n),console.log(`${n.length} etiquetas cargadas desde la API para b\xfasqueda`)}else if(e&&e.success&&e.tagsByCategory){const t=[];Object.entries(e.tagsByCategory).forEach((e=>{let[n,r]=e;t.push(...r),console.log(`Categor\xeda ${n} tiene ${r.length} etiquetas para b\xfasqueda`)}));const n=[...new Set(t)];console.log("Etiquetas \xfanicas extra\xeddas de tagsByCategory para b\xfasqueda:",n),L(n),console.log(`${n.length} etiquetas cargadas desde la API para b\xfasqueda (usando tagsByCategory)`)}else console.log("No se pudieron cargar etiquetas desde la API para b\xfasqueda. Respuesta:",e),L([])}catch(e){console.error("Error al cargar etiquetas disponibles desde la API:",e),L([])}finally{O(!1)}},Re=()=>{if(!q.trim())return U;const e=q.toLowerCase();return U.filter((t=>t.toLowerCase().includes(e)))},De=()=>{const e=(new Date).getFullYear(),t=[];for(let n=e;n>=e-10;n--)t.push(n.toString());return t},Ue=e=>{switch(c(!1),d(!1),h(!1),b(!1),v(!1),w(!1),E(!1),T(!1),z(!1),D(!1),Pe([]),e){case"tag":c(!0),l(B);break;case"date":d(!0),Le();break;case"combined":h(!0),Ie();break;case"multipleTags":b(!0),Oe();break;case"multipleTagsWithDate":v(!0),qe();break;case"textAndDate":w(!0),Fe();break;case"textAndTag":T(!0),Be();break;case"categorizedTags":E(!0),l("B\xfasqueda por etiquetas categorizadas");break;case"content":z(!0),l("");break;case"size":D(!0),Me()}},Le=()=>{"specific"===Q&&Y?l(`date:${Y}`):"month"===Q&&X?l(`month:${X}`):"year"===Q&&ee&&l(`year:${ee}`)},Ie=()=>{let e="";if(ne&&(e=`tag:${ne}`),ae)if(e&&(e+=" "),"specific"===le)e+=`date:${ae}`;else if("month"===le){const t=ae.split("-");t.length>=2?e+=`month:${t[0]}-${t[1]}`:e+=`month:${ae}`}else"year"===le&&(e+=`year:${ae}`);console.log("T\xe9rmino de b\xfasqueda combinada actualizado:",e),l(e)},Oe=()=>{if(G&&G.length>0){const e=G.map((e=>e.name)).join(", ");l(`M\xfaltiples etiquetas: ${e}`),console.log("T\xe9rmino de b\xfasqueda de m\xfaltiples etiquetas actualizado:",e)}else l("")},qe=()=>{let e="";if(G&&G.length>0){e=`Etiquetas: ${G.map((e=>e.name)).join(", ")}`}if(ie)if(e&&(e+=" + "),"specific"===ue)try{const t=new Date(ie);if(isNaN(t.getTime()))e+=`Fecha: ${ie}`;else{const n=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0");e+=`Fecha: ${n}/${r}/${t.getFullYear()}`}}catch(t){e+=`Fecha: ${ie}`,console.error("Error al formatear fecha espec\xedfica:",t)}else if("month"===ue){const t=ie.split("-");if(t.length>=2){const n=parseInt(t[1]);e+=`Mes: ${n>=1&&n<=12?[{value:"01",name:"Enero"},{value:"02",name:"Febrero"},{value:"03",name:"Marzo"},{value:"04",name:"Abril"},{value:"05",name:"Mayo"},{value:"06",name:"Junio"},{value:"07",name:"Julio"},{value:"08",name:"Agosto"},{value:"09",name:"Septiembre"},{value:"10",name:"Octubre"},{value:"11",name:"Noviembre"},{value:"12",name:"Diciembre"}][n-1].name:t[1]} ${t[0]}`}else e+=`Mes: ${ie}`}else"year"===ue&&(e+=`A\xf1o: ${ie}`);console.log("T\xe9rmino de b\xfasqueda de m\xfaltiples etiquetas con fecha actualizado:",e),l(e)},Fe=()=>{let e="";if(pe&&(e=pe),me)if(e&&(e+=" + "),"specific"===ge)e+=`Fecha: ${me}`;else if("month"===ge){const t=me.split("-");t.length>=2?e+=`Mes: ${t[0]}-${t[1]}`:e+=`Mes: ${me}`}else"year"===ge&&(e+=`A\xf1o: ${me}`);console.log("T\xe9rmino de b\xfasqueda texto + fecha actualizado:",e),l(e)},Be=()=>{let e="";if(ye&&(e=ye),ke&&ke.length>0){e&&(e+=" + ");e+=`Etiquetas: ${ke.map((e=>e.name)).join(", ")}`}console.log("T\xe9rmino de b\xfasqueda texto + etiqueta actualizado:",e),l(e)},Me=()=>{let e="Tama\xf1o: ";Ee&&Ne?e+=`${Ee} KB - ${Ne} KB`:Ee?e+=`desde ${Ee} KB`:Ne?e+=`hasta ${Ne} KB`:e="B\xfasqueda por tama\xf1o de archivo",console.log("T\xe9rmino de b\xfasqueda por tama\xf1o actualizado:",e),l(e)},We=async e=>{if(0!==Te.length)try{switch(e){case"delete":window.confirm(`\xbfEst\xe1 seguro de que desea eliminar ${Te.length} archivo(s)?`)&&(await(async e=>{try{if(!e||!e.length)throw new Error("Se requiere al menos un ID de archivo para eliminar");console.log(`Eliminando ${e.length} archivos:`,e);const t=(0,o.getAuthToken)(),n={"Content-Type":"application/json"};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/delete-multiple`,{method:"DELETE",headers:n,body:JSON.stringify({fileIds:e})});if(!r.ok){const e=await r.json().catch((()=>({})));throw new Error(e.message||`Error ${r.status}`)}return await r.json()}catch(t){throw console.error("Error en deleteFiles:",t),t}})(Te),alert("Archivos eliminados exitosamente"),He(new Event("submit")));break;case"duplicate":await(async e=>{try{if(!e||!e.length)throw new Error("Se requiere al menos un ID de archivo para duplicar");console.log(`Duplicando ${e.length} archivos:`,e);const t=(0,o.getAuthToken)(),n={"Content-Type":"application/json"};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/duplicate-multiple`,{method:"POST",headers:n,body:JSON.stringify({fileIds:e})});if(!r.ok){const e=await r.json().catch((()=>({})));throw new Error(e.message||`Error ${r.status}`)}return await r.json()}catch(t){throw console.error("Error en duplicateFiles:",t),t}})(Te),alert("Archivos duplicados exitosamente"),He(new Event("submit"));break;case"download":if(1===Te.length)window.open(`/api/files/download/${Te[0]}`,"_blank");else{const e=await(async e=>{try{if(!e||!e.length)throw new Error("Se requiere al menos un ID de archivo para descargar");console.log(`Solicitando descarga en lote de ${e.length} archivos`);const t=(0,o.getAuthToken)(),n={"Content-Type":"application/json"};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/batch-download`,{method:"POST",headers:n,body:JSON.stringify({fileIds:e})});if(!r.ok){const e=await r.json().catch((()=>({})));throw new Error(e.message||`Error ${r.status}`)}return(await r.json()).downloadUrl}catch(t){throw console.error("Error en requestBatchDownload:",t),t}})(Te);window.open(e,"_blank")}break;default:console.error("Acci\xf3n no reconocida:",e)}}catch(t){console.error(`Error al realizar la acci\xf3n ${e}:`,t),alert(`Error: ${t.message||"No se pudo completar la acci\xf3n"}`)}else alert("Por favor, seleccione al menos un archivo")};(0,r.useEffect)((()=>{u&&Le()}),[Q,Y,X,ee,u]),(0,r.useEffect)((()=>{m&&Ie()}),[ne,ae,le,m]),(0,r.useEffect)((()=>{g&&Oe()}),[W,g]),(0,r.useEffect)((()=>{y&&qe()}),[W,ie,ue,y]),(0,r.useEffect)((()=>{x&&Fe()}),[pe,me,ge,x]),(0,r.useEffect)((()=>{C&&Be()}),[ye,ke,C]),(0,r.useEffect)((()=>{R&&Me()}),[Ee,Ne,R]);const He=async e=>{if(e.preventDefault(),!S&&a.trim())try{if(R){console.log("Realizando b\xfasqueda por tama\xf1o de archivo");try{const e=Ee?parseInt(Ee):null,n=Ne?parseInt(Ne):null;console.log(`Buscando archivos con tama\xf1o entre ${e||0} KB y ${n||"sin l\xedmite"} KB`);const r=await(async(e,t)=>{try{console.log(`INICIANDO b\xfasqueda por tama\xf1o: m\xednimo=${e||"sin l\xedmite"} KB, m\xe1ximo=${t||"sin l\xedmite"} KB`);const n=(0,o.getAuthToken)();let r=`${s}/search-by-size`;const a=new URLSearchParams;null!==e&&void 0!==e&&a.append("minSize",e),null!==t&&void 0!==t&&a.append("maxSize",t),n&&a.append("token",n),a.toString()&&(r+=`?${a.toString()}`),console.log("URL exacta de b\xfasqueda por tama\xf1o:",r),console.log("Enviando solicitud al endpoint de b\xfasqueda por tama\xf1o...");const l=(new Date).getTime(),i=await fetch(r),c=(new Date).getTime();if(console.log(`La solicitud tard\xf3 ${c-l} ms en completarse`),!i.ok){const e=await i.json().catch((()=>({})));throw new Error(e.message||`Error ${i.status}`)}const u=await i.json();return console.log(`Se encontraron ${u.length} resultados desde el servidor para la b\xfasqueda por tama\xf1o`),u}catch(n){throw console.error("Error en searchFilesBySize:",n),n}})(e,n);return console.log(`B\xfasqueda por tama\xf1o exitosa: ${r.length} resultados`),void t(r,!1,!1,null,!0,!0,!1,!0)}catch(n){console.error("Error al realizar b\xfasqueda por tama\xf1o:",n)}}if($){console.log("Realizando b\xfasqueda por contenido");try{const e=await f(a);return console.log(`B\xfasqueda por contenido exitosa: ${e.length} resultados`),void t(e,!1,!1,null,!0,!0,!0)}catch(n){console.error("Error al realizar b\xfasqueda por contenido:",n)}}if(C&&ye&&ke.length>0){console.log("Realizando b\xfasqueda por texto y etiquetas");try{const e=ke.map((e=>e.id));console.log(`Buscando archivos con texto: "${ye}" y etiquetas IDs: ${e.join(", ")}`);const r=await async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{if(console.log(`INICIANDO b\xfasqueda combinada de texto y etiquetas: texto=${e}, tags=${t}, useIds=${r}, requireAllTags=${a}`),!e||!e.trim())throw new Error("Se requiere un texto para la b\xfasqueda");if(!t)throw new Error("Se requiere al menos una etiqueta para la b\xfasqueda");let n;if(n=Array.isArray(t)?t.join(","):t,!n.trim())throw new Error("Se requiere al menos una etiqueta para la b\xfasqueda");const l=(0,o.getAuthToken)();let i=`${s}/search-text-with-tags?text=${encodeURIComponent(e.trim())}&tags=${encodeURIComponent(n.trim())}`;r&&(i+="&useIds=true"),a&&(i+="&requireAllTags=true"),l&&(i+=`&token=${encodeURIComponent(l)}`),console.log("URL exacta de b\xfasqueda combinada de texto y etiquetas:",i),console.log("Enviando solicitud al endpoint...");const c=(new Date).getTime(),u=await fetch(i),d=(new Date).getTime();if(console.log(`La solicitud tard\xf3 ${d-c} ms en completarse`),!u.ok){const e=await u.json().catch((()=>({})));throw new Error(e.message||`Error ${u.status}`)}const p=await u.json();return console.log(`Se encontraron ${p.length} resultados desde el servidor para la b\xfasqueda combinada`),p}catch(n){throw console.error("Error en searchTextWithTags:",n),n}}(ye,e.join(","),!0,!1);return console.log(`B\xfasqueda por texto y etiquetas exitosa: ${r.length} resultados`),void t(r,!1,!1,null,!0,!0)}catch(n){console.error("Error al realizar b\xfasqueda por texto y etiquetas:",n)}}if(x&&pe&&me){console.log("Realizando b\xfasqueda por texto y fecha");try{const e=await async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"specific";try{if(console.log(`INICIANDO b\xfasqueda de texto con fecha: texto: ${e}, fecha: ${t}, tipo: ${r}`),!e||!e.trim())throw new Error("Se requiere un texto para la b\xfasqueda combinada");if(!t||!t.trim())throw new Error("Se requiere una fecha para la b\xfasqueda combinada");const n=(0,o.getAuthToken)();let a=`${s}/search-text-with-date?text=${encodeURIComponent(e.trim())}&date=${encodeURIComponent(t.trim())}&dateType=${encodeURIComponent(r)}`;n&&(a+=`&token=${encodeURIComponent(n)}`),console.log("URL exacta de b\xfasqueda de texto con fecha:",a),console.log("Enviando solicitud al endpoint de b\xfasqueda de texto con fecha...");const l=(new Date).getTime(),i=await fetch(a),c=(new Date).getTime();if(console.log(`La solicitud tard\xf3 ${c-l} ms en completarse`),!i.ok){const e=await i.json().catch((()=>({})));throw new Error(e.message||`Error ${i.status}`)}const u=await i.json();return console.log(`Se encontraron ${u.length} resultados desde el servidor`),u}catch(n){throw console.error("Error en searchTextWithDate:",n),n}}(pe,me,ge);return console.log(`B\xfasqueda por texto y fecha exitosa: ${e.length} resultados`),void t(e,!1,!1,null,!0,!0)}catch(n){console.error("Error al realizar b\xfasqueda por texto y fecha:",n)}}if(i&&U.includes(a.trim()),m&&ne&&ae){console.log("Realizando b\xfasqueda combinada con API especializada");try{const e=await async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"specific";try{if(console.log(`INICIANDO b\xfasqueda combinada: etiqueta: ${e}, fecha: ${t}, tipo: ${r}`),!e||!e.trim())throw new Error("Se requiere una etiqueta para la b\xfasqueda combinada");if(!t||!t.trim())throw new Error("Se requiere una fecha para la b\xfasqueda combinada");const n=(0,o.getAuthToken)();let a=`${s}/search-combined?tag=${encodeURIComponent(e.trim())}&date=${encodeURIComponent(t.trim())}&dateType=${encodeURIComponent(r)}`;n&&(a+=`&token=${encodeURIComponent(n)}`),console.log("URL exacta de b\xfasqueda combinada:",a),console.log("Enviando solicitud al endpoint de b\xfasqueda combinada...");const l=(new Date).getTime(),i=await fetch(a),c=(new Date).getTime();if(console.log(`La solicitud tard\xf3 ${c-l} ms en completarse`),!i.ok){const e=await i.json().catch((()=>({})));throw new Error(e.message||`Error ${i.status}`)}const u=await i.json();return console.log(`Se encontraron ${u.length} resultados desde el servidor`),u}catch(n){throw console.error("Error en searchFilesCombined:",n),n}}(ne,ae,le);return console.log(`B\xfasqueda combinada exitosa: ${e.length} resultados`),void t(e,!1,!1,null,!0,!0)}catch(n){console.error("Error al realizar b\xfasqueda combinada:",n)}}if(g&&G.length>0){console.log("Realizando b\xfasqueda por m\xfaltiples etiquetas");try{const e=G.map((e=>e.id));console.log(`Buscando archivos con etiquetas IDs: ${e.join(", ")}`);const n=await p(e.join(","),!0);return console.log(`B\xfasqueda por m\xfaltiples etiquetas exitosa: ${n.length} resultados`),void t(n,!1,!1,null,!0,!0)}catch(n){console.error("Error al realizar b\xfasqueda por m\xfaltiples etiquetas:",n)}}if(y&&G.length>0&&ie){console.log("Realizando b\xfasqueda por m\xfaltiples etiquetas con fecha");try{const e=G.map((e=>e.id));let r=ie;if("month"===ue&&ie.includes("-")){const e=ie.split("-");e.length>=2&&(r=`${e[0]}-${e[1]}`)}console.log(`Buscando archivos con etiquetas IDs: ${e.join(", ")} y fecha: ${r} (tipo: ${ue})`);const a=await async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"specific",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{if(console.log(`INICIANDO b\xfasqueda combinada de m\xfaltiples etiquetas y fecha: tags=${e}, fecha=${t}, tipo=${r}, useIds=${a}`),!e)throw new Error("Se requiere al menos una etiqueta para la b\xfasqueda");if(!t||!t.trim())throw new Error("Se requiere una fecha para la b\xfasqueda combinada");let n;if(n=Array.isArray(e)?e.join(","):e,!n.trim())throw new Error("Se requiere al menos una etiqueta para la b\xfasqueda");const l=(0,o.getAuthToken)();let i=`${s}/search-multiple-tags-with-date?tags=${encodeURIComponent(n.trim())}&date=${encodeURIComponent(t.trim())}&dateType=${encodeURIComponent(r)}`;a&&(i+="&useIds=true"),l&&(i+=`&token=${encodeURIComponent(l)}`),console.log("URL exacta de b\xfasqueda combinada de m\xfaltiples etiquetas y fecha:",i),console.log("Enviando solicitud al endpoint de b\xfasqueda combinada...");const c=(new Date).getTime(),u=await fetch(i),d=(new Date).getTime();if(console.log(`La solicitud tard\xf3 ${d-c} ms en completarse`),!u.ok){const e=await u.json().catch((()=>({})));throw new Error(e.message||`Error ${u.status}`)}const p=await u.json();return console.log(`Se encontraron ${p.length} resultados desde el servidor para la b\xfasqueda combinada`),p}catch(n){throw console.error("Error en searchMultipleTagsWithDate:",n),n}}(e.join(","),r,ue,!0);return console.log(`B\xfasqueda por m\xfaltiples etiquetas con fecha exitosa: ${a.length} resultados`),void t(a,!1,!1,null,!0,!0)}catch(n){console.error("Error al realizar b\xfasqueda por m\xfaltiples etiquetas con fecha:",n),console.error("Detalles del error:",n.message,n.stack)}}t(a,i,u,Q,!1,!0)}catch(n){console.error("Error al realizar la b\xfasqueda:",n)}};return(0,j.jsxs)("div",{className:"search-form",children:[(0,j.jsx)("form",{onSubmit:He,children:(0,j.jsxs)("div",{className:"search-container",children:[(0,j.jsxs)("div",{className:"search-options-container",children:[(0,j.jsxs)("div",{className:"basic-search-options",children:[(0,j.jsxs)("label",{className:"search-option",children:[(0,j.jsx)("input",{type:"radio",name:"searchType",checked:!i&&!u&&!m&&!g&&!y&&!x&&!S&&!C&&!$&&!R,onChange:()=>Ue("text"),disabled:n}),"Texto"]}),(0,j.jsxs)("label",{className:"search-option highlight-new-option",children:[(0,j.jsx)("input",{type:"radio",name:"searchType",checked:$,onChange:()=>Ue("content"),disabled:n}),"Contenido"]}),(0,j.jsxs)("label",{className:"search-option",children:[(0,j.jsx)("input",{type:"radio",name:"searchType",checked:u,onChange:()=>Ue("date"),disabled:n}),"Fecha"]}),(0,j.jsxs)("label",{className:"search-option highlight-new-option",children:[(0,j.jsx)("input",{type:"radio",name:"searchType",checked:R,onChange:()=>Ue("size"),disabled:n}),"Tama\xf1o"]}),(0,j.jsx)("button",{type:"button",className:"toggle-advanced-button",onClick:()=>_(!P),children:P?"\u25b2 Ocultar opciones":"\u25bc Mostrar opciones"})]}),P&&(0,j.jsxs)("div",{className:"advanced-search-types",children:[(0,j.jsxs)("label",{className:"search-option",children:[(0,j.jsx)("input",{type:"radio",name:"searchType",checked:g,onChange:()=>Ue("multipleTags"),disabled:n}),"M\xfaltiples Etiquetas"]}),(0,j.jsxs)("label",{className:"search-option",children:[(0,j.jsx)("input",{type:"radio",name:"searchType",checked:y,onChange:()=>Ue("multipleTagsWithDate"),disabled:n}),"M\xfaltiples Etiquetas + Fecha"]}),(0,j.jsxs)("label",{className:"search-option",children:[(0,j.jsx)("input",{type:"radio",name:"searchType",checked:x,onChange:()=>Ue("textAndDate"),disabled:n}),"Texto + Fecha"]}),(0,j.jsxs)("label",{className:"search-option highlight-new-option",children:[(0,j.jsx)("input",{type:"radio",name:"searchType",checked:C,onChange:()=>Ue("textAndTag"),disabled:n}),"Texto + Etiqueta"]})]})]}),(0,j.jsxs)("div",{className:"search-type-options",children:[R&&(0,j.jsxs)("div",{className:"size-search-options",children:[(0,j.jsx)("h4",{children:"B\xfasqueda por tama\xf1o de archivo"}),(0,j.jsxs)("div",{className:"size-range-container",children:[(0,j.jsxs)("div",{className:"size-input-group",children:[(0,j.jsx)("label",{children:"Tama\xf1o m\xednimo (KB):"}),(0,j.jsx)("input",{type:"number",min:"0",value:Ee,onChange:e=>{je(e.target.value),Me()},placeholder:"M\xednimo",className:"size-input",disabled:n})]}),(0,j.jsxs)("div",{className:"size-input-group",children:[(0,j.jsx)("label",{children:"Tama\xf1o m\xe1ximo (KB):"}),(0,j.jsx)("input",{type:"number",min:"0",value:Ne,onChange:e=>{Ce(e.target.value),Me()},placeholder:"M\xe1ximo",className:"size-input",disabled:n})]})]}),(0,j.jsx)("div",{className:"size-search-info",children:(0,j.jsx)("small",{children:'Nota: Dejar en blanco un campo significa "sin l\xedmite" en ese extremo.'})}),Te.length>0&&_e&&(0,j.jsxs)("div",{className:"file-actions-container",children:[(0,j.jsxs)("h5",{children:["Acciones para ",Te.length," archivo(s) seleccionado(s):"]}),(0,j.jsxs)("div",{className:"file-action-buttons",children:[(0,j.jsx)("button",{type:"button",onClick:()=>We("delete"),className:"file-action-button delete-button",children:"Eliminar"}),(0,j.jsx)("button",{type:"button",onClick:()=>We("duplicate"),className:"file-action-button duplicate-button",children:"Duplicar"}),(0,j.jsx)("button",{type:"button",onClick:()=>We("download"),className:"file-action-button download-button",children:"Descargar"})]})]})]}),i&&(0,j.jsxs)("div",{className:"tag-search-options",children:[(0,j.jsx)("div",{className:"tag-filter-container",children:(0,j.jsx)("input",{type:"text",value:q,onChange:e=>F(e.target.value),placeholder:"Filtrar etiquetas...",className:"tag-filter-input",disabled:n||I})}),(0,j.jsxs)("select",{value:B,onChange:e=>{M(e.target.value),l(e.target.value)},disabled:n||I,className:"tag-selector",children:[(0,j.jsx)("option",{value:"",children:"-- Seleccionar etiqueta --"}),Re().map(((e,t)=>(0,j.jsx)("option",{value:e,children:e},t)))]}),I&&(0,j.jsx)("span",{className:"loading-indicator",children:"Cargando etiquetas..."})]}),u&&(0,j.jsxs)("div",{className:"date-search-options",children:[(0,j.jsxs)("div",{className:"date-type-selector",children:[(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"dateSearchType",value:"specific",checked:"specific"===Q,onChange:()=>J("specific"),disabled:n}),"Fecha espec\xedfica"]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"dateSearchType",value:"month",checked:"month"===Q,onChange:()=>J("month"),disabled:n}),"Mes y a\xf1o"]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"dateSearchType",value:"year",checked:"year"===Q,onChange:()=>J("year"),disabled:n}),"A\xf1o"]})]}),"specific"===Q&&(0,j.jsx)("input",{type:"date",value:Y,onChange:e=>K(e.target.value),disabled:n,className:"date-input"}),"month"===Q&&(0,j.jsxs)("div",{className:"month-year-selector",children:[(0,j.jsxs)("select",{value:X,onChange:e=>Z(e.target.value),disabled:n,className:"month-selector",children:[(0,j.jsx)("option",{value:"",children:"-- Mes --"}),[{value:"01",name:"Enero"},{value:"02",name:"Febrero"},{value:"03",name:"Marzo"},{value:"04",name:"Abril"},{value:"05",name:"Mayo"},{value:"06",name:"Junio"},{value:"07",name:"Julio"},{value:"08",name:"Agosto"},{value:"09",name:"Septiembre"},{value:"10",name:"Octubre"},{value:"11",name:"Noviembre"},{value:"12",name:"Diciembre"}].map((e=>(0,j.jsx)("option",{value:e.value,children:e.name},e.value)))]}),(0,j.jsxs)("select",{value:ee,onChange:e=>te(e.target.value),disabled:n,className:"year-selector",children:[(0,j.jsx)("option",{value:"",children:"-- A\xf1o --"}),De().map((e=>(0,j.jsx)("option",{value:e,children:e},e)))]})]}),"year"===Q&&(0,j.jsxs)("select",{value:ee,onChange:e=>te(e.target.value),disabled:n,className:"year-selector full-width",children:[(0,j.jsx)("option",{value:"",children:"-- Seleccionar a\xf1o --"}),De().map((e=>(0,j.jsx)("option",{value:e,children:e},e)))]})]}),m&&(0,j.jsxs)("div",{className:"combined-search-options",children:[(0,j.jsx)("h4",{children:"B\xfasqueda combinada"}),(0,j.jsxs)("div",{className:"combined-tag-section",children:[(0,j.jsx)("label",{children:"Seleccionar etiqueta:"}),(0,j.jsx)("div",{className:"tag-filter-container",children:(0,j.jsx)("input",{type:"text",value:q,onChange:e=>F(e.target.value),placeholder:"Filtrar etiquetas...",className:"tag-filter-input",disabled:n||I})}),(0,j.jsxs)("select",{value:ne,onChange:e=>{re(e.target.value),Ie()},disabled:n||I,className:"tag-selector",children:[(0,j.jsx)("option",{value:"",children:"-- Seleccionar etiqueta --"}),Re().map(((e,t)=>(0,j.jsx)("option",{value:e,children:e},t)))]}),I&&(0,j.jsx)("span",{className:"loading-indicator",children:"Cargando etiquetas..."})]}),(0,j.jsxs)("div",{className:"combined-date-section",children:[(0,j.jsx)("label",{children:"Seleccionar fecha:"}),(0,j.jsxs)("div",{className:"date-type-selector",children:[(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"combinedDateType",value:"specific",checked:"specific"===le,onChange:()=>{se("specific"),Ie()},disabled:n}),"Fecha espec\xedfica"]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"combinedDateType",value:"month",checked:"month"===le,onChange:()=>{se("month"),Ie()},disabled:n}),"Mes y a\xf1o"]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"combinedDateType",value:"year",checked:"year"===le,onChange:()=>{se("year"),Ie()},disabled:n}),"A\xf1o"]})]}),"specific"===le&&(0,j.jsx)("input",{type:"date",value:ae,onChange:e=>{oe(e.target.value),Ie()},disabled:n,className:"date-input"}),"month"===le&&(0,j.jsxs)("div",{className:"month-year-selector",children:[(0,j.jsxs)("select",{value:ae.split("-")[1]||"",onChange:e=>{const t=ae.split("-")[0]||"",n=t?`${t}-${e.target.value}`:"";oe(n),Ie()},disabled:n,className:"month-selector",children:[(0,j.jsx)("option",{value:"",children:"-- Mes --"}),[{value:"01",name:"Enero"},{value:"02",name:"Febrero"},{value:"03",name:"Marzo"},{value:"04",name:"Abril"},{value:"05",name:"Mayo"},{value:"06",name:"Junio"},{value:"07",name:"Julio"},{value:"08",name:"Agosto"},{value:"09",name:"Septiembre"},{value:"10",name:"Octubre"},{value:"11",name:"Noviembre"},{value:"12",name:"Diciembre"}].map((e=>(0,j.jsx)("option",{value:e.value,children:e.name},e.value)))]}),(0,j.jsxs)("select",{value:ae.split("-")[0]||"",onChange:e=>{const t=ae.split("-")[1]||"",n=t?`${e.target.value}-${t}`:e.target.value;oe(n),Ie()},disabled:n,className:"year-selector",children:[(0,j.jsx)("option",{value:"",children:"-- A\xf1o --"}),De().map((e=>(0,j.jsx)("option",{value:e,children:e},e)))]})]}),"year"===le&&(0,j.jsxs)("select",{value:ae,onChange:e=>{oe(e.target.value),Ie()},disabled:n,className:"year-selector full-width",children:[(0,j.jsx)("option",{value:"",children:"-- Seleccionar a\xf1o --"}),De().map((e=>(0,j.jsx)("option",{value:e,children:e},e)))]})]})]}),g&&(0,j.jsxs)("div",{className:"multiple-tags-search-options",children:[(0,j.jsx)("h4",{children:"B\xfasqueda por m\xfaltiples etiquetas"}),(0,j.jsx)("div",{className:"tag-selector-container",children:(0,j.jsx)(N,{onTagsChange:e=>{V(e);const t=e.map((e=>e.name));H(t),Oe()},maxTags:4})})]}),y&&(0,j.jsxs)("div",{className:"multiple-tags-date-search-options",children:[(0,j.jsx)("h4",{children:"B\xfasqueda por m\xfaltiples etiquetas y fecha"}),(0,j.jsx)("div",{className:"tag-selector-container",children:(0,j.jsx)(N,{onTagsChange:e=>{V(e);const t=e.map((e=>e.name));H(t),qe()},maxTags:4})}),(0,j.jsxs)("div",{className:"multiple-tags-date-section",children:[(0,j.jsx)("label",{children:"Seleccionar fecha:"}),(0,j.jsxs)("div",{className:"date-type-selector",children:[(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"multipleTagsDateType",value:"specific",checked:"specific"===ue,onChange:()=>{de("specific"),qe()},disabled:n}),"Fecha espec\xedfica"]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"multipleTagsDateType",value:"month",checked:"month"===ue,onChange:()=>{de("month"),qe()},disabled:n}),"Mes y a\xf1o"]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"multipleTagsDateType",value:"year",checked:"year"===ue,onChange:()=>{de("year"),qe()},disabled:n}),"A\xf1o"]})]}),"specific"===ue&&(0,j.jsx)("input",{type:"date",value:ie,onChange:e=>{ce(e.target.value),qe()},disabled:n,className:"date-input"}),"month"===ue&&(0,j.jsxs)("div",{className:"month-year-selector",children:[(0,j.jsxs)("select",{value:ie.split("-")[1]||"",onChange:e=>{const t=`${ie.split("-")[0]||(new Date).getFullYear().toString()}-${e.target.value}`;ce(t),qe()},disabled:n,className:"month-selector",children:[(0,j.jsx)("option",{value:"",children:"-- Mes --"}),[{value:"01",name:"Enero"},{value:"02",name:"Febrero"},{value:"03",name:"Marzo"},{value:"04",name:"Abril"},{value:"05",name:"Mayo"},{value:"06",name:"Junio"},{value:"07",name:"Julio"},{value:"08",name:"Agosto"},{value:"09",name:"Septiembre"},{value:"10",name:"Octubre"},{value:"11",name:"Noviembre"},{value:"12",name:"Diciembre"}].map((e=>(0,j.jsx)("option",{value:e.value,children:e.name},e.value)))]}),(0,j.jsxs)("select",{value:ie.split("-")[0]||"",onChange:e=>{const t=ie.split("-")[1]||"",n=t?`${e.target.value}-${t}`:`${e.target.value}-01`;ce(n),qe()},disabled:n,className:"year-selector",children:[(0,j.jsx)("option",{value:"",children:"-- A\xf1o --"}),De().map((e=>(0,j.jsx)("option",{value:e,children:e},e)))]})]}),"year"===ue&&(0,j.jsxs)("select",{value:ie,onChange:e=>{ce(e.target.value),qe()},disabled:n,className:"year-selector full-width",children:[(0,j.jsx)("option",{value:"",children:"-- Seleccionar a\xf1o --"}),De().map((e=>(0,j.jsx)("option",{value:e,children:e},e)))]})]})]}),x&&(0,j.jsxs)("div",{className:"text-date-search-options",children:[(0,j.jsx)("h4",{children:"B\xfasqueda por texto y fecha"}),(0,j.jsxs)("div",{className:"text-date-text-section",children:[(0,j.jsx)("label",{children:"Ingrese texto:"}),(0,j.jsx)("input",{type:"text",value:pe,onChange:e=>{fe(e.target.value),Fe()},placeholder:"Buscar en nombres de archivos...",className:"search-input",disabled:n})]}),(0,j.jsxs)("div",{className:"text-date-date-section",children:[(0,j.jsx)("label",{children:"Seleccionar fecha:"}),(0,j.jsxs)("div",{className:"date-type-selector",children:[(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"textAndDateType",value:"specific",checked:"specific"===ge,onChange:()=>{be("specific"),Fe()},disabled:n}),"Fecha espec\xedfica"]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"textAndDateType",value:"month",checked:"month"===ge,onChange:()=>{be("month"),Fe()},disabled:n}),"Mes y a\xf1o"]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",name:"textAndDateType",value:"year",checked:"year"===ge,onChange:()=>{be("year"),Fe()},disabled:n}),"A\xf1o"]})]}),"specific"===ge&&(0,j.jsx)("input",{type:"date",value:me,onChange:e=>{he(e.target.value),Fe()},disabled:n,className:"date-input"}),"month"===ge&&(0,j.jsxs)("div",{className:"month-year-selector",children:[(0,j.jsxs)("select",{value:me.split("-")[1]||"",onChange:e=>{const t=me.split("-")[0]||"",n=t?`${t}-${e.target.value}`:"";he(n),Fe()},disabled:n,className:"month-selector",children:[(0,j.jsx)("option",{value:"",children:"-- Mes --"}),[{value:"01",name:"Enero"},{value:"02",name:"Febrero"},{value:"03",name:"Marzo"},{value:"04",name:"Abril"},{value:"05",name:"Mayo"},{value:"06",name:"Junio"},{value:"07",name:"Julio"},{value:"08",name:"Agosto"},{value:"09",name:"Septiembre"},{value:"10",name:"Octubre"},{value:"11",name:"Noviembre"},{value:"12",name:"Diciembre"}].map((e=>(0,j.jsx)("option",{value:e.value,children:e.name},e.value)))]}),(0,j.jsxs)("select",{value:me.split("-")[0]||"",onChange:e=>{const t=me.split("-")[1]||"",n=t?`${e.target.value}-${t}`:e.target.value;he(n),Fe()},disabled:n,className:"year-selector",children:[(0,j.jsx)("option",{value:"",children:"-- A\xf1o --"}),De().map((e=>(0,j.jsx)("option",{value:e,children:e},e)))]})]}),"year"===ge&&(0,j.jsxs)("select",{value:me,onChange:e=>{he(e.target.value),Fe()},disabled:n,className:"year-selector full-width",children:[(0,j.jsx)("option",{value:"",children:"-- Seleccionar a\xf1o --"}),De().map((e=>(0,j.jsx)("option",{value:e,children:e},e)))]})]})]}),C&&(0,j.jsxs)("div",{className:"text-tag-search-options",children:[(0,j.jsx)("h4",{children:"B\xfasqueda por texto y etiquetas"}),(0,j.jsxs)("div",{className:"text-tag-text-section",children:[(0,j.jsx)("label",{children:"Ingrese texto:"}),(0,j.jsx)("input",{type:"text",value:ye,onChange:e=>{ve(e.target.value),Be()},placeholder:"Buscar en nombres de archivos...",className:"search-input",disabled:n,placeholder:"Buscar en nombres de archivos...",className:"search-input",disabled:n})]}),(0,j.jsxs)("div",{className:"text-tag-tags-section",children:[(0,j.jsx)("label",{children:"Seleccionar etiquetas:"}),(0,j.jsx)("div",{className:"tag-selector-container",children:(0,j.jsx)(N,{onTagsChange:e=>{Se(e);const t=e.map((e=>e.name));we(t),Be()},maxTags:4})})]})]}),S&&(0,j.jsx)("div",{className:"categorized-tags-search-options",children:(0,j.jsx)(A,{onResults:e=>t(e,!1,!1,null,!0,!0)})}),$&&(0,j.jsxs)("div",{className:"content-search-options",children:[(0,j.jsxs)("div",{className:"content-search-input-section",children:[(0,j.jsx)("label",{children:"Ingrese texto para buscar dentro de los documentos:"}),(0,j.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Buscar en el contenido de los archivos...",className:"search-input",disabled:n})]}),(0,j.jsx)("div",{className:"content-search-info",children:(0,j.jsx)("small",{children:"La b\xfasqueda por contenido examina el texto dentro de documentos DOCX, PDF y TXT."})})]})]}),(0,j.jsx)("div",{className:"search-input-container",children:!S&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:i?"Ingrese etiqueta...":u?"Fecha de b\xfasqueda":x?"Texto + Fecha":C?"Texto + Etiqueta":R?"Tama\xf1o en KB":"Buscar archivos o carpetas...",disabled:n||u&&"text"!==Q||S||R,className:"search-input",readOnly:u&&"text"!==Q||R}),(0,j.jsx)("button",{type:"submit",disabled:n||!a.trim()&&!R||u&&!a||S,className:"search-button",children:n?"Buscando...":"Buscar"})]})})]})}),(0,j.jsx)("style",{jsx:!0,children:"\n       .highlight-new-option {\n         background-color: #e1f5fe;\n         padding: 5px 10px;\n         border-radius: 4px;\n         border-left: 3px solid #2196F3;\n         margin-top: 5px;\n       }\n       \n       .text-tag-search-options,\n       .size-search-options {\n         margin-top: 15px;\n         padding: 15px;\n         background-color: #f5f5f5;\n         border-radius: 4px;\n       }\n       \n       .text-tag-text-section,\n       .text-tag-tags-section,\n       .size-input-group {\n         margin-bottom: 15px;\n       }\n       \n       .text-tag-text-section label,\n       .text-tag-tags-section label,\n       .size-input-group label {\n         display: block;\n         margin-bottom: 5px;\n         font-weight: bold;\n       }\n       \n       .size-range-container {\n         display: flex;\n         justify-content: space-between;\n         gap: 20px;\n       }\n       \n       .size-input-group {\n         flex: 1;\n       }\n       \n       .size-input {\n         width: 100%;\n         padding: 8px;\n         border: 1px solid #ddd;\n         border-radius: 4px;\n       }\n       \n       .size-search-info {\n         margin-top: 10px;\n         color: #666;\n       }\n       \n       .file-actions-container {\n         margin-top: 20px;\n         padding-top: 15px;\n         border-top: 1px solid #ddd;\n       }\n       \n       .file-action-buttons {\n         display: flex;\n         gap: 10px;\n         margin-top: 10px;\n       }\n       \n       .file-action-button {\n         padding: 6px 12px;\n         border: none;\n         border-radius: 4px;\n         cursor: pointer;\n         font-weight: bold;\n       }\n       \n       .delete-button {\n         background-color: #f44336;\n         color: white;\n       }\n       \n       .duplicate-button {\n         background-color: #2196F3;\n         color: white;\n       }\n       \n       .download-button {\n         background-color: #4CAF50;\n         color: white;\n       }\n     "})]})},z=e=>{let{userRole:t,username:n}=e;const[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)([]),[d,p]=(0,r.useState)(!0),[m,h]=(0,r.useState)(null),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)([]),[x,w]=(0,r.useState)(""),[k,S]=(0,r.useState)(null),[E,N]=(0,r.useState)(!1),C=async e=>{if(!g){p(!0),h(null);try{const t=(await i(e)).filter((e=>!e.name.endsWith(".metadata")&&!e.name.endsWith(".youtube.metadata")&&!e.name.endsWith(".audio.metadata")&&!e.name.endsWith(".image.metadata")&&!e.name.endsWith(".access.metadata")));u(t)}catch(t){console.error("Error al cargar archivos:",t),h("No se pudieron cargar los archivos. Por favor intente nuevamente.")}finally{p(!1)}}};(0,r.useEffect)((()=>{C(a)}),[a,g]);const A=()=>{C(a)};return(0,j.jsxs)("div",{className:"file-explorer",children:[(0,j.jsx)("h2",{children:"Explorador de Archivos"}),(0,j.jsx)("div",{className:"explorer-header",children:(0,j.jsxs)("div",{className:"current-path",children:[(0,j.jsx)("strong",{children:"Ubicaci\xf3n actual:"})," ",a||"Ra\xedz",g&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("span",{className:"search-indicator",children:['| Resultados para: "',x,'"']}),(0,j.jsx)("button",{onClick:()=>{b(!1),v([]),w(""),N(!1)},className:"clear-search-button",children:"Volver"})]})]})}),(0,j.jsx)($,{onSearch:async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7];p(!0),h(null);let c=[];try{if(r)console.log("Recibidos resultados directos de b\xfasqueda combinada:",e.length),c=e,w("B\xfasqueda combinada"),N(i);else if(t)console.log("Iniciando b\xfasqueda por etiqueta:",e),w(e),N(!1),h("Buscando archivos con la etiqueta. Esto puede tardar un momento..."),c=await(async e=>{try{if(console.log("INICIANDO b\xfasqueda por etiqueta:",e),!e||!e.trim())throw new Error("Se requiere una etiqueta para la b\xfasqueda");const t=(0,o.getAuthToken)();let n=`${s}/search-by-tags?tag=${encodeURIComponent(e.trim())}`;t&&(n+=`&token=${encodeURIComponent(t)}`),console.log("URL exacta de b\xfasqueda por etiqueta:",n),console.log("Enviando solicitud al endpoint de b\xfasqueda por etiquetas...");const r=(new Date).getTime(),a=await fetch(n),l=(new Date).getTime();if(console.log(`La solicitud tard\xf3 ${l-r} ms en completarse`),!a.ok){const e=await a.json().catch((()=>({})));throw new Error(e.message||`Error ${a.status}`)}const i=await a.json();return console.log(`Se encontraron ${i.length} resultados desde el servidor`),i}catch(m){throw console.error("Error en searchFilesByTag:",m),m}})(e),console.log("Resultados finales de b\xfasqueda por etiqueta:",c);else if(n){let t,n;if(console.log("Iniciando b\xfasqueda por fecha:",e),w(e),N(!1),h("Buscando archivos por fecha. Esto puede tardar un momento..."),e.startsWith("date:"))n="specific",t=e.substring(5);else if(e.startsWith("month:"))n="month",t=e.substring(6);else{if(!e.startsWith("year:"))throw new Error("Formato de fecha inv\xe1lido");n="year",t=e.substring(5)}console.log("Par\xe1metros de b\xfasqueda por fecha:",{searchType:n,searchDate:t}),c=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"specific";try{if(console.log(`INICIANDO b\xfasqueda por fecha: ${e}, tipo: ${t}`),!e||!e.trim())throw new Error("Se requiere una fecha para la b\xfasqueda");const n=(0,o.getAuthToken)();let r=`${s}/search-by-date?date=${encodeURIComponent(e.trim())}&type=${encodeURIComponent(t)}`;n&&(r+=`&token=${encodeURIComponent(n)}`),console.log("URL exacta de b\xfasqueda combinada de m\xfaltiples etiquetas y fecha:",r),console.log("Enviando solicitud al endpoint de b\xfasqueda combinada...");const a=(new Date).getTime(),l=await fetch(r),i=(new Date).getTime();if(console.log(`La solicitud tard\xf3 ${i-a} ms en completarse`),!l.ok){const e=await l.json().catch((()=>({})));throw new Error(e.message||`Error ${l.status}`)}const c=await l.json();return console.log(`Se encontraron ${c.length} resultados desde el servidor`),c}catch(m){throw console.error("Error en searchFilesByDate:",m),m}}(t,n),console.log("Resultados finales de b\xfasqueda por fecha:",c)}else l?(console.log("Iniciando b\xfasqueda por contenido:",e),w(e),N(!1),h("Buscando en el contenido de los archivos. Esto puede tardar un momento..."),c=await f(e),c=c.map((e=>({...e,foundByContent:!0}))),console.log("Resultados finales de b\xfasqueda por contenido:",c)):i?(console.log("Iniciando b\xfasqueda por tama\xf1o:",e),w(e),N(!0),c=e):(w(e),N(!1),c=await(async e=>{try{if(!e||!e.trim())throw new Error("Se requiere un t\xe9rmino de b\xfasqueda");console.log("Realizando b\xfasqueda de:",e);const t=(0,o.getAuthToken)();let n=`${s}/search?term=${encodeURIComponent(e.trim())}`;t&&(n+=`&token=${encodeURIComponent(t)}`),console.log("URL de b\xfasqueda con token:",n);const r=await fetch(n);if(!r.ok){const e=await r.json().catch((()=>({})));throw new Error(e.message||`Error ${r.status}`)}return await r.json()}catch(m){throw console.error("Error en searchFiles:",m),m}})(e));a&&(c=c.filter((e=>!e.name.endsWith(".metadata")&&!e.name.endsWith(".youtube.metadata")&&!e.name.endsWith(".audio.metadata")&&!e.name.endsWith(".image.metadata")&&!e.name.endsWith(".access.metadata"))),console.log("Resultados despu\xe9s de filtrar archivos metadata:",c.length)),v(c),b(!0),0===c.length?h(t?`No se encontraron archivos con la etiqueta "${e}"`:n?"No se encontraron archivos para la fecha especificada":i?"No se encontraron archivos con el tama\xf1o especificado":`No se encontraron resultados para "${e}"`):h(null),r&&i&&N(!0)}catch(u){console.error("Error en la b\xfasqueda:",u),h(`Error al realizar la b\xfasqueda: ${u.message}`),b(!1)}finally{p(!1)}},isLoading:d}),m&&(0,j.jsx)("div",{className:"error-message",children:m}),d?(0,j.jsx)("div",{className:"loading",children:"Cargando..."}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(T,{files:g?y:c,currentPath:a,onNavigate:e=>{g&&(b(!1),v([]),w("")),l(e)},userRole:t,onActionComplete:A,isSearchResults:g,isSizeSearch:E,onSelectFile:S,selectedFile:k}),!g&&("admin"===t||(0,o.hasAdminPermission)("create_folders")||(0,o.hasAdminPermission)("delete_folders")||(0,o.hasAdminPermission)("upload_files"))&&(0,j.jsxs)("div",{className:"admin-actions",children:[("admin"===t||(0,o.hasAdminPermission)("create_folders")||(0,o.hasAdminPermission)("delete_folders"))&&(0,j.jsx)(P,{currentPath:a,onActionComplete:A,selectedFile:k}),("admin"===t||(0,o.hasAdminPermission)("upload_files"))&&(0,j.jsx)(_,{currentPath:a,onUploadComplete:A})]})]})]})},R=e=>{let{onLogin:t}=e;const[n,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1);return(0,j.jsx)("div",{className:"login-container",children:(0,j.jsx)("div",{className:"login-card",children:(0,j.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c(""),d(!0),!n||!o)return c("Por favor, introduce usuario y contrase\xf1a"),void d(!1);try{const e=await fetch(`${s}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:o})}),r=await e.json();e.ok&&r.success?t({username:r.user.username,role:r.user.role,bucket:r.user.bucket,token:r.token,type:r.user.type||"static",folders:r.user.folders||[],userId:r.user.userId,loggedInAt:(new Date).toISOString()}):c(r.message||"Credenciales incorrectas")}catch(r){c("Error al iniciar sesi\xf3n"),console.error("Error de inicio de sesi\xf3n:",r)}finally{d(!1)}},className:"login-form",children:[(0,j.jsx)("h2",{className:"login-title",children:"Explorador de Archivos"}),(0,j.jsx)("h3",{className:"login-subtitle",children:"Iniciar Sesi\xf3n"}),i&&(0,j.jsx)("div",{className:"error-message",children:i}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"username",children:"Usuario"}),(0,j.jsx)("input",{type:"text",id:"username",value:n,onChange:e=>a(e.target.value),placeholder:"Introduce tu usuario",required:!0,disabled:u})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),(0,j.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>l(e.target.value),placeholder:"Introduce tu contrase\xf1a",required:!0,disabled:u})]}),(0,j.jsx)("button",{type:"submit",className:"login-button",disabled:u,children:u?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"}),(0,j.jsx)("div",{className:"login-help",children:(0,j.jsx)("p",{children:"Contacte al administrador del sistema para obtener credenciales de acceso."})})]})})})},D=()=>{const[e,t]=(0,r.useState)("idle"),[a,o]=(0,r.useState)("");return(0,j.jsxs)("div",{className:"backup-container",children:[(0,j.jsx)("button",{className:`backup-button ${e}`,onClick:async()=>{try{t("checking"),o("Preparando descarga...");const e=(await Promise.resolve().then(n.bind(n,719))).getAuthToken(),r=`${`${"https://master-production-5386.up.railway.app"}/api/admin/backup`}?token=${encodeURIComponent(e)}`;o("Iniciando descarga..."),window.open(r,"_blank"),o("Descarga iniciada. Por favor, espere mientras se genera el archivo."),setTimeout((()=>{t("idle"),o("")}),5e3)}catch(e){console.error("Error en proceso de backup:",e),t("error"),o(`Error: ${e.message}`)}},disabled:"checking"===e||"downloading"===e,children:"checking"===e?"Verificando...":"downloading"===e?"Generando backup...":"Generar Copia de Seguridad"}),a&&(0,j.jsx)("div",{className:`message ${e}`,children:a}),(0,j.jsx)("style",{jsx:!0,children:"\n        .backup-container {\n          margin: 15px 0;\n          padding: 10px;\n        }\n        \n        .backup-button {\n          background-color: #4CAF50;\n          color: white;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 4px;\n          font-size: 14px;\n          cursor: pointer;\n          transition: background-color 0.3s;\n        }\n        \n        .backup-button:hover {\n          background-color: #45a049;\n        }\n        \n        .backup-button:disabled {\n          background-color: #cccccc;\n          cursor: not-allowed;\n        }\n        \n        .backup-button.checking {\n          background-color: #2196F3;\n        }\n        \n        .backup-button.downloading {\n          background-color: #FF9800;\n        }\n        \n        .backup-button.error {\n          background-color: #f44336;\n        }\n        \n        .message {\n          margin-top: 10px;\n          padding: 8px;\n          border-radius: 4px;\n        }\n        \n        .message.checking {\n          color: #0D47A1;\n          background-color: #E3F2FD;\n        }\n        \n        .message.downloading {\n          color: #E65100;\n          background-color: #FFF3E0;\n        }\n        \n        .message.error {\n          color: #B71C1C;\n          background-color: #FFEBEE;\n        }\n      "})]})},U=e=>{let{onClose:t,onSave:a}=e;const[o,l]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{try{const e=localStorage.getItem("siteSettings");if(e){const t=JSON.parse(e);l(t.title||"Explorador de Archivos"),i(t.subtitle||""),u(t.logo||""),p(t.logo||"")}else l("Explorador de Archivos")}catch(e){console.error("Error al cargar configuraci\xf3n:",e)}}),[]),(0,r.useEffect)((()=>{Promise.resolve().then(n.bind(n,719)).then((e=>{y(!0);const t=e.getAuthToken();g(!0);const n={};t&&(n.Authorization=`Bearer ${t}`),fetch("http://localhost:3001/api/bucket-size",{headers:n}).then((e=>{if(!e.ok)throw new Error("Error al obtener estad\xedsticas de almacenamiento");return e.json()})).then((e=>{console.log("Datos de almacenamiento recibidos:",e),m(e),g(!1)})).catch((e=>{console.error("Error al cargar estad\xedsticas:",e),g(!1)}))}))}),[]);return(0,j.jsx)("div",{className:"site-settings-overlay",children:(0,j.jsxs)("div",{className:"site-settings-container",children:[(0,j.jsx)("h2",{children:"Configuraci\xf3n del Sitio"}),(0,j.jsxs)("div",{className:"settings-form",children:[(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"site-title",children:"T\xedtulo del Sitio:"}),(0,j.jsx)("input",{id:"site-title",type:"text",value:o,onChange:e=>l(e.target.value),placeholder:"T\xedtulo del sitio",className:"settings-input"})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"site-subtitle",children:"Subt\xedtulo:"}),(0,j.jsx)("input",{id:"site-subtitle",type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Subt\xedtulo del sitio",className:"settings-input"})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"site-logo",children:"Logo:"}),(0,j.jsx)("input",{id:"site-logo",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{const t=e.result;u(t),p(t)},e.readAsDataURL(t)}},className:"settings-input"}),d&&(0,j.jsxs)("div",{className:"logo-preview",children:[(0,j.jsx)("p",{children:"Vista previa:"}),(0,j.jsx)("img",{src:d,alt:"Logo preview",style:{maxWidth:"200px",maxHeight:"100px"}})]})]}),b&&(0,j.jsxs)("div",{className:"form-group storage-stats-section",children:[(0,j.jsx)("h3",{children:"Estad\xedsticas de Almacenamiento"}),h?(0,j.jsx)("p",{children:"Cargando estad\xedsticas..."}):f?(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"storage-progress-container",children:[(0,j.jsx)("div",{className:"storage-progress-bar",children:(0,j.jsx)("div",{className:"storage-progress",style:{width:`${f.percentUsed}%`,backgroundColor:f.percentUsed>80?"#ff4d4d":"#4682b4"}})}),(0,j.jsxs)("div",{className:"storage-percentage",children:[f.percentUsed,"%"]})]}),(0,j.jsxs)("div",{className:"storage-details",children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"Espacio utilizado:"})," ",f.sizeMB," MB"]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"Espacio total:"})," ",f.maxSizeMB," MB"]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"Espacio disponible:"})," ",f.remainingMB," MB"]})]})]}):(0,j.jsx)("p",{children:"No se pudieron cargar las estad\xedsticas de almacenamiento."})]}),b&&(0,j.jsxs)("div",{className:"form-group backup-section",children:[(0,j.jsx)("h3",{children:"Copia de Seguridad"}),(0,j.jsx)("p",{children:"Genere una copia de seguridad de todos los archivos del sistema."}),(0,j.jsx)(D,{})]})]}),(0,j.jsxs)("div",{className:"settings-actions",children:[(0,j.jsx)("button",{onClick:()=>{const e={title:o||"Explorador de Archivos",subtitle:s,logo:c};try{localStorage.setItem("siteSettings",JSON.stringify(e)),a&&a(e)}catch(t){console.error("Error al guardar configuraci\xf3n:",t),alert("Error al guardar la configuraci\xf3n")}},className:"save-settings-btn",children:"Guardar"}),(0,j.jsx)("button",{onClick:t,className:"cancel-settings-btn",children:"Cancelar"})]})]})})},L=[{id:"create_folders",label:"Crear carpetas"},{id:"delete_folders",label:"Eliminar carpetas"},{id:"upload_files",label:"Subir archivos"},{id:"delete_files",label:"Eliminar archivos"},{id:"rename_folders",label:"Renombrar carpetas"},{id:"rename_files",label:"Renombrar archivos"},{id:"duplicate_files",label:"Duplicar archivos"},{id:"duplicate_folders",label:"Duplicar carpetas"},{id:"copy_files",label:"Copiar archivos"},{id:"generate_backup",label:"Generar copias de seguridad"},{id:"manage_tags",label:"Gestionar etiquetas"},{id:"manage_users",label:"Gestionar usuarios"},{id:"manage_media_links",label:"Gestionar enlaces multimedia"}],I=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[l,i]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),[d,p]=(0,r.useState)({username:"",password:"",assigned_folders:[],group_name:""}),[f,m]=(0,r.useState)({}),[h,g]=(0,r.useState)(""),[b,x]=(0,r.useState)(!1),[w,k]=(0,r.useState)(""),S=async()=>{a(!0),i("");try{const e=await(async()=>{try{const e=(0,o.getAuthToken)(),t={};e&&(t.Authorization=`Bearer ${e}`);const n=await fetch(`${s}/admin/users`,{headers:t});if(!n.ok)throw new Error("Error al obtener usuarios");return await n.json()}catch(l){throw console.error("Error en getUsers:",l),l}})();if(e.success){console.log("Usuarios cargados:",JSON.stringify(e.users,null,2));const n=e.users.map((e=>{var t;const n=null===(t=e.assigned_folders)||void 0===t?void 0:t.find((e=>"object"===typeof e&&"admin_permissions"===e.type));return n?console.log(`Usuario ${e.username} tiene permisos:`,JSON.stringify(n.permissions,null,2)):console.log(`Usuario ${e.username} no tiene permisos administrativos`),e}));t(n||[])}else i(e.message||"Error al cargar usuarios")}catch(e){i("Error de conexi\xf3n al cargar usuarios"),console.error("Error al cargar usuarios:",e)}finally{a(!1)}};(0,r.useEffect)((()=>{S()}),[]);const E=e=>{const{name:t,value:n}=e.target;p({...d,[t]:n})},N=()=>{const e={...d},t={};let n=!1;if(Object.keys(f).forEach((e=>{!0===f[e]&&(t[e]=!0,n=!0)})),e.assigned_folders=e.assigned_folders.filter((e=>!("object"===typeof e&&"admin_permissions"===e.type))),n){const n={type:"admin_permissions",permissions:t};e.assigned_folders.push(n),console.log("Datos preparados con permisos:",JSON.stringify(n,null,2)),k(JSON.stringify(e.assigned_folders,null,2))}else console.log("No hay permisos activos para guardar"),k("No hay permisos activos para guardar");return e},C=()=>{p({username:"",password:"",assigned_folders:[],group_name:""}),m({}),u(null),x(!1),k("")},T=e=>{var t;const n=null===(t=e.assigned_folders)||void 0===t?void 0:t.find((e=>"object"===typeof e&&"admin_permissions"===e.type));if(!n||!n.permissions)return(0,j.jsx)("span",{children:"Ninguno"});const r=Object.entries(n.permissions).filter((e=>{let[t,n]=e;return!0===n})).map((e=>{let[t,n]=e;const r=L.find((e=>e.id===t));return r?r.label:t}));return 0===r.length?(0,j.jsx)("span",{children:"Ninguno"}):(0,j.jsx)("ul",{className:"user-permissions",children:r.map(((e,t)=>(0,j.jsx)("li",{children:e},t)))})};return(0,j.jsxs)("div",{className:"user-management",children:[(0,j.jsx)("h2",{children:"Gesti\xf3n de Usuarios"}),l&&(0,j.jsx)("div",{className:"error-message",children:l}),(0,j.jsx)("div",{className:"user-management-actions",children:!b&&(0,j.jsx)("button",{onClick:()=>x(!0),className:"btn-create-user",children:"Crear Nuevo Usuario"})}),b&&(0,j.jsxs)("div",{className:"user-form-container",children:[(0,j.jsx)("h3",{children:c?"Editar Usuario":"Crear Nuevo Usuario"}),(0,j.jsxs)("form",{onSubmit:c?async e=>{var t;if(e.preventDefault(),i(""),!c)return;const n=N();n.password||delete n.password,console.log("Enviando datos para actualizar usuario:",JSON.stringify(n,null,2)),console.log("Permisos enviados:",JSON.stringify(f,null,2));const r=null===(t=n.assigned_folders)||void 0===t?void 0:t.some((e=>"object"===typeof e&&"admin_permissions"===e.type));if(console.log("\xbfContiene objeto de permisos?",r),r){const e=n.assigned_folders.find((e=>"object"===typeof e&&"admin_permissions"===e.type));console.log("Objeto de permisos:",JSON.stringify(e,null,2))}try{const e=await y(c.id,n);e.success?(alert("Usuario actualizado correctamente"),console.log("Respuesta del servidor:",JSON.stringify(e,null,2)),C(),S()):(i(e.message||"Error al actualizar usuario"),console.error("Error del servidor:",e))}catch(a){i("Error de conexi\xf3n al actualizar usuario"),console.error("Error al actualizar usuario:",a)}}:async e=>{if(e.preventDefault(),i(""),d.username&&d.password)try{const e=N();console.log("Enviando datos para nuevo usuario:",e);const t=await(async e=>{try{const t=(0,o.getAuthToken)(),n={"Content-Type":"application/json"};t&&(n.Authorization=`Bearer ${t}`);const r=await fetch(`${s}/admin/create-user`,{method:"POST",headers:n,body:JSON.stringify(e)});if(!r.ok)throw new Error("Error al crear usuario");return await r.json()}catch(l){throw console.error("Error en createUser:",l),l}})(e);t.success?(alert("Usuario creado correctamente"),C(),S()):i(t.message||"Error al crear usuario")}catch(t){i("Error de conexi\xf3n al crear usuario"),console.error("Error al crear usuario:",t)}else i("El nombre de usuario y la contrase\xf1a son obligatorios")},children:[(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"username",children:"Nombre de Usuario"}),(0,j.jsx)("input",{type:"text",id:"username",name:"username",value:d.username,onChange:E,required:!0,disabled:c,placeholder:"Nombre de usuario"})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{htmlFor:"password",children:["Contrase\xf1a ",c&&"(dejar en blanco para mantener actual)"]}),(0,j.jsx)("input",{type:"password",id:"password",name:"password",value:d.password,onChange:E,required:!c,placeholder:"Contrase\xf1a"})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"group_name",children:"Grupo (opcional)"}),(0,j.jsx)("input",{type:"text",id:"group_name",name:"group_name",value:d.group_name,onChange:E,placeholder:"Nombre del grupo"})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{children:"Carpetas Asignadas"}),(0,j.jsxs)("div",{className:"folder-input-group",children:[(0,j.jsx)("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Ruta de carpeta (ej. /documentos)"}),(0,j.jsx)("button",{type:"button",onClick:()=>{if(!h)return;const e=h.startsWith("/")?h:`/${h}`;d.assigned_folders.includes(e)?alert("Esta carpeta ya est\xe1 en la lista"):(p({...d,assigned_folders:[...d.assigned_folders,e]}),g(""))},className:"btn-add-folder",children:"A\xf1adir"})]}),(0,j.jsx)("ul",{className:"folder-list",children:d.assigned_folders.map(((e,t)=>(0,j.jsxs)("li",{children:[e,(0,j.jsx)("button",{type:"button",onClick:()=>(e=>{p({...d,assigned_folders:d.assigned_folders.filter((t=>t!==e))})})(e),className:"btn-remove-folder",children:"\xd7"})]},t)))})]}),(0,j.jsxs)("div",{className:"form-group admin-permissions-section",children:[(0,j.jsx)("label",{children:"Permisos Administrativos"}),(0,j.jsx)("p",{className:"help-text",children:"Selecciona los permisos administrativos que deseas asignar a este usuario:"}),(0,j.jsx)("div",{className:"permissions-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"10px",marginTop:"15px"},children:L.map((e=>(0,j.jsxs)("div",{className:"permission-item",style:{display:"flex",alignItems:"center",margin:"5px 0"},children:[(0,j.jsx)("input",{type:"checkbox",id:`perm-${e.id}`,checked:!!f[e.id],onChange:()=>{return t=e.id,void m((e=>{const n={...e,[t]:!e[t]};return console.log("Permisos actualizados:",n),n}));var t},style:{marginRight:"8px"}}),(0,j.jsx)("label",{htmlFor:`perm-${e.id}`,children:e.label})]},e.id)))})]}),w&&(0,j.jsxs)("div",{className:"debug-info",style:{marginTop:"20px",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#f9f9f9"},children:[(0,j.jsx)("h4",{children:"Informaci\xf3n de Permisos (Debug)"}),(0,j.jsx)("pre",{style:{overflow:"auto",maxHeight:"200px"},children:w})]}),(0,j.jsxs)("div",{className:"form-actions",children:[(0,j.jsx)("button",{type:"submit",className:"btn-save",children:c?"Actualizar Usuario":"Crear Usuario"}),(0,j.jsx)("button",{type:"button",onClick:()=>{C()},className:"btn-cancel",children:"Cancelar"})]})]})]}),n?(0,j.jsx)("div",{className:"loading",children:"Cargando usuarios..."}):(0,j.jsxs)("div",{className:"users-list",children:[(0,j.jsx)("h3",{children:"Usuarios Existentes"}),0===e.length?(0,j.jsx)("p",{children:"No hay usuarios creados"}):(0,j.jsxs)("table",{className:"users-table",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"Usuario"}),(0,j.jsx)("th",{children:"Grupo"}),(0,j.jsx)("th",{children:"Carpetas"}),(0,j.jsx)("th",{children:"Permisos Administrativos"}),(0,j.jsx)("th",{children:"Estado"}),(0,j.jsx)("th",{children:"Acciones"})]})}),(0,j.jsx)("tbody",{children:e.map((e=>(0,j.jsxs)("tr",{className:e.active?"":"user-inactive",children:[(0,j.jsx)("td",{children:e.username}),(0,j.jsx)("td",{children:e.group_name||"-"}),(0,j.jsx)("td",{children:e.assigned_folders&&e.assigned_folders.filter((e=>"string"===typeof e)).length>0?(0,j.jsx)("ul",{className:"user-folders",children:e.assigned_folders.filter((e=>"string"===typeof e)).map(((e,t)=>(0,j.jsx)("li",{children:e},t)))}):"-"}),(0,j.jsx)("td",{children:T(e)}),(0,j.jsx)("td",{children:e.active?"Activo":"Inactivo"}),(0,j.jsxs)("td",{children:[(0,j.jsx)("button",{onClick:()=>(e=>{var t;console.log("Usuario a editar:",e),u(e);const n=e.assigned_folders?e.assigned_folders.filter((e=>"string"===typeof e)):[];p({username:e.username,password:"",assigned_folders:n,group_name:e.group_name||""});const r=null===(t=e.assigned_folders)||void 0===t?void 0:t.find((e=>"object"===typeof e&&"admin_permissions"===e.type));console.log("Objeto de permisos encontrado:",r);const a={};if(L.forEach((e=>{a[e.id]=!1})),r&&r.permissions){const e=r.permissions,t={...a};Object.keys(e).forEach((n=>{!0===e[n]&&(t[n]=!0)})),console.log("Permisos combinados:",t),m(t),k(JSON.stringify(r,null,2))}else console.log("No se encontraron permisos, usando valores por defecto"),m(a),k("No se encontraron permisos para este usuario");x(!0)})(e),className:"btn-edit",children:"Editar"}),e.active?(0,j.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas desactivar este usuario?")){i("");try{const t=await v(e);t.success?(alert("Usuario desactivado correctamente"),S()):i(t.message||"Error al desactivar usuario")}catch(t){i("Error de conexi\xf3n al desactivar usuario"),console.error("Error al desactivar usuario:",t)}}})(e.id),className:"btn-delete",children:"Desactivar"}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas reactivar este usuario?")){i("");try{const t=await y(e.id,{active:!0});t.success?(alert("Usuario reactivado correctamente"),S()):i(t.message||"Error al reactivar usuario")}catch(t){i("Error de conexi\xf3n al reactivar usuario"),console.error("Error al reactivar usuario:",t)}}})(e),className:"btn-reactivate",style:{backgroundColor:"#28a745",color:"white",marginRight:"5px"},children:"Reactivar"}),(0,j.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas ELIMINAR PERMANENTEMENTE este usuario? Esta acci\xf3n no se puede deshacer.")){i("");try{const t=await v(e,!0);t.success?(alert("Usuario eliminado permanentemente"),S()):i(t.message||"Error al eliminar usuario")}catch(t){i("Error de conexi\xf3n al eliminar usuario"),console.error("Error al eliminar usuario:",t)}}})(e.id),className:"btn-permanent-delete",style:{backgroundColor:"#dc3545",color:"white"},children:"Eliminar"})]})]})]},e.id)))})]})]})]})},O=()=>{var e,t;const[n,a]=(0,r.useState)([]),[l,i]=(0,r.useState)(null),[c,u]=(0,r.useState)(""),[d,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[h,g]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{try{await b()}catch(f){console.error("Error al cargar datos iniciales:",f),m("Error al cargar etiquetas. Por favor, recarga la p\xe1gina.")}})()}),[]);const b=async()=>{try{m("");const e=await k();if(e&&e.success){const t=[],n=e.tagsByCategory||{};Object.keys(n).forEach((e=>{t.push({id:e,name:e,tags:n[e]||[]})})),0===t.length&&t.push({id:"General",name:"General",tags:[]}),a(t),console.log(`Se cargaron ${t.length} categor\xedas de etiquetas`)}else console.error("Error en la respuesta del servidor:",e),m("Error al cargar etiquetas del servidor")}catch(f){console.error("Error al cargar etiquetas:",f),m("Error al cargar etiquetas. Por favor, intenta de nuevo.")}};return(0,j.jsxs)("div",{className:"tag-manager-container",children:[(0,j.jsx)("h2",{children:"Gestor de Etiquetas"}),(0,j.jsxs)("p",{className:"bucket-info",children:["Administrando etiquetas para bucket: ",(0,j.jsx)("strong",{children:(()=>{try{const t=localStorage.getItem("user_session");if(t){const e=JSON.parse(t);if(e.bucket)return console.log("Obteniendo bucket desde user_session:",e.bucket),e.bucket}const n=localStorage.getItem("authToken");if(n)try{const e=JSON.parse(atob(n));if(e.bucket)return console.log("Obteniendo bucket desde authToken:",e.bucket),e.bucket}catch(e){console.error("Error al decodificar authToken:",e)}}catch(f){console.error("Error al obtener bucket del almacenamiento:",f)}return console.log("Usando bucket por defecto: master"),"master"})()})]}),f&&(0,j.jsx)("div",{className:"error-message",children:f}),h&&(0,j.jsx)("div",{className:"success-message",children:h}),(0,j.jsxs)("div",{className:"tag-manager-layout",children:[(0,j.jsxs)("div",{className:"categories-section",children:[(0,j.jsx)("h3",{children:"Categor\xedas"}),(0,j.jsxs)("div",{className:"add-category-form",children:[(0,j.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Nueva categor\xeda",className:"category-input"}),(0,j.jsx)("button",{onClick:async()=>{if(c.trim())if(n.some((e=>e.name.toLowerCase()===c.trim().toLowerCase())))m("Ya existe una categor\xeda con ese nombre");else try{m("");const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{if(!e)throw new Error("Se requiere nombre de categor\xeda");const n=(0,o.getAuthToken)(),r={"Content-Type":"application/json"};n&&(r.Authorization=`Bearer ${n}`),console.log(`Creando categor\xeda "${e}" con ${t.length} etiquetas iniciales`);const a=await fetch(`${s}/tags/categories`,{method:"POST",headers:r,body:JSON.stringify({category_name:e,tags:t})});if(!a.ok){const e=await a.json().catch((()=>({})));throw new Error(e.message||`Error ${a.status}`)}return await a.json()}catch(f){throw console.error("Error en createTagCategory:",f),f}}(c.trim());e&&e.success?(await b(),u(""),g("Categor\xeda creada correctamente"),setTimeout((()=>g("")),3e3)):(console.error("Error al crear categor\xeda:",e),m("Error al crear categor\xeda. Por favor, intenta de nuevo."))}catch(f){console.error("Error al crear categor\xeda:",f),m("Error al crear categor\xeda. Por favor, intenta de nuevo.")}else m("Por favor, ingresa un nombre para la categor\xeda")},className:"add-btn",children:"A\xf1adir"})]}),(0,j.jsx)("div",{className:"categories-list",children:0===n.length?(0,j.jsx)("p",{className:"no-data-message",children:"No hay categor\xedas disponibles"}):(0,j.jsx)("ul",{children:n.map((e=>(0,j.jsxs)("li",{className:l===e.id?"selected":"",onClick:()=>i(e.id),children:[(0,j.jsx)("span",{className:"category-name",children:e.name}),(0,j.jsxs)("span",{className:"tag-count",children:["(",e.tags.length,")"]}),(0,j.jsx)("button",{className:"delete-btn",onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas eliminar esta categor\xeda y todas sus etiquetas?"))try{m("");const t=n.find((t=>t.id===e));if(!t)return void m("Categor\xeda no encontrada");const r=await k();if(!r.success)return void m("Error al obtener etiquetas");const a=r.tags.filter((e=>e.category===t.name));for(const e of a)await S(e.id);await b(),l===e&&i(null),g("Categor\xeda eliminada correctamente"),setTimeout((()=>g("")),3e3)}catch(f){console.error("Error al eliminar categor\xeda:",f),m("Error al eliminar categor\xeda. Por favor, intenta de nuevo.")}})(e.id)},children:"\xd7"})]},e.id)))})})]}),(0,j.jsxs)("div",{className:"tags-section",children:[(0,j.jsx)("h3",{children:"Etiquetas"}),l?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"add-tag-form",children:[(0,j.jsx)("input",{type:"text",value:d,onChange:e=>p(e.target.value),placeholder:"Nueva etiqueta",className:"tag-input"}),(0,j.jsx)("button",{onClick:async()=>{if(!l)return void m("Por favor, selecciona una categor\xeda primero");if(!d.trim())return void m("Por favor, ingresa un nombre para la etiqueta");const e=n.find((e=>e.id===l));if(e)if(e.tags.includes(d.trim()))m("Esta etiqueta ya existe en la categor\xeda seleccionada");else try{m("");const t=await(async(e,t)=>{try{if(!e||!t)throw new Error("Se requiere nombre de etiqueta y categor\xeda");const n=(0,o.getAuthToken)(),r={"Content-Type":"application/json"};n&&(r.Authorization=`Bearer ${n}`),console.log(`Creando etiqueta "${e}" en categor\xeda "${t}"`);const a=await fetch(`${s}/tags`,{method:"POST",headers:r,body:JSON.stringify({tag_name:e,category:t})});if(!a.ok){const e=await a.json().catch((()=>({})));throw new Error(e.message||`Error ${a.status}`)}return await a.json()}catch(f){throw console.error("Error en createTag:",f),f}})(d.trim(),e.name);t&&t.success?(await b(),p(""),g("Etiqueta a\xf1adida correctamente"),setTimeout((()=>g("")),3e3)):(console.error("Error al crear etiqueta:",t),m("Error al crear etiqueta. Por favor, intenta de nuevo."))}catch(f){console.error("Error al crear etiqueta:",f),m("Error al crear etiqueta. Por favor, intenta de nuevo.")}else m("Categor\xeda no encontrada")},className:"add-btn",children:"A\xf1adir"})]}),(0,j.jsx)("div",{className:"tags-list",children:0===(null===(e=n.find((e=>e.id===l)))||void 0===e?void 0:e.tags.length)?(0,j.jsx)("p",{className:"no-data-message",children:"No hay etiquetas en esta categor\xeda"}):(0,j.jsx)("div",{className:"tags-container",children:null===(t=n.find((e=>e.id===l)))||void 0===t?void 0:t.tags.map(((e,t)=>(0,j.jsxs)("div",{className:"tag",children:[e,(0,j.jsx)("button",{className:"delete-tag-btn",onClick:()=>(async(e,t)=>{try{m("");const r=n.find((t=>t.id===e));if(!r)return void m("Categor\xeda no encontrada");const a=await k();if(!a.success)return void m("Error al obtener etiquetas");const o=a.tags.find((e=>e.category===r.name&&e.tag_name===t));if(!o)return void m("Etiqueta no encontrada");const l=await S(o.id);l&&l.success?(await b(),g("Etiqueta eliminada correctamente"),setTimeout((()=>g("")),3e3)):(console.error("Error al eliminar etiqueta:",l),m("Error al eliminar etiqueta. Por favor, intenta de nuevo."))}catch(f){console.error("Error al eliminar etiqueta:",f),m("Error al eliminar etiqueta. Por favor, intenta de nuevo.")}})(l,e),children:"\xd7"})]},t)))})})]}):(0,j.jsx)("p",{className:"select-category-message",children:"Selecciona una categor\xeda para ver y gestionar sus etiquetas"})]})]})]})},q=()=>{const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),s=()=>{try{const e=localStorage.getItem("user_session");if(e){return"admin"===JSON.parse(e).role}return!1}catch(o){return console.error("Error al verificar rol de usuario:",o),!1}},i=()=>{try{const r=localStorage.getItem("user_session");if(r)try{const e=JSON.parse(r);if(e.bucket)return console.log("Obteniendo bucket desde user_session:",e.bucket),e.bucket}catch(e){console.error("Error al parsear user_session:",e)}const a=localStorage.getItem("authToken");if(a)try{const e=atob(a);try{const t=JSON.parse(e);if(t.bucket)return console.log("Obteniendo bucket desde authToken (decodificado):",t.bucket),t.bucket}catch(t){console.error("Error al parsear JSON del token:",t)}}catch(n){console.warn("El token no est\xe1 en formato base64, probando como JSON directo");try{const e=JSON.parse(a);if(e.bucket)return console.log("Obteniendo bucket desde authToken (JSON directo):",e.bucket),e.bucket}catch(t){console.error("Error al parsear authToken como JSON:",t)}}const o=localStorage.getItem("currentBucket");return o?(console.log("Obteniendo bucket desde localStorage directamente:",o),o):(console.error("No se pudo obtener el bucket de ninguna fuente"),null)}catch(o){return console.error("Error general al obtener el bucket:",o),null}};return s()?(0,j.jsxs)("div",{className:"backup-manager",children:[(0,j.jsx)("h2",{children:"Gesti\xf3n de Copias de Seguridad"}),(0,j.jsx)("p",{children:"Esta herramienta le permite generar una copia de seguridad completa de todos los archivos y carpetas en su bucket."}),(0,j.jsxs)("div",{className:"backup-buttons",children:[(0,j.jsx)("button",{onClick:async()=>{if(s())try{t(!0),a("Iniciando generaci\xf3n de copia de seguridad..."),l("");const e=i();if(!e)throw new Error("No se pudo determinar el bucket actual");const n=localStorage.getItem("authToken");console.log(`Generando copia de seguridad para bucket: ${e}`);const r="https://master-production-5386.up.railway.app";console.log(`Usando URL de backend: ${r}`);const o=await fetch(`${r}/api/admin/backup?bucket=${encodeURIComponent(e)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`}});if(!o.ok){const e=await o.text();throw console.error("Error en la respuesta del servidor:",e),new Error(`Error ${o.status}: ${o.statusText}`)}console.log("Respuesta del servidor recibida, creando blob...");const s=o.headers.get("content-type");console.log("Tipo de contenido recibido:",s);const c=await o.blob();if(console.log("Tama\xf1o del blob:",c.size),0===c.size){console.warn("El archivo generado est\xe1 vac\xedo. Intentando m\xe9todo directo...");const t=`${r}/api/admin/backup?bucket=${encodeURIComponent(e)}&token=${encodeURIComponent(n)}`;return console.log("Iniciando descarga directa desde:",t),window.open(t,"_blank"),void a("Se ha abierto una nueva pesta\xf1a para la descarga directa. Si no ves el archivo, verifica el bloqueador de popups.")}const u=window.URL.createObjectURL(c),d=document.createElement("a");d.style.display="none",d.href=u,d.download=`backup-${e}-${(new Date).toISOString().slice(0,10)}.zip`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(u),document.body.removeChild(d),a("La copia de seguridad se ha generado correctamente. Se ha iniciado la descarga del archivo.")}catch(o){console.error("Error al generar copia de seguridad:",o),l(`Error: ${o.message||"No se pudo generar la copia de seguridad"}`),a("")}finally{setTimeout((()=>{t(!1)}),2e3)}else l("Solo los administradores pueden realizar copias de seguridad")},disabled:e,className:"backup-button main-button",children:e?"Generando copia...":"Generar copia de seguridad"}),(0,j.jsx)("button",{onClick:()=>{const e=localStorage.getItem("authToken"),t=i();if(t){const n=`https://master-production-5386.up.railway.app/api/admin/backup?bucket=${encodeURIComponent(t)}&token=${encodeURIComponent(e)}`;console.log("Iniciando descarga directa desde:",n),window.open(n,"_blank")}else l("No se pudo determinar el bucket actual")},disabled:e,className:"backup-button direct-button",style:{marginLeft:"10px",background:"#4a6da7"},children:"Descarga directa (alternativa)"})]}),n&&(0,j.jsx)("div",{className:"success-message",children:n}),o&&(0,j.jsx)("div",{className:"error-message",children:o}),(0,j.jsxs)("div",{className:"backup-info",children:[(0,j.jsx)("h3",{children:"Informaci\xf3n importante:"}),(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:"La copia de seguridad incluir\xe1 todos los archivos y carpetas de su bucket actual."}),(0,j.jsx)("li",{children:"El proceso puede tardar varios minutos dependiendo del tama\xf1o de sus datos."}),(0,j.jsx)("li",{children:"El archivo se generar\xe1 en formato ZIP."}),(0,j.jsx)("li",{children:"Se abrir\xe1 el di\xe1logo de su navegador para que elija d\xf3nde guardar el archivo."}),(0,j.jsx)("li",{children:'Si el m\xe9todo principal no funciona, usa el bot\xf3n "Descarga directa (alternativa)".'}),(0,j.jsx)("li",{children:"El bot\xf3n alternativo abrir\xe1 una nueva pesta\xf1a para la descarga directa desde el servidor."}),(0,j.jsx)("li",{children:"Esta funcionalidad est\xe1 disponible solo para administradores."})]})]})]}):null},F=e=>{let{onToggleSettings:t,onToggleUserManagement:n,onToggleTagManager:a,onToggleBackupManager:o,onToggleDashboard:l}=e;const[s,i]=(0,r.useState)(!1),c=(0,r.useRef)(null);return(0,r.useEffect)((()=>{function e(e){c.current&&!c.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,j.jsxs)("div",{className:"config-menu-container",ref:c,children:[(0,j.jsx)("button",{onClick:()=>{i(!s)},className:"config-menu-btn",children:"\u2699\ufe0f Administraci\xf3n"}),s&&(0,j.jsxs)("div",{className:"config-menu-dropdown",children:[(0,j.jsx)("button",{onClick:()=>{t(),i(!1)},children:"\u2699\ufe0f Configuraci\xf3n del Sitio"}),(0,j.jsx)("button",{onClick:()=>{n(),i(!1)},children:"\ud83d\udc65 Gesti\xf3n de Usuarios y Permisos"}),(0,j.jsx)("button",{onClick:()=>{a(),i(!1)},children:"\ud83c\udff7\ufe0f Administraci\xf3n de Taxonom\xedas y Etiquetas"}),(0,j.jsx)("button",{onClick:()=>{o(),i(!1)},children:"\ud83d\udcbe Copias de Seguridad y Restauraci\xf3n"}),l&&(0,j.jsx)("button",{onClick:()=>{l(),i(!1)},children:"\ud83d\udcca Dashboard de M\xe9tricas del Sistema"})]})]})},B=e=>{let{onClose:t}=e;const[n,a]=(0,r.useState)({totalFiles:0,totalFolders:0,totalUsers:3,storageUsed:"0 MB",storageTotal:"1 GB",storagePercentage:0,recentUploads:0,recentDownloads:0});return(0,r.useEffect)((()=>{setTimeout((()=>{const e=Math.round(11.369140625);a({totalFiles:217,totalFolders:35,totalUsers:3,storageUsed:"116.42 MB",storageTotal:"1 GB",storagePercentage:e,recentUploads:7,recentDownloads:12})}),1e3)}),[]),(0,j.jsxs)("div",{className:"dashboard-container",children:[(0,j.jsx)("h2",{children:"Dashboard de M\xe9tricas del Sistema"}),(0,j.jsxs)("div",{className:"dashboard-grid",children:[(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("h3",{children:"Archivos"}),(0,j.jsx)("p",{className:"metric-value",children:n.totalFiles}),(0,j.jsx)("p",{className:"metric-description",children:"Total de archivos en el sistema"})]}),(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("h3",{children:"Carpetas"}),(0,j.jsx)("p",{className:"metric-value",children:n.totalFolders}),(0,j.jsx)("p",{className:"metric-description",children:"Total de carpetas creadas"})]}),(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("h3",{children:"Usuarios"}),(0,j.jsx)("p",{className:"metric-value",children:n.totalUsers}),(0,j.jsx)("p",{className:"metric-description",children:"Usuarios registrados"})]}),(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("h3",{children:"Almacenamiento"}),(0,j.jsxs)("div",{className:"storage-progress-container",children:[(0,j.jsx)("div",{className:"storage-progress-bar",children:(0,j.jsx)("div",{className:"storage-progress",style:{width:`${n.storagePercentage}%`,backgroundColor:n.storagePercentage>90?"#dc3545":n.storagePercentage>70?"#ffc107":"#28a745"}})}),(0,j.jsxs)("span",{className:"storage-percentage",children:[n.storagePercentage,"%"]})]}),(0,j.jsxs)("p",{className:"metric-description",children:[n.storageUsed," de ",n.storageTotal," usados"]})]}),(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("h3",{children:"Actividad Reciente"}),(0,j.jsxs)("div",{className:"activity-stats",children:[(0,j.jsxs)("div",{className:"activity-item",children:[(0,j.jsx)("span",{className:"activity-icon",children:"\u2b06\ufe0f"}),(0,j.jsx)("span",{className:"activity-value",children:n.recentUploads}),(0,j.jsx)("span",{className:"activity-label",children:"Subidas (7 d\xedas)"})]}),(0,j.jsxs)("div",{className:"activity-item",children:[(0,j.jsx)("span",{className:"activity-icon",children:"\u2b07\ufe0f"}),(0,j.jsx)("span",{className:"activity-value",children:n.recentDownloads}),(0,j.jsx)("span",{className:"activity-label",children:"Descargas (7 d\xedas)"})]})]})]})]}),(0,j.jsx)("button",{onClick:t,className:"close-dashboard-btn",children:"Cerrar Dashboard"})]})};const M=function(){const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)(""),[l,s]=(0,r.useState)(""),[i,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[x,w]=(0,r.useState)({title:"Contenedor de Documentos",subtitle:"Sistema Integral de Gestion",logo:""});(0,r.useEffect)((()=>{const e=localStorage.getItem("user_session");if(console.log("[APP-DEBUG] Al cargar, estado de localStorage:",{user_session:e,user:localStorage.getItem("user")}),e){const n=JSON.parse(e);console.log("[APP-DEBUG] Datos de usuario cargados:",n),t(!0),a(n.role),s(n.username)}try{const e=localStorage.getItem("siteSettings");e&&w(JSON.parse(e))}catch(n){console.error("Error al cargar configuraci\xf3n del sitio:",n)}c(!1)}),[]);const k=()=>{d(!u),u||(f(!1),h(!1),b(!1))},S=()=>{f(!p),p||(d(!1),h(!1),b(!1))},E=()=>{h(!m),m||(d(!1),f(!1),b(!1))},N=()=>{b(!g),g||(d(!1),f(!1),h(!1),v(!1))},C=()=>{v(!y),y||(d(!1),f(!1),h(!1),b(!1))};return i?(0,j.jsx)("div",{className:"loading-container",children:"Cargando..."}):(0,j.jsxs)("div",{className:"app-container",children:[(0,j.jsxs)("header",{className:"app-header",children:[(0,j.jsxs)("div",{className:"site-branding",children:[x.logo&&(0,j.jsx)("img",{src:x.logo,alt:"Logo",className:"site-logo"}),(0,j.jsxs)("div",{className:"site-titles",children:[(0,j.jsx)("h1",{children:x.title}),x.subtitle&&(0,j.jsx)("h2",{className:"site-subtitle",children:x.subtitle})]})]}),e&&(0,j.jsxs)("div",{className:"user-info",children:[(0,j.jsxs)("span",{children:["Bienvenido, ",l]}),(0,j.jsx)("span",{className:"user-role",children:"admin"===n?"Administrador":"Usuario"}),(0,j.jsxs)("span",{className:"user-bucket",children:["Bucket: ",localStorage.getItem("user_session")&&JSON.parse(localStorage.getItem("user_session")).bucket||"No definido"]}),"admin"===n&&(0,j.jsx)(F,{onToggleSettings:k,onToggleUserManagement:S,onToggleTagManager:E,onToggleBackupManager:N,onToggleDashboard:C}),"admin"===!n&&(0,o.hasAdminPermission)("manage_tags")&&(0,j.jsx)("button",{onClick:E,className:"tags-btn",children:"\ud83c\udff7\ufe0f Gesti\xf3n Etiquetas"}),(0,j.jsx)("button",{onClick:()=>{console.log("[APP-DEBUG] Cerrando sesi\xf3n de usuario"),t(!1),a(""),s(""),localStorage.removeItem("user"),localStorage.removeItem("user_session"),console.log("[APP-DEBUG] Sesi\xf3n eliminada de localStorage")},className:"logout-btn",children:"Cerrar Sesi\xf3n"})]})]}),(0,j.jsx)("main",{className:"app-content",children:e?(0,j.jsx)(z,{userRole:n,username:l}):(0,j.jsx)(R,{onLogin:e=>{console.log("[APP-DEBUG] Datos recibidos en handleLogin:",e),t(!0),a(e.role),s(e.username),localStorage.setItem("user_session",JSON.stringify(e)),localStorage.setItem("user",JSON.stringify(e)),console.log("[APP-DEBUG] Datos guardados en localStorage:",{user_session:localStorage.getItem("user_session"),user:localStorage.getItem("user")})}})}),(0,j.jsx)("footer",{className:"app-footer",children:(0,j.jsxs)("p",{children:["\xa9 2025 - ",x.title]})}),u&&(0,j.jsx)(U,{onClose:k,onSave:e=>{w(e),d(!1)}}),p&&"admin"===n&&(0,j.jsx)("div",{className:"modal-overlay",children:(0,j.jsxs)("div",{className:"modal-content",children:[(0,j.jsx)("button",{onClick:S,className:"close-modal",children:"\xd7"}),(0,j.jsx)(I,{})]})}),m&&("admin"===n||(0,o.hasAdminPermission)("manage_tags"))&&(0,j.jsx)("div",{className:"modal-overlay tag-manager-modal",children:(0,j.jsxs)("div",{className:"modal-content tag-manager-modal-content",children:[(0,j.jsx)("button",{onClick:E,className:"close-modal",children:"\xd7"}),(0,j.jsx)(O,{})]})}),g&&"admin"===n&&(0,j.jsx)("div",{className:"modal-overlay backup-manager-modal",children:(0,j.jsxs)("div",{className:"modal-content backup-manager-modal-content",children:[(0,j.jsx)("button",{onClick:N,className:"close-modal",children:"\xd7"}),(0,j.jsx)(q,{})]})}),y&&"admin"===n&&(0,j.jsx)("div",{className:"modal-overlay dashboard-modal",children:(0,j.jsxs)("div",{className:"modal-content dashboard-modal-content",children:[(0,j.jsx)("button",{onClick:C,className:"close-modal",children:"\xd7"}),(0,j.jsx)(B,{onClose:C})]})})]})},W=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:l}=t;n(e),r(e),a(e),o(e),l(e)}))};a.createRoot(document.getElementById("root")).render((0,j.jsx)(r.StrictMode,{children:(0,j.jsx)(M,{})})),W()})();
//# sourceMappingURL=main.e57e39a2.js.map